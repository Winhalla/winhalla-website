import{S as a,i as e,s,f as t,x as i,D as n,d as r,l as o,y as c,a as l,z as d,Q as f,A as m,B as p,C as u,F as h,G as $,M as k,V as g}from"./client.5b4ee8c3.js";import{c as x}from"./index.f2cf2075.js";import{L as y}from"./Loading.bdeacd9c.js";const{document:z}=$;function j(a){let e,s,h;return s=new y({props:{data:"Redirecting..."}}),{c(){e=t(),i(s.$$.fragment),this.h()},l(a){n('[data-svelte="svelte-1y0zdz3"]',z.head).forEach(r),e=o(a),c(s.$$.fragment,a),this.h()},h(){z.title="Redirecting..."},m(a,t){l(a,e,t),d(s,a,t),h=!0},p:f,i(a){h||(m(s.$$.fragment,a),h=!0)},o(a){p(s.$$.fragment,a),h=!1},d(a){a&&r(e),u(s,a)}}}async function L({params:a,query:e}){return{link:a.id}}function b(a,e,s){let{link:t}=e;return h((async()=>{document.cookie=x.serialize("affiliateLinkId",t,{maxAge:15552e3,sameSite:"lax",path:"/"}),await k("post","/linkCheckpoint/"+t),g("/")})),a.$$set=a=>{"link"in a&&s(0,t=a.link)},[t]}export default class extends a{constructor(a){super(),e(this,a,b,j,s,{link:0})}}export{L as preload};
