import{S as a,i as s,s as e,f as t,x as i,D as n,d as r,l as o,y as c,a as l,z as d,Q as f,A as m,B as p,C as u,F as h,G as $,M as k,T as g}from"./client.3a33b75e.js";import{c as x}from"./index.f2cf2075.js";import{L as y}from"./Loading.2b7edb5d.js";const{document:z}=$;function b(a){let s,e,h;return e=new y({props:{data:"Redirecting..."}}),{c(){s=t(),i(e.$$.fragment),this.h()},l(a){n('[data-svelte="svelte-1y0zdz3"]',z.head).forEach(r),s=o(a),c(e.$$.fragment,a),this.h()},h(){z.title="Redirecting..."},m(a,t){l(a,s,t),d(e,a,t),h=!0},p:f,i(a){h||(m(e.$$.fragment,a),h=!0)},o(a){p(e.$$.fragment,a),h=!1},d(a){a&&r(s),u(e,a)}}}async function j({params:a,query:s}){return{link:a.id}}function L(a,s,e){let{link:t}=s;return h((async()=>{document.cookie=x.serialize("affiliateLinkId",t,{maxAge:15552e3,sameSite:"lax",path:"/"}),await k("post","/linkCheckpoint/"+t),g("/")})),a.$$set=a=>{"link"in a&&e(0,t=a.link)},[t]}export default class extends a{constructor(a){super(),s(this,a,L,b,e,{link:0})}}export{j as preload};
