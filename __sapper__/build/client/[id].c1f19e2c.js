import{S as e,i as a,s as t,e as s,a as r,t as l,c as n,g as c,f as o,h as i,d,j as h,F as f,l as m,k as u,n as p,M as g,L as v,o as y,p as E,r as x,u as b,v as w,w as I,q as D,x as $,y as k,V,E as P,z as T,B,A,m as R,C as M,b as j,H as G,D as S}from"./client.a1c42b53.js";import{R as F}from"./RefreshButton.01ca942a.js";import{L as H}from"./Loading.2e61f471.js";import{b as W,I as Y}from"./Infos.59adb621.js";function L(e,a,t){const s=e.slice();return s[0]=a[t],s[4]=t,s}function U(e,a,t){const s=e.slice();return s[5]=a[t],s}function C(e,a,t){const s=e.slice();return s[5]=a[t],s[4]=t,s}function N(e,a,t){const s=e.slice();return s[5]=a[t],s[4]=t,s}function O(e,a,t){const s=e.slice();return s[5]=a[t],s[4]=t,s}function Q(e){let a,t,g,v,y,E,x,b,w,I,D,$,k,V,P,T,B,A=e[5].username+"",R=e[5].wins+"";return{c(){a=s("div"),t=s("div"),g=s("div"),v=s("img"),x=r(),b=s("p"),w=l(A),I=r(),D=s("div"),$=s("p"),k=l("Games won: "),V=s("b"),P=l(R),T=l("/8"),B=r(),this.h()},l(e){a=n(e,"DIV",{});var s=c(a);t=n(s,"DIV",{});var r=c(t);g=n(r,"DIV",{class:!0});var l=c(g);v=n(l,"IMG",{src:!0,alt:!0,class:!0}),x=o(l),b=n(l,"P",{class:!0});var h=c(b);w=i(h,A),h.forEach(d),I=o(l),D=n(l,"DIV",{class:!0});var f=c(D);$=n(f,"P",{});var m=c($);k=i(m,"Games won: "),V=n(m,"B",{class:!0});var u=c(V);P=i(u,R),u.forEach(d),T=i(m,"/8"),m.forEach(d),f.forEach(d),l.forEach(d),r.forEach(d),B=o(s),s.forEach(d),this.h()},h(){v.src!==(y="/assets/CharactersBanners/"+e[5].legends+".png")&&h(v,"src",y),h(v,"alt",E=e[5].legends),h(v,"class","block"),h(b,"class","player-name text-4xl svelte-1dsvpkg"),h(V,"class","svelte-1dsvpkg"),h(D,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),h(g,"class","ffa-player card user svelte-1dsvpkg"),f(a,"lg:ml-10",e[4]>0)},m(e,s){m(e,a,s),u(a,t),u(t,g),u(g,v),u(g,x),u(g,b),u(b,w),u(g,I),u(g,D),u(D,$),u($,k),u($,V),u(V,P),u($,T),u(a,B)},p:p,d(e){e&&d(a)}}}function z(e){let a,t,f,g,v,y,E,x,b,w,I,D,$,k,V,P,T,B=e[5].username+"",A=e[5].wins+"";return{c(){a=s("div"),t=s("div"),f=s("div"),g=s("img"),E=r(),x=s("p"),b=l(B),w=r(),I=s("div"),D=s("p"),$=l("Games won: "),k=s("b"),V=l(A),P=l("/8"),T=r(),this.h()},l(e){a=n(e,"DIV",{class:!0});var s=c(a);t=n(s,"DIV",{});var r=c(t);f=n(r,"DIV",{class:!0});var l=c(f);g=n(l,"IMG",{src:!0,alt:!0,class:!0}),E=o(l),x=n(l,"P",{class:!0});var h=c(x);b=i(h,B),h.forEach(d),w=o(l),I=n(l,"DIV",{class:!0});var m=c(I);D=n(m,"P",{});var u=c(D);$=i(u,"Games won: "),k=n(u,"B",{class:!0});var p=c(k);V=i(p,A),p.forEach(d),P=i(u,"/8"),u.forEach(d),m.forEach(d),l.forEach(d),r.forEach(d),T=o(s),s.forEach(d),this.h()},h(){g.src!==(v="/assets/CharactersBanners/"+e[5].legends+".png")&&h(g,"src",v),h(g,"alt",y=e[5].legends),h(g,"class","block"),h(x,"class","player-name text-4xl svelte-1dsvpkg"),h(k,"class","svelte-1dsvpkg"),h(I,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),h(f,"class","ffa-player card user svelte-1dsvpkg"),h(a,"class","mt-10 lg:ml-10")},m(e,s){m(e,a,s),u(a,t),u(t,f),u(f,g),u(f,E),u(f,x),u(x,b),u(f,w),u(f,I),u(I,D),u(D,$),u(D,k),u(k,V),u(D,P),u(a,T)},p:p,d(e){e&&d(a)}}}function q(e){let a,t,f,g,v,y,E,x,b,w,I,D,$,k,V,P,T,B=e[5].username+"",A=e[5].wins+"";return{c(){a=s("div"),t=s("div"),f=s("div"),g=s("img"),E=r(),x=s("p"),b=l(B),w=r(),I=s("div"),D=s("p"),$=l("Games won: "),k=s("b"),V=l(A),P=l("/8"),T=r(),this.h()},l(e){a=n(e,"DIV",{class:!0});var s=c(a);t=n(s,"DIV",{});var r=c(t);f=n(r,"DIV",{class:!0});var l=c(f);g=n(l,"IMG",{src:!0,alt:!0,class:!0}),E=o(l),x=n(l,"P",{class:!0});var h=c(x);b=i(h,B),h.forEach(d),w=o(l),I=n(l,"DIV",{class:!0});var m=c(I);D=n(m,"P",{});var u=c(D);$=i(u,"Games won: "),k=n(u,"B",{class:!0});var p=c(k);V=i(p,A),p.forEach(d),P=i(u,"/8"),u.forEach(d),m.forEach(d),l.forEach(d),r.forEach(d),T=o(s),s.forEach(d),this.h()},h(){g.src!==(v="/assets/CharactersBanners/"+e[5].legends+".png")&&h(g,"src",v),h(g,"alt",y=e[5].legends),h(g,"class","block"),h(x,"class","player-name text-4xl svelte-1dsvpkg"),h(k,"class","svelte-1dsvpkg"),h(I,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),h(f,"class","ffa-player card user svelte-1dsvpkg"),h(a,"class","mt-10 lg:mt-20 lg:ml-10")},m(e,s){m(e,a,s),u(a,t),u(t,f),u(f,g),u(f,E),u(f,x),u(x,b),u(f,w),u(f,I),u(I,D),u(D,$),u(D,k),u(k,V),u(D,P),u(a,T)},p:p,d(e){e&&d(a)}}}function J(e){let a,t=(e[5].avatarURL||e[5].username)&&function(e){let a,t,f,g,v,y,E,x,b,w,I,D,$,k,V,P,T,B,A,R,M,j,G,S,F=e[4]+1+"",H=e[5].username+"",W=e[5].wins+"",Y=e[5].coinsEarned+"",L=e[5].multiplier+"";return{c(){a=s("tr"),t=s("td"),f=s("b"),g=l(F),v=r(),y=s("td"),E=s("img"),w=r(),I=s("p"),D=l(H),$=r(),k=s("td"),V=s("b"),P=l(W),T=l("/8"),B=r(),A=s("td"),R=l(Y),M=r(),j=s("td"),G=l(L),S=r(),this.h()},l(e){a=n(e,"TR",{});var s=c(a);t=n(s,"TD",{class:!0});var r=c(t);f=n(r,"B",{class:!0});var l=c(f);g=i(l,F),l.forEach(d),r.forEach(d),v=o(s),y=n(s,"TD",{class:!0});var h=c(y);E=n(h,"IMG",{class:!0,src:!0,alt:!0}),w=o(h),I=n(h,"P",{class:!0});var m=c(I);D=i(m,H),m.forEach(d),h.forEach(d),$=o(s),k=n(s,"TD",{class:!0});var u=c(k);V=n(u,"B",{class:!0});var p=c(V);P=i(p,W),p.forEach(d),T=i(u,"/8"),u.forEach(d),B=o(s),A=n(s,"TD",{class:!0});var x=c(A);R=i(x,Y),x.forEach(d),M=o(s),j=n(s,"TD",{class:!0});var b=c(j);G=i(b,L),b.forEach(d),S=o(s),s.forEach(d),this.h()},h(){h(f,"class","font-normal svelte-1dsvpkg"),h(t,"class","px-6 py-2"),h(E,"class","block w-10 h-10 rounded-full"),E.src!==(x=e[5].avatarURL)&&h(E,"src",x),h(E,"alt",b=e[5].legends),h(I,"class","pl-2"),h(y,"class","flex items-center px-6 py-2"),h(V,"class","text-primary font-normal svelte-1dsvpkg"),h(k,"class","px-6 py-2"),h(A,"class","px-6 py-2"),h(j,"class","px-6 py-2")},m(e,s){m(e,a,s),u(a,t),u(t,f),u(f,g),u(a,v),u(a,y),u(y,E),u(y,w),u(y,I),u(I,D),u(a,$),u(a,k),u(k,V),u(V,P),u(k,T),u(a,B),u(a,A),u(A,R),u(a,M),u(a,j),u(j,G),u(a,S)},p:p,d(e){e&&d(a)}}}(e);return{c(){t&&t.c(),a=g()},l(e){t&&t.l(e),a=g()},m(e,s){t&&t.m(e,s),m(e,a,s)},p(e,a){(e[5].avatarURL||e[5].username)&&t.p(e,a)},d(e){t&&t.d(e),e&&d(a)}}}function X(e){let a,t=e[0],s=[];for(let a=0;a<t.length;a+=1)s[a]=J(U(e,t,a));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();a=g()},l(e){for(let a=0;a<s.length;a+=1)s[a].l(e);a=g()},m(e,t){for(let a=0;a<s.length;a+=1)s[a].m(e,t);m(e,a,t)},p(e,r){if(2&r){let l;for(t=e[0],l=0;l<t.length;l+=1){const n=U(e,t,l);s[l]?s[l].p(n,r):(s[l]=J(n),s[l].c(),s[l].m(a.parentNode,a))}for(;l<s.length;l+=1)s[l].d(1);s.length=t.length}},d(e){v(s,e),e&&d(a)}}}function Z(e){let a,t,f,y,E,x,b,w,I,D,$,k,V,P,T,B,A,R,M,j,G,S,F,H,W,Y,U,J,Z,K,_,ee,ae,te=e[1][0],se=[];for(let a=0;a<te.length;a+=1)se[a]=Q(O(e,te,a));let re=""!==e[1][1]&&function(e){let a,t=e[1][1],s=[];for(let a=0;a<t.length;a+=1)s[a]=z(N(e,t,a));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();a=g()},l(e){for(let a=0;a<s.length;a+=1)s[a].l(e);a=g()},m(e,t){for(let a=0;a<s.length;a+=1)s[a].m(e,t);m(e,a,t)},p(e,r){if(2&r){let l;for(t=e[1][1],l=0;l<t.length;l+=1){const n=N(e,t,l);s[l]?s[l].p(n,r):(s[l]=z(n),s[l].c(),s[l].m(a.parentNode,a))}for(;l<s.length;l+=1)s[l].d(1);s.length=t.length}},d(e){v(s,e),e&&d(a)}}}(e),le=""!==e[1][2]&&function(e){let a,t=e[1][2],s=[];for(let a=0;a<t.length;a+=1)s[a]=q(C(e,t,a));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();a=g()},l(e){for(let a=0;a<s.length;a+=1)s[a].l(e);a=g()},m(e,t){for(let a=0;a<s.length;a+=1)s[a].m(e,t);m(e,a,t)},p(e,r){if(2&r){let l;for(t=e[1][2],l=0;l<t.length;l+=1){const n=C(e,t,l);s[l]?s[l].p(n,r):(s[l]=q(n),s[l].c(),s[l].m(a.parentNode,a))}for(;l<s.length;l+=1)s[l].d(1);s.length=t.length}},d(e){v(s,e),e&&d(a)}}}(e),ne=e[1],ce=[];for(let a=0;a<ne.length;a+=1)ce[a]=X(L(e,ne,a));return{c(){a=s("div"),t=s("div"),f=s("div"),y=s("h1"),E=l("Match Ended"),x=r(),b=s("div"),w=s("div");for(let e=0;e<se.length;e+=1)se[e].c();I=r(),re&&re.c(),D=r(),le&&le.c(),$=r(),k=s("div"),V=s("div"),P=s("div"),T=s("table"),B=s("thead"),A=s("tr"),R=s("td"),M=l("Rank"),j=r(),G=s("td"),S=l("Player"),F=r(),H=s("td"),W=l("Wins"),Y=r(),U=s("td"),J=l("Earned"),Z=r(),K=s("td"),_=l("Multiplier"),ee=r(),ae=s("tbody");for(let e=0;e<ce.length;e+=1)ce[e].c();this.h()},l(e){a=n(e,"DIV",{class:!0});var s=c(a);t=n(s,"DIV",{class:!0});var r=c(t);f=n(r,"DIV",{class:!0});var l=c(f);y=n(l,"H1",{class:!0});var h=c(y);E=i(h,"Match Ended"),h.forEach(d),l.forEach(d),r.forEach(d),x=o(s),b=n(s,"DIV",{class:!0});var m=c(b);w=n(m,"DIV",{class:!0});var u=c(w);for(let e=0;e<se.length;e+=1)se[e].l(u);I=o(u),re&&re.l(u),D=o(u),le&&le.l(u),u.forEach(d),$=o(m),k=n(m,"DIV",{});var p=c(k);V=n(p,"DIV",{class:!0});var g=c(V);P=n(g,"DIV",{});var v=c(P);T=n(v,"TABLE",{class:!0});var L=c(T);B=n(L,"THEAD",{class:!0});var C=c(B);A=n(C,"TR",{});var N=c(A);R=n(N,"TD",{class:!0});var O=c(R);M=i(O,"Rank"),O.forEach(d),j=o(N),G=n(N,"TD",{class:!0});var Q=c(G);S=i(Q,"Player"),Q.forEach(d),F=o(N),H=n(N,"TD",{class:!0});var z=c(H);W=i(z,"Wins"),z.forEach(d),Y=o(N),U=n(N,"TD",{class:!0});var q=c(U);J=i(q,"Earned"),q.forEach(d),Z=o(N),K=n(N,"TD",{class:!0});var X=c(K);_=i(X,"Multiplier"),X.forEach(d),N.forEach(d),C.forEach(d),ee=o(L),ae=n(L,"TBODY",{class:!0});var te=c(ae);for(let e=0;e<ce.length;e+=1)ce[e].l(te);te.forEach(d),L.forEach(d),v.forEach(d),g.forEach(d),p.forEach(d),m.forEach(d),s.forEach(d),this.h()},h(){h(y,"class","text-6xl"),h(f,"class","mode-timer lg:flex items-end"),h(t,"class","pl-7 lg:pl-24 pt-8 lg:pt-12"),h(w,"class","flex flex-col items-center lg:flex-row"),h(R,"class","px-6 py-3"),h(G,"class","px-6 py-3"),h(H,"class","px-6 py-3"),h(U,"class","px-6 py-3"),h(K,"class","px-6 py-3"),h(B,"class","bg-primary "),h(ae,"class","divide-y-4 divide-background text-l"),h(T,"class","card px-4 overflow-hidden mt-10 lg:mt-20"),h(V,"class","overflow-x-scroll lg:overflow-auto pl-6 lg:pl-0 pb-4 lg:pb-8 "),h(b,"class","flex flex-col lg:items-center mt-8 lg:mt-0 relative lg:ml-24"),h(a,"class","")},m(e,s){m(e,a,s),u(a,t),u(t,f),u(f,y),u(y,E),u(a,x),u(a,b),u(b,w);for(let e=0;e<se.length;e+=1)se[e].m(w,null);u(w,I),re&&re.m(w,null),u(w,D),le&&le.m(w,null),u(b,$),u(b,k),u(k,V),u(V,P),u(P,T),u(T,B),u(B,A),u(A,R),u(R,M),u(A,j),u(A,G),u(G,S),u(A,F),u(A,H),u(H,W),u(A,Y),u(A,U),u(U,J),u(A,Z),u(A,K),u(K,_),u(T,ee),u(T,ae);for(let e=0;e<ce.length;e+=1)ce[e].m(ae,null)},p(e,[a]){if(2&a){let t;for(te=e[1][0],t=0;t<te.length;t+=1){const s=O(e,te,t);se[t]?se[t].p(s,a):(se[t]=Q(s),se[t].c(),se[t].m(w,I))}for(;t<se.length;t+=1)se[t].d(1);se.length=te.length}if(""!==e[1][1]&&re.p(e,a),""!==e[1][2]&&le.p(e,a),2&a){let t;for(ne=e[1],t=0;t<ne.length;t+=1){const s=L(e,ne,t);ce[t]?ce[t].p(s,a):(ce[t]=X(s),ce[t].c(),ce[t].m(ae,null))}for(;t<ce.length;t+=1)ce[t].d(1);ce.length=ne.length}},i:p,o:p,d(e){e&&d(a),v(se,e),re&&re.d(),le&&le.d(),v(ce,e)}}}function K(e,a,t){let{players:s}=a,{winners:r}=a;const l=r.map((e=>{let a=[];return e.forEach(((e,t)=>{if(""==e)return;const r=s.find((a=>a.steamId==e.steamId));a.push({username:r.username,avatarURL:r.avatarURL,legends:r.legends,wins:r.wins,coinsEarned:e.coins,multiplier:e.multiplier})})),a}));return e.$$set=e=>{"players"in e&&t(2,s=e.players),"winners"in e&&t(0,r=e.winners)},[r,l,s]}class _ extends e{constructor(e){super(),a(this,e,K,Z,t,{players:2,winners:0})}}const{document:ee}=V;function ae(e,a,t){const s=e.slice();return s[22]=a[t],s}function te(e){let a,t,l,i,f,u=e[5]&&re(e);const p=[ne,le],g=[];function v(e,a){return e[0]?0:1}return l=v(e),i=g[l]=p[l](e),{c(){u&&u.c(),a=r(),t=s("div"),i.c(),this.h()},l(e){u&&u.l(e),a=o(e),t=n(e,"DIV",{class:!0});var s=c(t);i.l(s),s.forEach(d),this.h()},h(){h(t,"class","h-full  ")},m(e,s){u&&u.m(e,s),m(e,a,s),m(e,t,s),g[l].m(t,null),f=!0},p(e,s){e[5]?u?(u.p(e,s),32&s&&b(u,1)):(u=re(e),u.c(),b(u,1),u.m(a.parentNode,a)):u&&(T(),w(u,1,1,(()=>{u=null})),$());let r=l;l=v(e),l===r?g[l].p(e,s):(T(),w(g[r],1,1,(()=>{g[r]=null})),$(),i=g[l],i?i.p(e,s):(i=g[l]=p[l](e),i.c()),b(i,1),i.m(t,null))},i(e){f||(b(u),b(i),f=!0)},o(e){w(u),w(i),f=!1},d(e){u&&u.d(e),e&&d(a),e&&d(t),g[l].d()}}}function se(e){let a,t,f,g,v,y;return{c(){a=s("div"),t=s("h2"),f=r(),g=s("a"),v=s("p"),y=l("Go to play page"),this.h()},l(e){a=n(e,"DIV",{class:!0});var s=c(a);t=n(s,"H2",{class:!0}),c(t).forEach(d),f=o(s),g=n(s,"A",{href:!0});var r=c(g);v=n(r,"P",{class:!0});var l=c(v);y=i(l,"Go to play page"),l.forEach(d),r.forEach(d),s.forEach(d),this.h()},h(){h(t,"class","lg:text-5xl text-3xl text-center"),h(v,"class","underline lg:text-3xl pt-4 text-2xl  text-center text-primary"),h(g,"href","/play"),h(a,"class","w-full content-center lg:mt-60 mt-25 ")},m(s,r){m(s,a,r),u(a,t),t.innerHTML=e[6],u(a,f),u(a,g),u(g,v),u(v,y)},p(e,a){64&a&&(t.innerHTML=e[6])},i:p,o:p,d(e){e&&d(a)}}}function re(e){let a,t;return a=new Y({props:{message:"Thanks for watching a video",pushError:e[5]}}),{c(){y(a.$$.fragment)},l(e){E(a.$$.fragment,e)},m(e,s){x(a,e,s),t=!0},p(e,t){const s={};32&t&&(s.pushError=e[5]),a.$set(s)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){I(a,e)}}}function le(e){let a,t;return a=new H({props:{data:"Loading game data..."}}),{c(){y(a.$$.fragment)},l(e){E(a.$$.fragment,e)},m(e,s){x(a,e,s),t=!0},p:p,i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){I(a,e)}}}function ne(e){let a,t,p,g,v,y,E,x,I,D,k,V,P,B,A,R,M,F,H,W,Y,L,U,C,N,O,Q,z,q,J,X,Z,K,_,ee,ae,te,se,re,le,ne,ie,de,he,fe,me,ue=e[10]?"Hide":"Show";const pe=[oe,ce],ge=[];function ve(e,a){return e[1]?0:1}return a=ve(e),t=ge[a]=pe[a](e),{c(){t.c(),p=r(),g=s("input"),v=r(),y=s("div"),E=s("button"),x=l(ue),I=l(" information\r\n                    "),D=j("svg"),k=j("path"),V=r(),P=j("svg"),B=j("path"),A=r(),R=s("div"),M=s("div"),F=s("p"),H=l("Ranked matches"),W=r(),Y=s("p"),L=l("Only ranked games will count. You can play 1vs1 or 2vs2 ranked games."),U=r(),C=s("div"),N=s("p"),O=l("Delay"),Q=r(),z=s("p"),q=l('Your data may take up to 5 minutes to refresh on Brawlhalla\'s servers, before updating when\r\n                            you click on the "REFRESH DATA" button.'),J=r(),X=s("div"),Z=s("p"),K=l("Refresh data"),_=r(),ee=s("p"),ae=l('The other players will see your data updated when you click on the "REFRESH DATA" button.'),te=r(),se=s("div"),re=s("p"),le=l("Quit"),ne=r(),ie=s("p"),de=l('You will be able to quit the match when you click on the "QUIT" button, if you still didn\'t\r\n                            played.'),this.h()},l(e){t.l(e),p=o(e),g=n(e,"INPUT",{hidden:!0,value:!0,id:!0}),v=o(e),y=n(e,"DIV",{class:!0});var a=c(y);E=n(a,"BUTTON",{class:!0});var s=c(E);x=i(s,ue),I=i(s," information\r\n                    "),D=n(s,"svg",{class:!0,viewBox:!0,xmlns:!0},1);var r=c(D);k=n(r,"path",{d:!0},1),c(k).forEach(d),r.forEach(d),V=o(s),P=n(s,"svg",{class:!0,viewBox:!0,xmlns:!0},1);var l=c(P);B=n(l,"path",{d:!0},1),c(B).forEach(d),l.forEach(d),s.forEach(d),A=o(a),R=n(a,"DIV",{class:!0});var h=c(R);M=n(h,"DIV",{class:!0});var f=c(M);F=n(f,"P",{class:!0});var m=c(F);H=i(m,"Ranked matches"),m.forEach(d),W=o(f),Y=n(f,"P",{});var u=c(Y);L=i(u,"Only ranked games will count. You can play 1vs1 or 2vs2 ranked games."),u.forEach(d),f.forEach(d),U=o(h),C=n(h,"DIV",{class:!0});var b=c(C);N=n(b,"P",{class:!0});var w=c(N);O=i(w,"Delay"),w.forEach(d),Q=o(b),z=n(b,"P",{});var $=c(z);q=i($,'Your data may take up to 5 minutes to refresh on Brawlhalla\'s servers, before updating when\r\n                            you click on the "REFRESH DATA" button.'),$.forEach(d),b.forEach(d),J=o(h),X=n(h,"DIV",{class:!0});var T=c(X);Z=n(T,"P",{class:!0});var j=c(Z);K=i(j,"Refresh data"),j.forEach(d),_=o(T),ee=n(T,"P",{});var G=c(ee);ae=i(G,'The other players will see your data updated when you click on the "REFRESH DATA" button.'),G.forEach(d),T.forEach(d),te=o(h),se=n(h,"DIV",{class:!0});var S=c(se);re=n(S,"P",{class:!0});var ce=c(re);le=i(ce,"Quit"),ce.forEach(d),ne=o(S),ie=n(S,"P",{});var oe=c(ie);de=i(oe,'You will be able to quit the match when you click on the "QUIT" button, if you still didn\'t\r\n                            played.'),oe.forEach(d),S.forEach(d),h.forEach(d),a.forEach(d),this.h()},h(){g.hidden=!0,g.value=Ee,h(g,"id","transfer"),h(k,"d","m21.57 19.2 2.43-2.422-12-11.978-12 11.978 2.43 2.422 9.57-9.547z"),h(D,"class","fill-current w-4 ml-2"),h(D,"viewBox","0 0 24 24"),h(D,"xmlns","http://www.w3.org/2000/svg"),f(D,"hidden",e[10]),h(B,"d","m2.43 4.8-2.43 2.422 12 11.978 12-11.978-2.43-2.422-9.57 9.547z"),h(P,"class","fill-current w-4 ml-2"),h(P,"viewBox","0 0 24 24"),h(P,"xmlns","http://www.w3.org/2000/svg"),f(P,"hidden",!e[10]),h(E,"class","flex lg:ml-20 px-6 py-3 items-center text-lg svelte-imfbnh"),h(F,"class","text-primary text-lg "),h(M,"class","w-68"),h(N,"class","text-primary text-lg "),h(C,"class","w-68 ml-12 xl:ml-0"),h(Z,"class","text-primary text-lg "),h(X,"class","w-68 ml-12 xl:ml-0"),h(re,"class","text-primary text-lg "),h(se,"class","w-68 ml-12 xl:ml-0 xl:mr-40"),h(R,"class","flex justify-between lg:ml-20 px-6 py-3 bg-opacity-5"),f(R,"hidden",!e[10]),h(y,"class","absolute fixed bottom-0 w-full bg-background bg-opacity-90 "),f(y,"pb-4",e[10])},m(t,s){ge[a].m(t,s),m(t,p,s),m(t,g,s),m(t,v,s),m(t,y,s),u(y,E),u(E,x),u(E,I),u(E,D),u(D,k),u(E,V),u(E,P),u(P,B),u(y,A),u(y,R),u(R,M),u(M,F),u(F,H),u(M,W),u(M,Y),u(Y,L),u(R,U),u(R,C),u(C,N),u(N,O),u(C,Q),u(C,z),u(z,q),u(R,J),u(R,X),u(X,Z),u(Z,K),u(X,_),u(X,ee),u(ee,ae),u(R,te),u(R,se),u(se,re),u(re,le),u(se,ne),u(se,ie),u(ie,de),he=!0,fe||(me=G(E,"click",e[17]),fe=!0)},p(e,s){let r=a;a=ve(e),a===r?ge[a].p(e,s):(T(),w(ge[r],1,1,(()=>{ge[r]=null})),$(),t=ge[a],t?t.p(e,s):(t=ge[a]=pe[a](e),t.c()),b(t,1),t.m(p.parentNode,p)),(!he||1024&s)&&ue!==(ue=e[10]?"Hide":"Show")&&S(x,ue),1024&s&&f(D,"hidden",e[10]),1024&s&&f(P,"hidden",!e[10]),1024&s&&f(R,"hidden",!e[10]),1024&s&&f(y,"pb-4",e[10])},i(e){he||(b(t),he=!0)},o(e){w(t),he=!1},d(e){ge[a].d(e),e&&d(p),e&&d(g),e&&d(v),e&&d(y),fe=!1,me()}}}function ce(e){let a,t,f,p,g,v,D,k,V,P,B,A,R,M,j,G,H,W,Y,L,U,C,N,O,Q,z,q,J,X,Z=e[3].adsWatched+"",K=e[3].adsWatched>1?"s":"",_=e[3].multiplier/100+"",ee=e[3].adsWatched<2?"Play ad":"Maximum ads reached";function ae(e,a){return e[2]?de:ie}let te=ae(e),se=te(e);L=new F({props:{isRefreshing:e[9],refreshMessage:"Refresh data"}}),L.$on("click",e[15]);let re=0==e[3].gamesPlayed&&he(e),le=e[3]&&me(e),ne=e[4]&&ue(e);return{c(){a=s("div"),t=s("div"),f=s("div"),p=s("h1"),g=l("FFA"),v=r(),D=s("p"),se.c(),k=r(),V=s("div"),P=s("p"),B=l("You have watched "),A=s("strong"),R=l(Z),M=l("\r\n                                ad"),j=l(K),G=l(", you have multiplied your earnings by\r\n                                "),H=s("strong"),W=l(_),Y=r(),y(L.$$.fragment),U=r(),re&&re.c(),C=r(),N=s("button"),O=l(ee),z=r(),q=s("div"),le&&le.c(),J=r(),ne&&ne.c(),this.h()},l(e){a=n(e,"DIV",{class:!0});var s=c(a);t=n(s,"DIV",{class:!0});var r=c(t);f=n(r,"DIV",{class:!0});var l=c(f);p=n(l,"H1",{class:!0});var h=c(p);g=i(h,"FFA"),h.forEach(d),v=o(l),D=n(l,"P",{class:!0});var m=c(D);se.l(m),m.forEach(d),l.forEach(d),k=o(r),V=n(r,"DIV",{class:!0});var u=c(V);P=n(u,"P",{class:!0});var y=c(P);B=i(y,"You have watched "),A=n(y,"STRONG",{class:!0});var x=c(A);R=i(x,Z),M=i(x,"\r\n                                ad"),j=i(x,K),x.forEach(d),G=i(y,", you have multiplied your earnings by\r\n                                "),H=n(y,"STRONG",{class:!0});var b=c(H);W=i(b,_),b.forEach(d),y.forEach(d),Y=o(u),E(L.$$.fragment,u),U=o(u),re&&re.l(u),C=o(u),N=n(u,"BUTTON",{disabled:!0,class:!0,onclick:!0});var w=c(N);O=i(w,ee),w.forEach(d),u.forEach(d),r.forEach(d),z=o(s),q=n(s,"DIV",{class:!0});var I=c(q);le&&le.l(I),J=o(I),ne&&ne.l(I),I.forEach(d),s.forEach(d),this.h()},h(){h(p,"class","text-6xl leading-none"),h(D,"class","timer text-primary ml-5 text-3xl leading-none svelte-imfbnh"),h(f,"class","mode-timer flex justify-center lg:justify-start\r\n                        items-end w-60 "),h(A,"class","text-accent font-normal text-3xl"),h(H,"class","text-accent text-3xl font-normal"),h(P,"class","mx-4"),N.disabled=Q=e[3].adsWatched>1,h(N,"class","button button-brand lg:ml-4 mt-2\r\n                                lg:mt-0 svelte-imfbnh"),h(N,"onclick","playAd()"),h(V,"class","lg:mr-7 mt-4 lg:mt-0 flex flex-col lg:flex-row\r\n                        items-center"),h(t,"class","flex flex-col justify-center lg:flex-row\r\n                    lg:justify-between items-center lg:mt-12 mt-7"),h(q,"class","flex items-center flex-col lg:flex-row lg:items-start\r\n                    h-full"),h(a,"class","h-full flex items-center flex-col lg:block lg:ml-24")},m(e,s){m(e,a,s),u(a,t),u(t,f),u(f,p),u(p,g),u(f,v),u(f,D),se.m(D,null),u(t,k),u(t,V),u(V,P),u(P,B),u(P,A),u(A,R),u(A,M),u(A,j),u(P,G),u(P,H),u(H,W),u(V,Y),x(L,V,null),u(V,U),re&&re.m(V,null),u(V,C),u(V,N),u(N,O),u(a,z),u(a,q),le&&le.m(q,null),u(q,J),ne&&ne.m(q,null),X=!0},p(e,a){te===(te=ae(e))&&se?se.p(e,a):(se.d(1),se=te(e),se&&(se.c(),se.m(D,null))),(!X||8&a)&&Z!==(Z=e[3].adsWatched+"")&&S(R,Z),(!X||8&a)&&K!==(K=e[3].adsWatched>1?"s":"")&&S(j,K),(!X||8&a)&&_!==(_=e[3].multiplier/100+"")&&S(W,_);const t={};512&a&&(t.isRefreshing=e[9]),L.$set(t),0==e[3].gamesPlayed?re?(re.p(e,a),8&a&&b(re,1)):(re=he(e),re.c(),b(re,1),re.m(V,C)):re&&(T(),w(re,1,1,(()=>{re=null})),$()),(!X||8&a)&&ee!==(ee=e[3].adsWatched<2?"Play ad":"Maximum ads reached")&&S(O,ee),(!X||8&a&&Q!==(Q=e[3].adsWatched>1))&&(N.disabled=Q),e[3]?le?le.p(e,a):(le=me(e),le.c(),le.m(q,J)):le&&(le.d(1),le=null),e[4]?ne?ne.p(e,a):(ne=ue(e),ne.c(),ne.m(q,null)):ne&&(ne.d(1),ne=null)},i(e){X||(b(L.$$.fragment,e),b(re),X=!0)},o(e){w(L.$$.fragment,e),w(re),X=!1},d(e){e&&d(a),se.d(),I(L),re&&re.d(),le&&le.d(),ne&&ne.d()}}}function oe(e){let a,t;return a=new _({props:{players:e[0].players,winners:e[0].winners}}),{c(){y(a.$$.fragment)},l(e){E(a.$$.fragment,e)},m(e,s){x(a,e,s),t=!0},p(e,t){const s={};1&t&&(s.players=e[0].players),1&t&&(s.winners=e[0].winners),a.$set(s)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){I(a,e)}}}function ie(e){let a;return{c(){a=l("Loading...")},l(e){a=i(e,"Loading...")},m(e,t){m(e,a,t)},p:p,d(e){e&&d(a)}}}function de(e){let a;return{c(){a=l(e[2])},l(t){a=i(t,e[2])},m(e,t){m(e,a,t)},p(e,t){4&t&&S(a,e[2])},d(e){e&&d(a)}}}function he(e){let a,t,f,p,v,y,E,x=e[7]&&fe(e);return{c(){a=s("button"),t=l("Quit lobby"),f=r(),x&&x.c(),p=g(),this.h()},l(e){a=n(e,"BUTTON",{class:!0});var s=c(a);t=i(s,"Quit lobby"),s.forEach(d),f=o(e),x&&x.l(e),p=g(),this.h()},h(){h(a,"class","button button-brand quit lg:ml-4 mt-2\r\n                                lg:mt-0 svelte-imfbnh")},m(s,r){m(s,a,r),u(a,t),m(s,f,r),x&&x.m(s,r),m(s,p,r),v=!0,y||(E=G(a,"click",e[16]),y=!0)},p(e,a){e[7]?x?(x.p(e,a),128&a&&b(x,1)):(x=fe(e),x.c(),b(x,1),x.m(p.parentNode,p)):x&&(T(),w(x,1,1,(()=>{x=null})),$())},i(e){v||(b(x),v=!0)},o(e){w(x),v=!1},d(e){e&&d(a),e&&d(f),x&&x.d(e),e&&d(p),y=!1,E()}}}function fe(e){let a,t;return a=new P({props:{message:"There was an error exiting the match",pushError:e[7]}}),{c(){y(a.$$.fragment)},l(e){E(a.$$.fragment,e)},m(e,s){x(a,e,s),t=!0},p(e,t){const s={};128&t&&(s.pushError=e[7]),a.$set(s)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){I(a,e)}}}function me(e){let a,t,f,p,g,v,y,E,x,b,w,I,D,$,k,V,P,T,B,A,R=e[3].username+"",M=e[3].gamesPlayed+"",j=e[3].wins+"";return{c(){a=s("div"),t=s("img"),g=r(),v=s("p"),y=l(R),E=r(),x=s("div"),b=s("p"),w=l("Games played:\r\n                                        "),I=s("b"),D=l(M),$=l("\r\n                                        /8"),k=r(),V=s("p"),P=l("Games won:\r\n                                        "),T=s("b"),B=l(j),A=l("\r\n                                        /8"),this.h()},l(e){a=n(e,"DIV",{class:!0});var s=c(a);t=n(s,"IMG",{src:!0,alt:!0,class:!0}),g=o(s),v=n(s,"P",{class:!0});var r=c(v);y=i(r,R),r.forEach(d),E=o(s),x=n(s,"DIV",{class:!0});var l=c(x);b=n(l,"P",{});var h=c(b);w=i(h,"Games played:\r\n                                        "),I=n(h,"B",{class:!0});var f=c(I);D=i(f,M),f.forEach(d),$=i(h,"\r\n                                        /8"),h.forEach(d),k=o(l),V=n(l,"P",{});var m=c(V);P=i(m,"Games won:\r\n                                        "),T=n(m,"B",{class:!0});var u=c(T);B=i(u,j),u.forEach(d),A=i(m,"\r\n                                        /8"),m.forEach(d),l.forEach(d),s.forEach(d),this.h()},h(){t.src!==(f="/assets/CharactersBanners/"+e[3].legends+".png")&&h(t,"src",f),h(t,"alt",p=e[3].legends),h(t,"class","block"),h(v,"class","player-name text-4xl svelte-imfbnh"),h(I,"class","svelte-imfbnh"),h(T,"class","svelte-imfbnh"),h(x,"class","stats text-2xl bottom-5 text-ultra-light svelte-imfbnh"),h(a,"class","mt-8 lg:mt-25 ffa-player card user svelte-imfbnh")},m(e,s){m(e,a,s),u(a,t),u(a,g),u(a,v),u(v,y),u(a,E),u(a,x),u(x,b),u(b,w),u(b,I),u(I,D),u(b,$),u(x,k),u(x,V),u(V,P),u(V,T),u(T,B),u(V,A)},p(e,a){8&a&&t.src!==(f="/assets/CharactersBanners/"+e[3].legends+".png")&&h(t,"src",f),8&a&&p!==(p=e[3].legends)&&h(t,"alt",p),8&a&&R!==(R=e[3].username+"")&&S(y,R),8&a&&M!==(M=e[3].gamesPlayed+"")&&S(D,M),8&a&&j!==(j=e[3].wins+"")&&S(B,j)},d(e){e&&d(a)}}}function ue(e){let a,t=e[4],r=[];for(let a=0;a<t.length;a+=1)r[a]=pe(ae(e,t,a));return{c(){a=s("div");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){a=n(e,"DIV",{class:!0});var t=c(a);for(let e=0;e<r.length;e+=1)r[e].l(t);t.forEach(d),this.h()},h(){h(a,"class","flex flex-col justify-center lg:justify-start\r\n                            lg:flex-row lg:flex-wrap lg:ml-33 mt-14 lg:mt-0")},m(e,t){m(e,a,t);for(let e=0;e<r.length;e+=1)r[e].m(a,null)},p(e,s){if(16&s){let l;for(t=e[4],l=0;l<t.length;l+=1){const n=ae(e,t,l);r[l]?r[l].p(n,s):(r[l]=pe(n),r[l].c(),r[l].m(a,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(e){e&&d(a),v(r,e)}}}function pe(e){let a,t,f,p,g,v,y,E,x,b,w,I,D,$,k,V=e[22].username+"",P=e[22].gamesPlayed+"";return{c(){a=s("div"),t=s("img"),g=r(),v=s("p"),y=l(V),E=r(),x=s("div"),b=s("p"),w=l("Games played:\r\n                                                "),I=s("b"),D=l(P),$=l("\r\n                                                /8"),k=r(),this.h()},l(e){a=n(e,"DIV",{class:!0});var s=c(a);t=n(s,"IMG",{src:!0,alt:!0,class:!0}),g=o(s),v=n(s,"P",{class:!0});var r=c(v);y=i(r,V),r.forEach(d),E=o(s),x=n(s,"DIV",{class:!0});var l=c(x);b=n(l,"P",{});var h=c(b);w=i(h,"Games played:\r\n                                                "),I=n(h,"B",{class:!0});var f=c(I);D=i(f,P),f.forEach(d),$=i(h,"\r\n                                                /8"),h.forEach(d),l.forEach(d),k=o(s),s.forEach(d),this.h()},h(){t.src!==(f="/assets/CharactersBanners/"+e[22].legends+".png")&&h(t,"src",f),h(t,"alt",p=e[22].legends),h(t,"class","block"),h(v,"class","player-name text-3xl svelte-imfbnh"),h(I,"class","svelte-imfbnh"),h(x,"class","stats text-xl bottom-5\r\n                                        text-ultra-light svelte-imfbnh"),h(a,"class","ffa-player card lg:mr-12 mb-8 svelte-imfbnh")},m(e,s){m(e,a,s),u(a,t),u(a,g),u(a,v),u(v,y),u(a,E),u(a,x),u(x,b),u(b,w),u(b,I),u(I,D),u(b,$),u(a,k)},p(e,a){16&a&&t.src!==(f="/assets/CharactersBanners/"+e[22].legends+".png")&&h(t,"src",f),16&a&&p!==(p=e[22].legends)&&h(t,"alt",p),16&a&&V!==(V=e[22].username+"")&&S(y,V),16&a&&P!==(P=e[22].gamesPlayed+"")&&S(D,P)},d(e){e&&d(a)}}}function ge(e){let a,t;return a=new P({props:{message:"An error occured while watching the ad",pushError:e[8]}}),{c(){y(a.$$.fragment)},l(e){E(a.$$.fragment,e)},m(e,s){x(a,e,s),t=!0},p(e,t){const s={};256&t&&(s.pushError=e[8]),a.$set(s)},i(e){t||(b(a.$$.fragment,e),t=!0)},o(e){w(a.$$.fragment,e),t=!1},d(e){I(a,e)}}}function ve(e){let a,t,f,p,g,v,y,E,x,I,k,V,P;const B=[se,te],A=[];function R(e,a){return e[6]?0:1}v=R(e),y=A[v]=B[v](e);let M=e[8]&&ge(e);return{c(){a=s("script"),f=s("script"),g=r(),y.c(),E=r(),x=s("div"),M&&M.c(),I=r(),k=s("script"),V=l('function playAd() {\r\n            const init = (api) => {\r\n                if (api) {\r\n\r\n                    api.on("AdVideoStart", function() {\r\n                        document.getElementById("transfer").value = 1;\r\n                        api.setAdVolume(1);\r\n                        document.body.onblur = function() {\r\n                            api.pauseAd();\r\n                        };\r\n                        document.body.onfocus = function() {\r\n                            api.resumeAd();\r\n                        };\r\n                    });\r\n                    api.on("AdVideoFirstQuartile", () => {\r\n                        document.getElementById("transfer").value = 2;\r\n                    });\r\n                    api.on("AdVideoMidpoint", () => {\r\n                        document.getElementById("transfer").value = 3;\r\n                    });\r\n                    api.on("AdVideoThirdQuartile", () => {\r\n                        document.getElementById("transfer").value = 4;\r\n                    });\r\n                    api.on("AdVideoComplete", function() {\r\n                        document.getElementById("transfer").value = 5;\r\n                        setTimeout(() => {\r\n                            document.getElementById("transfer").value = 0;\r\n                        }, 1200);\r\n                        document.body.onblur = null;\r\n                        document.body.onfocus = null;\r\n                    });\r\n                } else {\r\n                    console.log("blank");\r\n                }\r\n            };\r\n            var s = document.querySelector("script[data-playerPro=\\"current\\"]");\r\n            //s.removeAttribute("data-playerPro");\r\n            (playerPro = window.playerPro || []).push({\r\n                id: "oOMhJ7zhhrjUgiJx4ZxVYPvrXaDjI3VFmkVHIzxJ2nYvXX8krkzp",\r\n                after: s,\r\n                init: init\r\n            });\r\n        }'),this.h()},l(e){const t=D('[data-svelte="svelte-c01mtt"]',ee.head);a=n(t,"SCRIPT",{src:!0,id:!0}),c(a).forEach(d),f=n(t,"SCRIPT",{async:!0,src:!0}),c(f).forEach(d),t.forEach(d),g=o(e),y.l(e),E=o(e),x=n(e,"DIV",{});var s=c(x);M&&M.l(s),I=o(s),k=n(s,"SCRIPT",{"data-playerPro":!0});var r=c(k);V=i(r,'function playAd() {\r\n            const init = (api) => {\r\n                if (api) {\r\n\r\n                    api.on("AdVideoStart", function() {\r\n                        document.getElementById("transfer").value = 1;\r\n                        api.setAdVolume(1);\r\n                        document.body.onblur = function() {\r\n                            api.pauseAd();\r\n                        };\r\n                        document.body.onfocus = function() {\r\n                            api.resumeAd();\r\n                        };\r\n                    });\r\n                    api.on("AdVideoFirstQuartile", () => {\r\n                        document.getElementById("transfer").value = 2;\r\n                    });\r\n                    api.on("AdVideoMidpoint", () => {\r\n                        document.getElementById("transfer").value = 3;\r\n                    });\r\n                    api.on("AdVideoThirdQuartile", () => {\r\n                        document.getElementById("transfer").value = 4;\r\n                    });\r\n                    api.on("AdVideoComplete", function() {\r\n                        document.getElementById("transfer").value = 5;\r\n                        setTimeout(() => {\r\n                            document.getElementById("transfer").value = 0;\r\n                        }, 1200);\r\n                        document.body.onblur = null;\r\n                        document.body.onfocus = null;\r\n                    });\r\n                } else {\r\n                    console.log("blank");\r\n                }\r\n            };\r\n            var s = document.querySelector("script[data-playerPro=\\"current\\"]");\r\n            //s.removeAttribute("data-playerPro");\r\n            (playerPro = window.playerPro || []).push({\r\n                id: "oOMhJ7zhhrjUgiJx4ZxVYPvrXaDjI3VFmkVHIzxJ2nYvXX8krkzp",\r\n                after: s,\r\n                init: init\r\n            });\r\n        }'),r.forEach(d),s.forEach(d),this.h()},h(){ee.title="Winhalla | FFA match",a.src!==(t="https://cdn.purpleads.io/load.js?publisherId=4640a3490c1775718da6cc801e9b32e7:97737d9e720ec100f8147b22591b1a8b73d2131d6a0f6a6d744a8c67ae89f5ed71e3b94009ea0e6bf97e97e6d07853daf83ea62c0cd24822ca9cc406a85f339b")&&h(a,"src","https://cdn.purpleads.io/load.js?publisherId=4640a3490c1775718da6cc801e9b32e7:97737d9e720ec100f8147b22591b1a8b73d2131d6a0f6a6d744a8c67ae89f5ed71e3b94009ea0e6bf97e97e6d07853daf83ea62c0cd24822ca9cc406a85f339b"),h(a,"id","purpleads-client"),f.async=!0,f.src!==(p="https://cdn.stat-rock.com/player.js")&&h(f,"src","https://cdn.stat-rock.com/player.js"),h(k,"data-playerpro","current")},m(e,t){u(ee.head,a),u(ee.head,f),m(e,g,t),A[v].m(e,t),m(e,E,t),m(e,x,t),M&&M.m(x,null),u(x,I),u(x,k),u(k,V),P=!0},p(e,[a]){let t=v;v=R(e),v===t?A[v].p(e,a):(T(),w(A[t],1,1,(()=>{A[t]=null})),$(),y=A[v],y?y.p(e,a):(y=A[v]=B[v](e),y.c()),b(y,1),y.m(E.parentNode,E)),e[8]?M?(M.p(e,a),256&a&&b(M,1)):(M=ge(e),M.c(),b(M,1),M.m(x,I)):M&&(T(),w(M,1,1,(()=>{M=null})),$())},i(e){P||(b(y),b(M),P=!0)},o(e){w(y),w(M),P=!1},d(e){d(a),d(f),e&&d(g),A[v].d(e),e&&d(E),e&&d(x),M&&M.d()}}}async function ye({params:e}){return{id:e.id}}let Ee=0;function xe(e,a,t){let s,r,l,n,c,o,i,d,h,f,m,{id:u}=a;k((async()=>{B.subscribe((e=>{s=e.content}))();try{if(s=await s,s=s.steam,t(0,r=await A("get",`/getMatch/${u}`)),r instanceof Error)throw r;t(1,l=r.finished),p(!1);const e=new Date(c.joinDate),a=-((new Date).getTime()-new Date(e.setHours(e.getHours()+3)).getTime())/1e3;a<1?t(2,n="Waiting for others to finish (you can start a new game from the play page)"):function(e){let a,s,r,l=e;setInterval((function(){r=Math.floor(l%60),s=Math.floor(l/60%60),a=Math.floor(l/3600),s=s<10?"0"+s:s,r=r<10?"0"+r:r,t(2,n=a+":"+s+":"+r),--l<0&&(l=e)}),1e3)}(a),B.set({refresh:!0}),f=W.io(R),f.on("connection",(e=>{console.log(e),f.emit("match connection","FFA"+u)})),f.on("join match",(e=>{console.log(e)})),f.on("lobbyUpdate",(e=>{t(0,r=e),p(!0)}))}catch(e){if(e.response)return 400===e.response.status&&e.response.data.includes("Play at least one ranked")?void t(6,d="You have to play a ranked game before using the site (1v1 or 2v2 doesn't matter)"):400===e.response.status&&e.response.data.includes("Play at least one")?void t(6,d="You have to download brawlhalla and play at least a game (or you are logged in with the wrong account)"):void(404===e.response.status&&t(6,d="<p class='text-accent'>404, that's an error.</p> <p>Match not found</p>"));t(6,d=`<p class="text-accent">Wow, unexpected error occured, details for geeks below.</p> <p class="text-2xl">${e.toString()}</p>`)}let e,a=0,o=0,h=setInterval((()=>{if(a>0)return a--;e=document.getElementById("transfer").value,console.log(e,o),e!==o&&0!==e&&(f.emit("advideo","1"===e?{state:1,steamId:c.steamId,room:u}:e),console.log(e)),o=e}),1e3);f.on("advideo",(s=>{"error"===s.code?(console.log(s.message),clearInterval(h),o=0,e=0,t(8,m=s.message),setTimeout((()=>{t(8,m=void 0)}),25e3)):"success"===s.code&&(a=5,t(5,i=s.message),o=0,t(3,c.adsWatched++,c),t(3,c.multiplier=1===c.adsWatched?500:1e3,c),setTimeout((()=>{t(5,i=void 0)}),5e3))}))}));const p=e=>{if(!1===e)t(3,c=r.players.find((e=>e.steamId===parseInt(s.id))));else{let e=r.players.findIndex((e=>e.steamId===parseInt(s.id)));t(0,r.players[e].wins=c.wins,r),t(3,c=r.players[e])}t(4,o=[...r.players]),o.splice(r.players.findIndex((e=>e.steamId===parseInt(s.id))),1)};let g=!1;const v=async()=>{t(9,g=!0);let e=c.gamesPlayed;t(0,r=await A("get",`/getMatch/${u}`)),p(!1),c.gamesPlayed!==e?B.set({refresh:!0}):r.finished&&!1===l&&(t(1,l=!0),B.set({refresh:!0})),t(9,g=!1)},y=async()=>{try{const e=await A("post","/exitMatch");if(e instanceof Error)throw e;M("/play")}catch(e){t(7,h=e.response.data.message?e.response.data.message:e.response.data?e.response.data.toString():e.toString()),setTimeout((()=>{t(7,h=void 0)}),8e3)}};let E=!1;function x(){t(10,E=!E)}return e.$$set=e=>{"id"in e&&t(14,u=e.id)},[r,l,n,c,o,i,d,h,m,g,E,v,y,x,u,()=>v(),()=>y(),()=>x()]}export default class extends e{constructor(e){super(),a(this,e,xe,ve,t,{id:14})}}export{ye as preload};
