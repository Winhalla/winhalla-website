import{S as e,i as t,s as a,e as r,a as s,t as n,c as l,g as o,f as c,h as i,d,j as f,H as u,l as m,k as h,n as p,Q as g,N as v,I as y,J as E,G as x,K as w,r as b,u as $,R as I,v as k,a4 as D,w as P,P as V,a3 as B,m as T,U as A,x as M,p as R,y as W,B as G,z as j,a5 as C,a6 as F,q as N,$ as L,A as S,a7 as U,E as z,D as O,C as Y,o as H,F as J}from"./client.cf441884.js";import{L as Q}from"./Loading.237d45d7.js";import"./RefreshButton.f056091e.js";import{R as X}from"./RefreshButton.ef5a55b9.js";import{b as q,I as Z,A as K}from"./AdblockAlert.fc965752.js";import{G as _}from"./GuideCard.5706703a.js";function ee(e,t,a){const r=e.slice();return r[0]=t[a],r[4]=a,r}function te(e,t,a){const r=e.slice();return r[5]=t[a],r}function ae(e,t,a){const r=e.slice();return r[5]=t[a],r[4]=a,r}function re(e,t,a){const r=e.slice();return r[5]=t[a],r[4]=a,r}function se(e,t,a){const r=e.slice();return r[5]=t[a],r[4]=a,r}function ne(e){let t,a,g,v,y,E,x,w,b,$,I,k,D,P,V,B,T,A=e[5].username+"",M=e[5].wins+"";return{c(){t=r("div"),a=r("div"),g=r("div"),v=r("img"),x=s(),w=r("p"),b=n(A),$=s(),I=r("div"),k=r("p"),D=n("Games won: "),P=r("b"),V=n(M),B=n("/8"),T=s(),this.h()},l(e){t=l(e,"DIV",{});var r=o(t);a=l(r,"DIV",{});var s=o(a);g=l(s,"DIV",{class:!0});var n=o(g);v=l(n,"IMG",{src:!0,alt:!0,class:!0}),x=c(n),w=l(n,"P",{class:!0});var f=o(w);b=i(f,A),f.forEach(d),$=c(n),I=l(n,"DIV",{class:!0});var u=o(I);k=l(u,"P",{});var m=o(k);D=i(m,"Games won: "),P=l(m,"B",{class:!0});var h=o(P);V=i(h,M),h.forEach(d),B=i(m,"/8"),m.forEach(d),u.forEach(d),n.forEach(d),s.forEach(d),T=c(r),r.forEach(d),this.h()},h(){v.src!==(y="/assets/CharactersBanners/"+e[5].legends+".png")&&f(v,"src",y),f(v,"alt",E=e[5].legends),f(v,"class","block"),f(w,"class","player-name text-4xl svelte-1dsvpkg"),f(P,"class","svelte-1dsvpkg"),f(I,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(g,"class","ffa-player card user svelte-1dsvpkg"),u(t,"lg:ml-10",e[4]>0)},m(e,r){m(e,t,r),h(t,a),h(a,g),h(g,v),h(g,x),h(g,w),h(w,b),h(g,$),h(g,I),h(I,k),h(k,D),h(k,P),h(P,V),h(k,B),h(t,T)},p:p,d(e){e&&d(t)}}}function le(e){let t,a,u,g,v,y,E,x,w,b,$,I,k,D,P,V,B,T=e[5].username+"",A=e[5].wins+"";return{c(){t=r("div"),a=r("div"),u=r("div"),g=r("img"),E=s(),x=r("p"),w=n(T),b=s(),$=r("div"),I=r("p"),k=n("Games won: "),D=r("b"),P=n(A),V=n("/8"),B=s(),this.h()},l(e){t=l(e,"DIV",{class:!0});var r=o(t);a=l(r,"DIV",{});var s=o(a);u=l(s,"DIV",{class:!0});var n=o(u);g=l(n,"IMG",{src:!0,alt:!0,class:!0}),E=c(n),x=l(n,"P",{class:!0});var f=o(x);w=i(f,T),f.forEach(d),b=c(n),$=l(n,"DIV",{class:!0});var m=o($);I=l(m,"P",{});var h=o(I);k=i(h,"Games won: "),D=l(h,"B",{class:!0});var p=o(D);P=i(p,A),p.forEach(d),V=i(h,"/8"),h.forEach(d),m.forEach(d),n.forEach(d),s.forEach(d),B=c(r),r.forEach(d),this.h()},h(){g.src!==(v="/assets/CharactersBanners/"+e[5].legends+".png")&&f(g,"src",v),f(g,"alt",y=e[5].legends),f(g,"class","block"),f(x,"class","player-name text-4xl svelte-1dsvpkg"),f(D,"class","svelte-1dsvpkg"),f($,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(u,"class","ffa-player card user svelte-1dsvpkg"),f(t,"class","mt-10 lg:ml-10")},m(e,r){m(e,t,r),h(t,a),h(a,u),h(u,g),h(u,E),h(u,x),h(x,w),h(u,b),h(u,$),h($,I),h(I,k),h(I,D),h(D,P),h(I,V),h(t,B)},p:p,d(e){e&&d(t)}}}function oe(e){let t,a,u,g,v,y,E,x,w,b,$,I,k,D,P,V,B,T=e[5].username+"",A=e[5].wins+"";return{c(){t=r("div"),a=r("div"),u=r("div"),g=r("img"),E=s(),x=r("p"),w=n(T),b=s(),$=r("div"),I=r("p"),k=n("Games won: "),D=r("b"),P=n(A),V=n("/8"),B=s(),this.h()},l(e){t=l(e,"DIV",{class:!0});var r=o(t);a=l(r,"DIV",{});var s=o(a);u=l(s,"DIV",{class:!0});var n=o(u);g=l(n,"IMG",{src:!0,alt:!0,class:!0}),E=c(n),x=l(n,"P",{class:!0});var f=o(x);w=i(f,T),f.forEach(d),b=c(n),$=l(n,"DIV",{class:!0});var m=o($);I=l(m,"P",{});var h=o(I);k=i(h,"Games won: "),D=l(h,"B",{class:!0});var p=o(D);P=i(p,A),p.forEach(d),V=i(h,"/8"),h.forEach(d),m.forEach(d),n.forEach(d),s.forEach(d),B=c(r),r.forEach(d),this.h()},h(){g.src!==(v="/assets/CharactersBanners/"+e[5].legends+".png")&&f(g,"src",v),f(g,"alt",y=e[5].legends),f(g,"class","block"),f(x,"class","player-name text-4xl svelte-1dsvpkg"),f(D,"class","svelte-1dsvpkg"),f($,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(u,"class","ffa-player card user svelte-1dsvpkg"),f(t,"class","mt-10 lg:mt-20 lg:ml-10")},m(e,r){m(e,t,r),h(t,a),h(a,u),h(u,g),h(u,E),h(u,x),h(x,w),h(u,b),h(u,$),h($,I),h(I,k),h(I,D),h(D,P),h(I,V),h(t,B)},p:p,d(e){e&&d(t)}}}function ce(e){let t,a=(e[5].avatarURL||e[5].username)&&function(e){let t,a,u,g,v,y,E,x,w,b,$,I,k,D,P,V,B,T,A,M,R,W,G,j,C=e[4]+1+"",F=e[5].username+"",N=e[5].wins+"",L=e[5].coinsEarned+"",S=e[5].multiplier+"";return{c(){t=r("tr"),a=r("td"),u=r("b"),g=n(C),v=s(),y=r("td"),E=r("img"),b=s(),$=r("p"),I=n(F),k=s(),D=r("td"),P=r("b"),V=n(N),B=n("/8"),T=s(),A=r("td"),M=n(L),R=s(),W=r("td"),G=n(S),j=s(),this.h()},l(e){t=l(e,"TR",{class:!0});var r=o(t);a=l(r,"TD",{class:!0});var s=o(a);u=l(s,"B",{class:!0});var n=o(u);g=i(n,C),n.forEach(d),s.forEach(d),v=c(r),y=l(r,"TD",{class:!0});var f=o(y);E=l(f,"IMG",{class:!0,src:!0,alt:!0}),b=c(f),$=l(f,"P",{class:!0});var m=o($);I=i(m,F),m.forEach(d),f.forEach(d),k=c(r),D=l(r,"TD",{class:!0});var h=o(D);P=l(h,"B",{class:!0});var p=o(P);V=i(p,N),p.forEach(d),B=i(h,"/8"),h.forEach(d),T=c(r),A=l(r,"TD",{class:!0});var x=o(A);M=i(x,L),x.forEach(d),R=c(r),W=l(r,"TD",{class:!0});var w=o(W);G=i(w,S),w.forEach(d),j=c(r),r.forEach(d),this.h()},h(){f(u,"class","font-normal svelte-1dsvpkg"),f(a,"class","px-6 py-2"),f(E,"class","block w-10 h-10 rounded-full"),E.src!==(x=e[5].avatarURL)&&f(E,"src",x),f(E,"alt",w=e[5].username),f($,"class","pl-2"),f(y,"class","flex items-center px-6 py-2"),f(P,"class","text-primary font-normal svelte-1dsvpkg"),f(D,"class","px-6 py-2"),f(A,"class","px-6 py-2"),f(W,"class","px-6 py-2"),f(t,"class","text-center")},m(e,r){m(e,t,r),h(t,a),h(a,u),h(u,g),h(t,v),h(t,y),h(y,E),h(y,b),h(y,$),h($,I),h(t,k),h(t,D),h(D,P),h(P,V),h(D,B),h(t,T),h(t,A),h(A,M),h(t,R),h(t,W),h(W,G),h(t,j)},p:p,d(e){e&&d(t)}}}(e);return{c(){a&&a.c(),t=g()},l(e){a&&a.l(e),t=g()},m(e,r){a&&a.m(e,r),m(e,t,r)},p(e,t){(e[5].avatarURL||e[5].username)&&a.p(e,t)},d(e){a&&a.d(e),e&&d(t)}}}function ie(e){let t,a=e[0],r=[];for(let t=0;t<a.length;t+=1)r[t]=ce(te(e,a,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},l(e){for(let t=0;t<r.length;t+=1)r[t].l(e);t=g()},m(e,a){for(let t=0;t<r.length;t+=1)r[t].m(e,a);m(e,t,a)},p(e,s){if(2&s){let n;for(a=e[0],n=0;n<a.length;n+=1){const l=te(e,a,n);r[n]?r[n].p(l,s):(r[n]=ce(l),r[n].c(),r[n].m(t.parentNode,t))}for(;n<r.length;n+=1)r[n].d(1);r.length=a.length}},d(e){v(r,e),e&&d(t)}}}function de(e){let t,a,u,y,E,x,w,b,$,I,k,D,P,V,B,T,A,M,R,W,G,j,C,F,N,L,S,U,z,O,Y,H,J,Q=e[1][0],X=[];for(let t=0;t<Q.length;t+=1)X[t]=ne(se(e,Q,t));let q=""!==e[1][1]&&function(e){let t,a=e[1][1],r=[];for(let t=0;t<a.length;t+=1)r[t]=le(re(e,a,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},l(e){for(let t=0;t<r.length;t+=1)r[t].l(e);t=g()},m(e,a){for(let t=0;t<r.length;t+=1)r[t].m(e,a);m(e,t,a)},p(e,s){if(2&s){let n;for(a=e[1][1],n=0;n<a.length;n+=1){const l=re(e,a,n);r[n]?r[n].p(l,s):(r[n]=le(l),r[n].c(),r[n].m(t.parentNode,t))}for(;n<r.length;n+=1)r[n].d(1);r.length=a.length}},d(e){v(r,e),e&&d(t)}}}(e),Z=""!==e[1][2]&&function(e){let t,a=e[1][2],r=[];for(let t=0;t<a.length;t+=1)r[t]=oe(ae(e,a,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},l(e){for(let t=0;t<r.length;t+=1)r[t].l(e);t=g()},m(e,a){for(let t=0;t<r.length;t+=1)r[t].m(e,a);m(e,t,a)},p(e,s){if(2&s){let n;for(a=e[1][2],n=0;n<a.length;n+=1){const l=ae(e,a,n);r[n]?r[n].p(l,s):(r[n]=oe(l),r[n].c(),r[n].m(t.parentNode,t))}for(;n<r.length;n+=1)r[n].d(1);r.length=a.length}},d(e){v(r,e),e&&d(t)}}}(e),K=e[1],_=[];for(let t=0;t<K.length;t+=1)_[t]=ie(ee(e,K,t));return{c(){t=r("div"),a=r("div"),u=r("div"),y=r("h1"),E=n("Match Ended"),x=s(),w=r("div"),b=r("div");for(let e=0;e<X.length;e+=1)X[e].c();$=s(),q&&q.c(),I=s(),Z&&Z.c(),k=s(),D=r("div"),P=r("div"),V=r("div"),B=r("table"),T=r("thead"),A=r("tr"),M=r("td"),R=n("Rank"),W=s(),G=r("td"),j=n("Player"),C=s(),F=r("td"),N=n("Wins"),L=s(),S=r("td"),U=n("Earned"),z=s(),O=r("td"),Y=n("Multiplier"),H=s(),J=r("tbody");for(let e=0;e<_.length;e+=1)_[e].c();this.h()},l(e){t=l(e,"DIV",{class:!0});var r=o(t);a=l(r,"DIV",{class:!0});var s=o(a);u=l(s,"DIV",{class:!0});var n=o(u);y=l(n,"H1",{class:!0});var f=o(y);E=i(f,"Match Ended"),f.forEach(d),n.forEach(d),s.forEach(d),x=c(r),w=l(r,"DIV",{class:!0});var m=o(w);b=l(m,"DIV",{class:!0});var h=o(b);for(let e=0;e<X.length;e+=1)X[e].l(h);$=c(h),q&&q.l(h),I=c(h),Z&&Z.l(h),h.forEach(d),k=c(m),D=l(m,"DIV",{});var p=o(D);P=l(p,"DIV",{class:!0});var g=o(P);V=l(g,"DIV",{});var v=o(V);B=l(v,"TABLE",{class:!0});var Q=o(B);T=l(Q,"THEAD",{class:!0});var K=o(T);A=l(K,"TR",{});var ee=o(A);M=l(ee,"TD",{class:!0});var te=o(M);R=i(te,"Rank"),te.forEach(d),W=c(ee),G=l(ee,"TD",{class:!0});var ae=o(G);j=i(ae,"Player"),ae.forEach(d),C=c(ee),F=l(ee,"TD",{class:!0});var re=o(F);N=i(re,"Wins"),re.forEach(d),L=c(ee),S=l(ee,"TD",{class:!0});var se=o(S);U=i(se,"Earned"),se.forEach(d),z=c(ee),O=l(ee,"TD",{class:!0});var ne=o(O);Y=i(ne,"Multiplier"),ne.forEach(d),ee.forEach(d),K.forEach(d),H=c(Q),J=l(Q,"TBODY",{class:!0});var le=o(J);for(let e=0;e<_.length;e+=1)_[e].l(le);le.forEach(d),Q.forEach(d),v.forEach(d),g.forEach(d),p.forEach(d),m.forEach(d),r.forEach(d),this.h()},h(){f(y,"class","text-6xl"),f(u,"class","mode-timer lg:flex items-end"),f(a,"class","pl-7 lg:pl-24 pt-8 lg:pt-12"),f(b,"class","flex flex-col items-center lg:flex-row"),f(M,"class","px-6 py-3"),f(G,"class","px-6 py-3"),f(F,"class","px-6 py-3"),f(S,"class","px-6 py-3"),f(O,"class","px-6 py-3"),f(T,"class","bg-primary "),f(J,"class","divide-y-4 divide-background text-l"),f(B,"class","card px-4 overflow-hidden mt-10 lg:mt-20"),f(P,"class","overflow-x-scroll lg:overflow-auto pl-6 lg:pl-0 pb-4 lg:pb-8 "),f(w,"class","flex flex-col lg:items-center mt-8 lg:mt-0 relative lg:ml-24"),f(t,"class","")},m(e,r){m(e,t,r),h(t,a),h(a,u),h(u,y),h(y,E),h(t,x),h(t,w),h(w,b);for(let e=0;e<X.length;e+=1)X[e].m(b,null);h(b,$),q&&q.m(b,null),h(b,I),Z&&Z.m(b,null),h(w,k),h(w,D),h(D,P),h(P,V),h(V,B),h(B,T),h(T,A),h(A,M),h(M,R),h(A,W),h(A,G),h(G,j),h(A,C),h(A,F),h(F,N),h(A,L),h(A,S),h(S,U),h(A,z),h(A,O),h(O,Y),h(B,H),h(B,J);for(let e=0;e<_.length;e+=1)_[e].m(J,null)},p(e,[t]){if(2&t){let a;for(Q=e[1][0],a=0;a<Q.length;a+=1){const r=se(e,Q,a);X[a]?X[a].p(r,t):(X[a]=ne(r),X[a].c(),X[a].m(b,$))}for(;a<X.length;a+=1)X[a].d(1);X.length=Q.length}if(""!==e[1][1]&&q.p(e,t),""!==e[1][2]&&Z.p(e,t),2&t){let a;for(K=e[1],a=0;a<K.length;a+=1){const r=ee(e,K,a);_[a]?_[a].p(r,t):(_[a]=ie(r),_[a].c(),_[a].m(J,null))}for(;a<_.length;a+=1)_[a].d(1);_.length=K.length}},i:p,o:p,d(e){e&&d(t),v(X,e),q&&q.d(),Z&&Z.d(),v(_,e)}}}function fe(e,t,a){let{players:r}=t,{winners:s}=t;const n=s.map((e=>{let t=[];return e.forEach(((e,a)=>{if(""==e)return;const s=r.find((t=>t.steamId==e.steamId));t.push({username:s.username,avatarURL:s.avatarURL,legends:s.legends,wins:s.wins,coinsEarned:e.coins,multiplier:e.multiplier})})),t}));return e.$$set=e=>{"players"in e&&a(2,r=e.players),"winners"in e&&a(0,s=e.winners)},[s,n,r]}class ue extends e{constructor(e){super(),t(this,e,fe,de,a,{players:2,winners:0})}}function me(e){let t,a,g,v,b,$,I,k,D,P,V,B,T=e[0].adsWatched<8?"Play ad":"Maximum ads reached";return{c(){t=r("button"),a=n(T),v=s(),b=r("input"),I=s(),k=r("div"),D=r("script"),P=n('function playAd() {\r\n            const init = (api) => {\r\n                if (api) {\r\n\r\n                    api.on("AdVideoStart", function() {\r\n                        document.getElementById("transfer").value = 1;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                        //api.setAdVolume(1);\r\n                        document.body.onblur = function() {\r\n                            //api.pauseAd();\r\n                        };\r\n                        document.body.onfocus = function() {\r\n                            //api.resumeAd();\r\n                        };\r\n                    });\r\n                    api.on("AdVideoFirstQuartile", () => {\r\n                        document.getElementById("transfer").value = 2;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoMidpoint", () => {\r\n                        document.getElementById("transfer").value = 3;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoThirdQuartile", () => {\r\n                        document.getElementById("transfer").value = 4;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoComplete", function() {\r\n                        document.getElementById("transfer").value = 5;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                        document.body.onblur = null;\r\n                        document.body.onfocus = null;\r\n                    });\r\n                } else {\r\n                    console.log("blank");\r\n                }\r\n            };\r\n            var s = document.querySelector("script[data-playerPro=\\"current\\"]");\r\n            //s.removeAttribute("data-playerPro");\r\n            (playerPro = window.playerPro || []).push({\r\n                id: "oOMhJ7zhhrjUgiJx4ZxVYPvrXaDjI3VFmkVHIzxJ2nYvXX8krkzp",\r\n                after: s,\r\n                init: init\r\n            });\r\n        }'),this.h()},l(e){t=l(e,"BUTTON",{disabled:!0,class:!0,style:!0,onclick:!0});var r=o(t);a=i(r,T),r.forEach(d),v=c(e),b=l(e,"INPUT",{hidden:!0,id:!0}),I=c(e),k=l(e,"DIV",{});var s=o(k);D=l(s,"SCRIPT",{"data-playerPro":!0});var n=o(D);P=i(n,'function playAd() {\r\n            const init = (api) => {\r\n                if (api) {\r\n\r\n                    api.on("AdVideoStart", function() {\r\n                        document.getElementById("transfer").value = 1;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                        //api.setAdVolume(1);\r\n                        document.body.onblur = function() {\r\n                            //api.pauseAd();\r\n                        };\r\n                        document.body.onfocus = function() {\r\n                            //api.resumeAd();\r\n                        };\r\n                    });\r\n                    api.on("AdVideoFirstQuartile", () => {\r\n                        document.getElementById("transfer").value = 2;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoMidpoint", () => {\r\n                        document.getElementById("transfer").value = 3;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoThirdQuartile", () => {\r\n                        document.getElementById("transfer").value = 4;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoComplete", function() {\r\n                        document.getElementById("transfer").value = 5;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                        document.body.onblur = null;\r\n                        document.body.onfocus = null;\r\n                    });\r\n                } else {\r\n                    console.log("blank");\r\n                }\r\n            };\r\n            var s = document.querySelector("script[data-playerPro=\\"current\\"]");\r\n            //s.removeAttribute("data-playerPro");\r\n            (playerPro = window.playerPro || []).push({\r\n                id: "oOMhJ7zhhrjUgiJx4ZxVYPvrXaDjI3VFmkVHIzxJ2nYvXX8krkzp",\r\n                after: s,\r\n                init: init\r\n            });\r\n        }'),n.forEach(d),s.forEach(d),this.h()},h(){t.disabled=g=e[0].adsWatched>=8,f(t,"class","button button-brand lg:mr-8 mt-2\r\n                            lg:mt-0 mb-5\r\n                            lg:mb-0  text-background svelte-ddkpvh"),f(t,"onclick","playAd()"),u(t,"FfaWatchAd","FfaWatchAd"===e[1]),b.hidden=!0,f(b,"id",$=e[3]?"transfer":1e3*Math.random()),f(D,"data-playerpro","current")},m(r,s){m(r,t,s),h(t,a),m(r,v,s),m(r,b,s),y(b,e[2]),m(r,I,s),m(r,k,s),h(k,D),h(D,P),V||(B=[E(t,"click",e[9]),E(b,"input",e[10])],V=!0)},p(e,[r]){1&r&&T!==(T=e[0].adsWatched<8?"Play ad":"Maximum ads reached")&&x(a,T),1&r&&g!==(g=e[0].adsWatched>=8)&&(t.disabled=g),2&r&&u(t,"FfaWatchAd","FfaWatchAd"===e[1]),8&r&&$!==($=e[3]?"transfer":1e3*Math.random())&&f(b,"id",$),4&r&&b.value!==e[2]&&y(b,e[2])},i:p,o:p,d(e){e&&d(t),e&&d(v),e&&d(b),e&&d(I),e&&d(k),V=!1,w(B)}}}function he(e,t,a){let r,s,{socket:n}=t,{userPlayer:l}=t,{id:o}=t,{adError:c}=t,{info:i}=t,{finished:d}=t,{page:f}=t;n.on("advideo",(e=>{r&&("error"===e.code?(console.log(e.message),a(4,c=e.message),a(6,d=!0),a(3,r=!1)):"success"===e.code&&(a(5,i=e.message),a(0,l.adsWatched++,l),a(0,l.multiplier+=1===l.adsWatched?200:300,l),a(6,d=!0),a(3,r=!1)))}));return e.$$set=e=>{"socket"in e&&a(7,n=e.socket),"userPlayer"in e&&a(0,l=e.userPlayer),"id"in e&&a(8,o=e.id),"adError"in e&&a(4,c=e.adError),"info"in e&&a(5,i=e.info),"finished"in e&&a(6,d=e.finished),"page"in e&&a(1,f=e.page)},e.$$.update=()=>{if(389&e.$$.dirty&&s>0){console.log("nn");try{n.emit("advideo","1"===s?{state:1,steamId:l.steamId,room:o,goal:"earnMoreFFA"}:{state:s,steamId:l.steamId})}catch(e){console.log(e)}}},[l,f,s,r,c,i,d,n,o,()=>a(3,r=!0),function(){s=this.value,a(2,s)}]}class pe extends e{constructor(e){super(),t(this,e,he,me,a,{socket:7,userPlayer:0,id:8,adError:4,info:5,finished:6,page:1})}}function ge(e){let t,a,u,p,g,v,y,x,w,G,j,N,L,S,U,z,O,Y,H,J,Q,X,q,Z,K,_,ee,te,ae,re,se,ne,le,oe,ce,ie,de,fe,ue,me,he;let ge=function(e,t){return 1==e[6]?ye:ve}(e)(e);function Ee(t){e[7].call(null,t)}function xe(t){e[8].call(null,t)}function we(t){e[9].call(null,t)}function be(t){e[10].call(null,t)}let $e={socket:e[3],id:e[4],page:"FfaWatchAd"};return void 0!==e[0]&&($e.userPlayer=e[0]),void 0!==e[1]&&($e.adError=e[1]),void 0!==e[2]&&($e.info=e[2]),void 0!==e[5]&&($e.finished=e[5]),ae=new pe({props:$e}),C.push((()=>F(ae,"userPlayer",Ee))),C.push((()=>F(ae,"adError",xe))),C.push((()=>F(ae,"info",we))),C.push((()=>F(ae,"finished",be))),{c(){t=r("div"),a=r("div"),p=s(),g=r("div"),v=r("div"),y=r("div"),x=r("h1"),w=n("MULTIPLY YOUR REWARDS"),G=s(),j=r("p"),N=n("Want to obtain a first "),L=r("b"),S=n("x5 boost"),U=n(" on the\r\n                        "),z=r("b"),O=n("coins"),Y=n("\r\n                        you\r\n                        will\r\n                        "),H=r("b"),J=n("win"),Q=n(" by playing this match?"),X=s(),q=r("p"),Z=n("Watch a short video by clicking the button below!"),K=s(),ge.c(),_=s(),ee=r("div"),te=r("div"),b(ae.$$.fragment),oe=s(),ce=r("button"),ie=n("Continue\r\n                            to match"),this.h()},l(e){t=l(e,"DIV",{class:!0});var r=o(t);a=l(r,"DIV",{class:!0}),o(a).forEach(d),p=c(r),g=l(r,"DIV",{class:!0});var s=o(g);v=l(s,"DIV",{class:!0});var n=o(v);y=l(n,"DIV",{class:!0});var f=o(y);x=l(f,"H1",{class:!0});var u=o(x);w=i(u,"MULTIPLY YOUR REWARDS"),u.forEach(d),G=c(f),j=l(f,"P",{class:!0});var m=o(j);N=i(m,"Want to obtain a first "),L=l(m,"B",{class:!0});var h=o(L);S=i(h,"x5 boost"),h.forEach(d),U=i(m," on the\r\n                        "),z=l(m,"B",{class:!0});var E=o(z);O=i(E,"coins"),E.forEach(d),Y=i(m,"\r\n                        you\r\n                        will\r\n                        "),H=l(m,"B",{class:!0});var b=o(H);J=i(b,"win"),b.forEach(d),Q=i(m," by playing this match?"),m.forEach(d),X=c(f),q=l(f,"P",{class:!0});var I=o(q);Z=i(I,"Watch a short video by clicking the button below!"),I.forEach(d),f.forEach(d),K=c(n),ge.l(n),_=c(n),ee=l(n,"DIV",{class:!0});var k=o(ee);te=l(k,"DIV",{class:!0});var D=o(te);$(ae.$$.fragment,D),oe=c(D),ce=l(D,"BUTTON",{class:!0,style:!0});var P=o(ce);ie=i(P,"Continue\r\n                            to match"),P.forEach(d),D.forEach(d),k.forEach(d),n.forEach(d),s.forEach(d),r.forEach(d),this.h()},h(){f(a,"class","hidden md:block md:w-1/4 lg:w-1/2 2xl:w-3/5 bg-background bg-opacity-70"),f(x,"class"," text-6xl   mt-8 sm:mt-13"),f(L,"class","svelte-vxaowk"),f(z,"class","svelte-vxaowk"),f(H,"class","svelte-vxaowk"),f(j,"class","text-3xl mt-7 lg:mt-12 max-w-md   "),f(q,"class","text-2xl mt-4 text-mid-light italic"),f(y,"class","text-center md:text-left"),f(ce,"class","button button-brand mt-5 sm:mt-0 mb-1"),I(ce,"background-color","#fc1870"),I(ce,"padding","0.75rem 1.5rem"),f(te,"class","mt-4 flex flex-col items-center sm:items-start sm:flex-row"),f(ee,"class","mt-12 sm:mt-0 sm:mb-24"),f(v,"class","sm:flex sm:flex-col items-center justify-between mx-7 h-full"),f(g,"class","bg-background w-full md:w-3/4  lg:w-1/2   2xl:w-2/5    h-full   md:border-l-2 border-primary"),f(t,"class","sm:flex absolute top-0 bottom-0 left-0 right-0 z-10 overflow-x-hidden")},m(r,s){m(r,t,s),h(t,a),h(t,p),h(t,g),h(g,v),h(v,y),h(y,x),h(x,w),h(y,G),h(y,j),h(j,N),h(j,L),h(L,S),h(j,U),h(j,z),h(z,O),h(j,Y),h(j,H),h(H,J),h(j,Q),h(y,X),h(y,q),h(q,Z),h(v,K),ge.m(v,null),h(v,_),h(v,ee),h(ee,te),k(ae,te,null),h(te,oe),h(te,ce),h(ce,ie),ue=!0,me||(he=E(ce,"click",e[11]),me=!0)},p(e,t){const a={};8&t&&(a.socket=e[3]),16&t&&(a.id=e[4]),!re&&1&t&&(re=!0,a.userPlayer=e[0],D((()=>re=!1))),!se&&2&t&&(se=!0,a.adError=e[1],D((()=>se=!1))),!ne&&4&t&&(ne=!0,a.info=e[2],D((()=>ne=!1))),!le&&32&t&&(le=!0,a.finished=e[5],D((()=>le=!1))),ae.$set(a)},i(e){ue||(u&&u.end(1),P(ae.$$.fragment,e),V((()=>{fe&&fe.end(1),de||(de=B(g,R,{x:500,duration:400})),de.start()})),ue=!0)},o(e){u=T(a,A,{duration:350}),M(ae.$$.fragment,e),de&&de.invalidate(),fe=T(g,R,{x:500,duration:350}),ue=!1},d(e){e&&d(t),e&&u&&u.end(),ge.d(),W(ae),e&&fe&&fe.end(),me=!1,he()}}}function ve(e){let t,a,u,p,g,v,y,E,x,w,b,$,k,D,P,V,B;return{c(){t=r("div"),a=r("p"),u=n("Did you know?"),p=s(),g=r("p"),v=n("If you are first and you watch "),y=r("strong"),E=n("2 videos"),x=n(" this match you will earn "),w=r("strong"),b=n("1000\r\n                            coins"),$=n(" vs "),k=r("b"),D=n("100 coins"),P=n(" if you watch "),V=r("b"),B=n("0 video"),this.h()},l(e){t=l(e,"DIV",{class:!0,style:!0});var r=o(t);a=l(r,"P",{class:!0});var s=o(a);u=i(s,"Did you know?"),s.forEach(d),p=c(r),g=l(r,"P",{});var n=o(g);v=i(n,"If you are first and you watch "),y=l(n,"STRONG",{class:!0});var f=o(y);E=i(f,"2 videos"),f.forEach(d),x=i(n," this match you will earn "),w=l(n,"STRONG",{class:!0});var m=o(w);b=i(m,"1000\r\n                            coins"),m.forEach(d),$=i(n," vs "),k=l(n,"B",{style:!0,class:!0});var h=o(k);D=i(h,"100 coins"),h.forEach(d),P=i(n," if you watch "),V=l(n,"B",{style:!0,class:!0});var I=o(V);B=i(I,"0 video"),I.forEach(d),n.forEach(d),r.forEach(d),this.h()},h(){f(a,"class","mb-4 text-4xl text-primary"),f(y,"class","svelte-vxaowk"),f(w,"class","svelte-vxaowk"),I(k,"color","#fc1870"),f(k,"class","svelte-vxaowk"),I(V,"color","#fc1870"),f(V,"class","svelte-vxaowk"),f(t,"class","card py-6 px-6 w-full mt-10 sm:mt-0 sm:w-auto sm:py-8 sm:px-10"),I(t,"max-width","27.5rem")},m(e,r){m(e,t,r),h(t,a),h(a,u),h(t,p),h(t,g),h(g,v),h(g,y),h(y,E),h(g,x),h(g,w),h(w,b),h(g,$),h(g,k),h(k,D),h(g,P),h(g,V),h(V,B)},d(e){e&&d(t)}}}function ye(e){let t,a,u,p,g,v,y,E,x,w,b,$,k,D;return{c(){t=r("div"),a=r("p"),u=n("Did you know?"),p=s(),g=r("p"),v=n("Watching at least "),y=r("strong"),E=n("2 videos per match"),x=n(" will "),w=r("u"),b=n("divide"),$=n(" the time to earn a\r\n                            battle\r\n                            pass by "),k=r("strong"),D=n("10\r\n                                hours"),this.h()},l(e){t=l(e,"DIV",{class:!0,style:!0});var r=o(t);a=l(r,"P",{class:!0});var s=o(a);u=i(s,"Did you know?"),s.forEach(d),p=c(r),g=l(r,"P",{});var n=o(g);v=i(n,"Watching at least "),y=l(n,"STRONG",{class:!0});var f=o(y);E=i(f,"2 videos per match"),f.forEach(d),x=i(n," will "),w=l(n,"U",{});var m=o(w);b=i(m,"divide"),m.forEach(d),$=i(n," the time to earn a\r\n                            battle\r\n                            pass by "),k=l(n,"STRONG",{class:!0});var h=o(k);D=i(h,"10\r\n                                hours"),h.forEach(d),n.forEach(d),r.forEach(d),this.h()},h(){f(a,"class","mb-4 text-4xl text-primary"),f(y,"class","svelte-vxaowk"),f(k,"class","svelte-vxaowk"),f(t,"class","card py-6 px-6 w-full mt-10 sm:mt-0 sm:w-auto sm:py-8 sm:px-10"),I(t,"max-width","27.5rem")},m(e,r){m(e,t,r),h(t,a),h(a,u),h(t,p),h(t,g),h(g,v),h(g,y),h(y,E),h(g,x),h(g,w),h(w,b),h(g,$),h(g,k),h(k,D)},d(e){e&&d(t)}}}function Ee(e){let t,a,r=!e[5]&&ge(e);return{c(){r&&r.c(),t=g()},l(e){r&&r.l(e),t=g()},m(e,s){r&&r.m(e,s),m(e,t,s),a=!0},p(e,[a]){e[5]?r&&(G(),M(r,1,1,(()=>{r=null})),j()):r?(r.p(e,a),32&a&&P(r,1)):(r=ge(e),r.c(),P(r,1),r.m(t.parentNode,t))},i(e){a||(P(r),a=!0)},o(e){M(r),a=!1},d(e){r&&r.d(e),e&&d(t)}}}function xe(e,t,a){let r,s=Math.floor(2*Math.random()),{socket:n}=t,{userPlayer:l}=t,{id:o}=t,{adError:c}=t,{info:i}=t;return e.$$set=e=>{"socket"in e&&a(3,n=e.socket),"userPlayer"in e&&a(0,l=e.userPlayer),"id"in e&&a(4,o=e.id),"adError"in e&&a(1,c=e.adError),"info"in e&&a(2,i=e.info)},[l,c,i,n,o,r,s,function(e){l=e,a(0,l)},function(e){c=e,a(1,c)},function(e){i=e,a(2,i)},function(e){r=e,a(5,r)},()=>a(5,r=!0)]}class we extends e{constructor(e){super(),t(this,e,xe,Ee,a,{socket:3,userPlayer:0,id:4,adError:1,info:2})}}function be(e,t,a){const r=e.slice();return r[29]=t[a],r}function $e(e){let t,a;return t=new Q({props:{data:"Loading game data...",duration:500}}),{c(){b(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,r){k(t,e,r),a=!0},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){M(t.$$.fragment,e),a=!1},d(e){W(t,e)}}}function Ie(e){let t,a,n,i,u,h=e[0]&&De(e);const p=[Ve,Pe],g=[];function v(e,t){return e[3]?0:1}return n=v(e),i=g[n]=p[n](e),{c(){h&&h.c(),t=s(),a=r("div"),i.c(),this.h()},l(e){h&&h.l(e),t=c(e),a=l(e,"DIV",{class:!0});var r=o(a);i.l(r),r.forEach(d),this.h()},h(){f(a,"class","h-full  ")},m(e,r){h&&h.m(e,r),m(e,t,r),m(e,a,r),g[n].m(a,null),u=!0},p(e,r){e[0]?h?(h.p(e,r),1&r[0]&&P(h,1)):(h=De(e),h.c(),P(h,1),h.m(t.parentNode,t)):h&&(G(),M(h,1,1,(()=>{h=null})),j());let s=n;n=v(e),n===s?g[n].p(e,r):(G(),M(g[s],1,1,(()=>{g[s]=null})),j(),i=g[n],i?i.p(e,r):(i=g[n]=p[n](e),i.c()),P(i,1),i.m(a,null))},i(e){u||(P(h),P(i),u=!0)},o(e){M(h),M(i),u=!1},d(e){h&&h.d(e),e&&d(t),e&&d(a),g[n].d()}}}function ke(e){let t,a,u,g,v,y;return{c(){t=r("div"),a=r("h2"),u=s(),g=r("a"),v=r("p"),y=n("Go to play page"),this.h()},l(e){t=l(e,"DIV",{class:!0});var r=o(t);a=l(r,"H2",{class:!0}),o(a).forEach(d),u=c(r),g=l(r,"A",{href:!0});var s=o(g);v=l(s,"P",{class:!0});var n=o(v);y=i(n,"Go to play page"),n.forEach(d),s.forEach(d),r.forEach(d),this.h()},h(){f(a,"class","lg:text-5xl text-3xl text-center"),f(v,"class","underline lg:text-3xl pt-4 text-2xl  text-center text-primary"),f(g,"href","/play"),f(t,"class","w-full content-center lg:mt-60 mt-25 ")},m(r,s){m(r,t,s),h(t,a),a.innerHTML=e[8],h(t,u),h(t,g),h(g,v),h(v,y)},p(e,t){256&t[0]&&(a.innerHTML=e[8])},i:p,o:p,d(e){e&&d(t)}}}function De(e){let t,a;return t=new Z({props:{message:"Thanks for watching a video",pushError:e[0]}}),{c(){b(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,r){k(t,e,r),a=!0},p(e,a){const r={};1&a[0]&&(r.pushError=e[0]),t.$set(r)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){M(t.$$.fragment,e),a=!1},d(e){W(t,e)}}}function Pe(e){let t,a;return t=new Q({props:{data:"Loading game data..."}}),{c(){b(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,r){k(t,e,r),a=!0},p:p,i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){M(t.$$.fragment,e),a=!1},d(e){W(t,e)}}}function Ve(e){let t,a,r,n,l,o,i,f,u,h;const p=[Te,Be],g=[];function v(e,t){return e[4]?0:1}function y(t){e[20].call(null,t)}function E(t){e[21].call(null,t)}function x(t){e[22].call(null,t)}t=v(e),a=g[t]=p[t](e),n=new _({props:{page:"ffa"}});let w={socket:e[10],id:e[2]};return void 0!==e[6]&&(w.userPlayer=e[6]),void 0!==e[1]&&(w.adError=e[1]),void 0!==e[0]&&(w.info=e[0]),o=new we({props:w}),C.push((()=>F(o,"userPlayer",y))),C.push((()=>F(o,"adError",E))),C.push((()=>F(o,"info",x))),{c(){a.c(),r=s(),b(n.$$.fragment),l=s(),b(o.$$.fragment)},l(e){a.l(e),r=c(e),$(n.$$.fragment,e),l=c(e),$(o.$$.fragment,e)},m(e,a){g[t].m(e,a),m(e,r,a),k(n,e,a),m(e,l,a),k(o,e,a),h=!0},p(e,s){let n=t;t=v(e),t===n?g[t].p(e,s):(G(),M(g[n],1,1,(()=>{g[n]=null})),j(),a=g[t],a?a.p(e,s):(a=g[t]=p[t](e),a.c()),P(a,1),a.m(r.parentNode,r));const l={};1024&s[0]&&(l.socket=e[10]),4&s[0]&&(l.id=e[2]),!i&&64&s[0]&&(i=!0,l.userPlayer=e[6],D((()=>i=!1))),!f&&2&s[0]&&(f=!0,l.adError=e[1],D((()=>f=!1))),!u&&1&s[0]&&(u=!0,l.info=e[0],D((()=>u=!1))),o.$set(l)},i(e){h||(P(a),P(n.$$.fragment,e),P(o.$$.fragment,e),h=!0)},o(e){M(a),M(n.$$.fragment,e),M(o.$$.fragment,e),h=!1},d(e){g[t].d(e),e&&d(r),W(n,e),e&&d(l),W(o,e)}}}function Be(e){let t,a,u,p,g,v,y,E,w,I,V,B,T,A,R,N,L,S,U,z,O,Y,H,J,Q,q,Z,_,ee,te,ae,re,se,ne=e[6].adsWatched+"",le=e[6].adsWatched>1?"s":"",oe=e[6].multiplier/100+"";function ce(e,t){return e[5]?Me:Ae}let ie=ce(e),de=ie(e);function fe(t){e[15].call(null,t)}function ue(t){e[16].call(null,t)}function me(t){e[17].call(null,t)}w=new K({props:{user:e[6]}});let he={socket:e[10],id:e[2]};void 0!==e[6]&&(he.userPlayer=e[6]),void 0!==e[1]&&(he.adError=e[1]),void 0!==e[0]&&(he.info=e[0]),H=new pe({props:he}),C.push((()=>F(H,"userPlayer",fe))),C.push((()=>F(H,"adError",ue))),C.push((()=>F(H,"info",me))),_=new X({props:{isRefreshing:e[12],refreshMessage:"Refresh data"}}),_.$on("click",e[18]);let ge=0==e[6].gamesPlayed&&Re(e),ve=e[6]&&Ge(e),ye=e[7]&&je(e);return{c(){t=r("div"),a=r("div"),u=r("div"),p=r("h1"),g=n("FFA"),v=s(),y=r("p"),de.c(),E=s(),b(w.$$.fragment),I=s(),V=r("div"),B=r("p"),T=n("You watched "),A=r("strong"),R=n(ne),N=n("\r\n                                ad"),L=n(le),S=n(", earnings will be multiplied by\r\n                                "),U=r("strong"),z=n(oe),O=n("!"),Y=s(),b(H.$$.fragment),Z=s(),b(_.$$.fragment),ee=s(),ge&&ge.c(),te=s(),ae=r("div"),ve&&ve.c(),re=s(),ye&&ye.c(),this.h()},l(e){t=l(e,"DIV",{class:!0});var r=o(t);a=l(r,"DIV",{class:!0});var s=o(a);u=l(s,"DIV",{class:!0});var n=o(u);p=l(n,"H1",{class:!0});var f=o(p);g=i(f,"FFA"),f.forEach(d),v=c(n),y=l(n,"P",{class:!0});var m=o(y);de.l(m),m.forEach(d),n.forEach(d),E=c(s),$(w.$$.fragment,s),I=c(s),V=l(s,"DIV",{class:!0});var h=o(V);B=l(h,"P",{class:!0});var x=o(B);T=i(x,"You watched "),A=l(x,"STRONG",{class:!0});var b=o(A);R=i(b,ne),N=i(b,"\r\n                                ad"),L=i(b,le),b.forEach(d),S=i(x,", earnings will be multiplied by\r\n                                "),U=l(x,"STRONG",{class:!0});var k=o(U);z=i(k,oe),k.forEach(d),O=i(x,"!"),x.forEach(d),Y=c(h),$(H.$$.fragment,h),Z=c(h),$(_.$$.fragment,h),ee=c(h),ge&&ge.l(h),h.forEach(d),s.forEach(d),te=c(r),ae=l(r,"DIV",{class:!0});var D=o(ae);ve&&ve.l(D),re=c(D),ye&&ye.l(D),D.forEach(d),r.forEach(d),this.h()},h(){f(p,"class","text-6xl leading-none"),f(y,"class","timer text-primary ml-5 text-3xl leading-none svelte-17zhf7g"),f(u,"class","mode-timer flex justify-center lg:justify-start\r\n                        items-end w-52 "),f(A,"class","text-green font-normal text-3xl"),f(U,"class","text-green text-3xl font-normal"),f(B,"class","text-center lg:text-left mx-4 mt-1 lg:mt-0"),f(V,"class","lg:mr-7 mt-4 lg:mt-0 flex flex-col lg:flex-row\r\n                        items-center"),f(a,"class","flex flex-col justify-center lg:flex-row\r\n                    lg:justify-between items-center lg:mt-12 mt-7"),f(ae,"class","flex items-center flex-col lg:flex-row lg:items-start\r\n                    h-full lg:mt-6 lg:mb-24"),f(t,"class","h-full flex items-center flex-col lg:block lg:ml-24")},m(e,r){m(e,t,r),h(t,a),h(a,u),h(u,p),h(p,g),h(u,v),h(u,y),de.m(y,null),h(a,E),k(w,a,null),h(a,I),h(a,V),h(V,B),h(B,T),h(B,A),h(A,R),h(A,N),h(A,L),h(B,S),h(B,U),h(U,z),h(B,O),h(V,Y),k(H,V,null),h(V,Z),k(_,V,null),h(V,ee),ge&&ge.m(V,null),h(t,te),h(t,ae),ve&&ve.m(ae,null),h(ae,re),ye&&ye.m(ae,null),se=!0},p(e,t){ie===(ie=ce(e))&&de?de.p(e,t):(de.d(1),de=ie(e),de&&(de.c(),de.m(y,null)));const a={};64&t[0]&&(a.user=e[6]),w.$set(a),(!se||64&t[0])&&ne!==(ne=e[6].adsWatched+"")&&x(R,ne),(!se||64&t[0])&&le!==(le=e[6].adsWatched>1?"s":"")&&x(L,le),(!se||64&t[0])&&oe!==(oe=e[6].multiplier/100+"")&&x(z,oe);const r={};1024&t[0]&&(r.socket=e[10]),4&t[0]&&(r.id=e[2]),!J&&64&t[0]&&(J=!0,r.userPlayer=e[6],D((()=>J=!1))),!Q&&2&t[0]&&(Q=!0,r.adError=e[1],D((()=>Q=!1))),!q&&1&t[0]&&(q=!0,r.info=e[0],D((()=>q=!1))),H.$set(r);const s={};4096&t[0]&&(s.isRefreshing=e[12]),_.$set(s),0==e[6].gamesPlayed?ge?(ge.p(e,t),64&t[0]&&P(ge,1)):(ge=Re(e),ge.c(),P(ge,1),ge.m(V,null)):ge&&(G(),M(ge,1,1,(()=>{ge=null})),j()),e[6]?ve?ve.p(e,t):(ve=Ge(e),ve.c(),ve.m(ae,re)):ve&&(ve.d(1),ve=null),e[7]?ye?ye.p(e,t):(ye=je(e),ye.c(),ye.m(ae,null)):ye&&(ye.d(1),ye=null)},i(e){se||(P(w.$$.fragment,e),P(H.$$.fragment,e),P(_.$$.fragment,e),P(ge),se=!0)},o(e){M(w.$$.fragment,e),M(H.$$.fragment,e),M(_.$$.fragment,e),M(ge),se=!1},d(e){e&&d(t),de.d(),W(w),W(H),W(_),ge&&ge.d(),ve&&ve.d(),ye&&ye.d()}}}function Te(e){let t,a;return t=new ue({props:{players:e[3].players,winners:e[3].winners}}),{c(){b(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,r){k(t,e,r),a=!0},p(e,a){const r={};8&a[0]&&(r.players=e[3].players),8&a[0]&&(r.winners=e[3].winners),t.$set(r)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){M(t.$$.fragment,e),a=!1},d(e){W(t,e)}}}function Ae(e){let t;return{c(){t=n("Loading...")},l(e){t=i(e,"Loading...")},m(e,a){m(e,t,a)},p:p,d(e){e&&d(t)}}}function Me(e){let t;return{c(){t=n(e[5])},l(a){t=i(a,e[5])},m(e,a){m(e,t,a)},p(e,a){32&a[0]&&x(t,e[5])},d(e){e&&d(t)}}}function Re(e){let t,a,u,p,v,y,x,w=e[9]&&We(e);return{c(){t=r("button"),a=n("Quit lobby"),u=s(),w&&w.c(),p=g(),this.h()},l(e){t=l(e,"BUTTON",{class:!0,style:!0});var r=o(t);a=i(r,"Quit lobby"),r.forEach(d),u=c(e),w&&w.l(e),p=g(),this.h()},h(){f(t,"class","button button-brand quit lg:ml-4 mt-3\r\n                                lg:mt-0"),I(t,"background-color","#fc1870"),I(t,"padding-left","1.5rem"),I(t,"padding-right","1.5rem")},m(r,s){m(r,t,s),h(t,a),m(r,u,s),w&&w.m(r,s),m(r,p,s),v=!0,y||(x=E(t,"click",e[19]),y=!0)},p(e,t){e[9]?w?(w.p(e,t),512&t[0]&&P(w,1)):(w=We(e),w.c(),P(w,1),w.m(p.parentNode,p)):w&&(G(),M(w,1,1,(()=>{w=null})),j())},i(e){v||(P(w),v=!0)},o(e){M(w),v=!1},d(e){e&&d(t),e&&d(u),w&&w.d(e),e&&d(p),y=!1,x()}}}function We(e){let t,a;return t=new z({props:{message:"There was an error exiting the match",pushError:e[9]}}),{c(){b(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,r){k(t,e,r),a=!0},p(e,a){const r={};512&a[0]&&(r.pushError=e[9]),t.$set(r)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){M(t.$$.fragment,e),a=!1},d(e){W(t,e)}}}function Ge(e){let t,a,u,p,g,v,y,E,w,b,$,k,D,P,V,B,T,A,M=e[6].username+"",R=e[6].gamesPlayed+"",W=e[6].wins+"";return{c(){t=r("div"),a=r("div"),u=s(),p=r("p"),g=n(M),v=s(),y=r("div"),E=r("p"),w=n("Games played:\r\n                                        "),b=r("b"),$=n(R),k=n("\r\n                                        /8"),D=s(),P=r("p"),V=n("Games won:\r\n                                        "),B=r("b"),T=n(W),A=n("\r\n                                        /8"),this.h()},l(e){t=l(e,"DIV",{class:!0,style:!0});var r=o(t);a=l(r,"DIV",{class:!0,style:!0}),o(a).forEach(d),u=c(r),p=l(r,"P",{class:!0});var s=o(p);g=i(s,M),s.forEach(d),v=c(r),y=l(r,"DIV",{class:!0});var n=o(y);E=l(n,"P",{});var f=o(E);w=i(f,"Games played:\r\n                                        "),b=l(f,"B",{class:!0});var m=o(b);$=i(m,R),m.forEach(d),k=i(f,"\r\n                                        /8"),f.forEach(d),D=c(n),P=l(n,"P",{});var h=o(P);V=i(h,"Games won:\r\n                                        "),B=l(h,"B",{class:!0});var x=o(B);T=i(x,W),x.forEach(d),A=i(h,"\r\n                                        /8"),h.forEach(d),n.forEach(d),r.forEach(d),this.h()},h(){f(a,"class","max-w-full h-full "),I(a,"background-image","linear-gradient(to bottom right, #3d72e4 10%, #ee38ff)"),I(a,"filter","blur(4px)"),f(p,"class","player-name text-4xl svelte-17zhf7g"),f(b,"class","svelte-17zhf7g"),f(B,"class","svelte-17zhf7g"),f(y,"class","stats text-2xl bottom-5 text-ultra-light svelte-17zhf7g"),f(t,"class","mt-25 text-center relative border rounded outline-none w-60 h-100")},m(e,r){m(e,t,r),h(t,a),h(t,u),h(t,p),h(p,g),h(t,v),h(t,y),h(y,E),h(E,w),h(E,b),h(b,$),h(E,k),h(y,D),h(y,P),h(P,V),h(P,B),h(B,T),h(P,A)},p(e,t){64&t[0]&&M!==(M=e[6].username+"")&&x(g,M),64&t[0]&&R!==(R=e[6].gamesPlayed+"")&&x($,R),64&t[0]&&W!==(W=e[6].wins+"")&&x(T,W)},d(e){e&&d(t)}}}function je(e){let t,a=e[7],s=[];for(let t=0;t<a.length;t+=1)s[t]=Ce(be(e,a,t));return{c(){t=r("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=l(e,"DIV",{class:!0});var a=o(t);for(let e=0;e<s.length;e+=1)s[e].l(a);a.forEach(d),this.h()},h(){f(t,"class","flex flex-col justify-center lg:justify-start\r\n                            lg:flex-row lg:flex-wrap lg:ml-33 mt-14 lg:mt-0 mb-12 lg:mb-0")},m(e,a){m(e,t,a);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,r){if(128&r[0]){let n;for(a=e[7],n=0;n<a.length;n+=1){const l=be(e,a,n);s[n]?s[n].p(l,r):(s[n]=Ce(l),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}},d(e){e&&d(t),v(s,e)}}}function Ce(e){let t,a,u,p,g,v,y,E,w,b,$,k,D,P=e[29].username+"",V=e[29].gamesPlayed+"";return{c(){t=r("div"),a=r("div"),u=s(),p=r("p"),g=n(P),v=s(),y=r("div"),E=r("p"),w=n("Games played:\r\n                                                "),b=r("b"),$=n(V),k=n("\r\n                                                /8"),D=s(),this.h()},l(e){t=l(e,"DIV",{class:!0});var r=o(t);a=l(r,"DIV",{class:!0,style:!0}),o(a).forEach(d),u=c(r),p=l(r,"P",{class:!0});var s=o(p);g=i(s,P),s.forEach(d),v=c(r),y=l(r,"DIV",{class:!0});var n=o(y);E=l(n,"P",{});var f=o(E);w=i(f,"Games played:\r\n                                                "),b=l(f,"B",{class:!0});var m=o(b);$=i(m,V),m.forEach(d),k=i(f,"\r\n                                                /8"),f.forEach(d),n.forEach(d),D=c(r),r.forEach(d),this.h()},h(){f(a,"class","max-w-full h-full "),I(a,"background-image","linear-gradient(to bottom right, #3d72e4 10%, #3de488)"),I(a,"filter","blur(3px)"),f(p,"class","player-name text-3xl svelte-17zhf7g"),f(b,"class","svelte-17zhf7g"),f(y,"class","stats text-xl bottom-5\r\n                                        text-ultra-light svelte-17zhf7g"),f(t,"class","ffa-player card lg:mr-12 mb-8 border svelte-17zhf7g")},m(e,r){m(e,t,r),h(t,a),h(t,u),h(t,p),h(p,g),h(t,v),h(t,y),h(y,E),h(E,w),h(E,b),h(b,$),h(E,k),h(t,D)},p(e,t){128&t[0]&&P!==(P=e[29].username+"")&&x(g,P),128&t[0]&&V!==(V=e[29].gamesPlayed+"")&&x($,V)},d(e){e&&d(t)}}}function Fe(e){let t,a;return t=new z({props:{message:"An error occurred while watching the ad",pushError:e[1]}}),{c(){b(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,r){k(t,e,r),a=!0},p(e,a){const r={};2&a[0]&&(r.pushError=e[1]),t.$set(r)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){M(t.$$.fragment,e),a=!1},d(e){W(t,e)}}}function Ne(e){let t,a,n,i,u,p,g,v,y,E=e[11]&&!e[8]&&$e();const x=[ke,Ie],w=[];function b(e,t){return e[8]?0:1}u=b(e),p=w[u]=x[u](e);let $=e[1]&&Fe(e);return{c(){t=r("script"),n=s(),E&&E.c(),i=s(),p.c(),g=s(),v=r("div"),$&&$.c(),this.h()},l(e){const a=N('[data-svelte="svelte-m52iex"]',document.head);t=l(a,"SCRIPT",{async:!0,src:!0}),o(t).forEach(d),a.forEach(d),n=c(e),E&&E.l(e),i=c(e),p.l(e),g=c(e),v=l(e,"DIV",{});var r=o(v);$&&$.l(r),r.forEach(d),this.h()},h(){document.title="Winhalla | FFA match",t.async=!0,t.src!==(a="https://cdn.stat-rock.com/player.js")&&f(t,"src","https://cdn.stat-rock.com/player.js")},m(e,a){h(document.head,t),m(e,n,a),E&&E.m(e,a),m(e,i,a),w[u].m(e,a),m(e,g,a),m(e,v,a),$&&$.m(v,null),y=!0},p(e,t){e[11]&&!e[8]?E?2304&t[0]&&P(E,1):(E=$e(),E.c(),P(E,1),E.m(i.parentNode,i)):E&&(G(),M(E,1,1,(()=>{E=null})),j());let a=u;u=b(e),u===a?w[u].p(e,t):(G(),M(w[a],1,1,(()=>{w[a]=null})),j(),p=w[u],p?p.p(e,t):(p=w[u]=x[u](e),p.c()),P(p,1),p.m(g.parentNode,g)),e[1]?$?($.p(e,t),2&t[0]&&P($,1)):($=Fe(e),$.c(),P($,1),$.m(v,null)):$&&(G(),M($,1,1,(()=>{$=null})),j())},i(e){y||(P(E),P(p),P($),y=!0)},o(e){M(E),M(p),M($),y=!1},d(e){d(t),e&&d(n),E&&E.d(e),e&&d(i),w[u].d(e),e&&d(g),e&&d(v),$&&$.d()}}}function Le(e,t,a){const{page:r}=L();let s,n,l,o,c,i,d,f,u,m,h,p,g,v,y=!0;S((()=>{n=r.subscribe((async e=>{if(v="true"===e.query.spectator,l=void 0,a(3,o=void 0),a(4,c=void 0),a(6,d=void 0),a(7,f=void 0),a(8,h=void 0),a(10,g=void 0),a(2,s=e.params.id),!e.params.id&&!e.path.includes("/ffa/"))return console.log("not a ffa match");console.log("ffa match"),O.subscribe((e=>{l=e.content}))();try{if(l=await l,l=l.steam,a(3,o=await Y("get",`/getMatch/${s}`)),o instanceof Error)throw o;a(4,c=o.finished),E(!1);const e=new Date(d.joinDate),t=-((new Date).getTime()-new Date(e.setHours(e.getHours()+3)).getTime())/1e3;t<1?a(5,i="Waiting for others to finish (you can start a new game from the play page)"):function(e){let t,r,s,n=e;setInterval((function(){s=Math.floor(n%60),r=Math.floor(n/60%60),t=Math.floor(n/3600),r=r<10?"0"+r:r,s=s<10?"0"+s:s,a(5,i=t+":"+r+":"+s),--n<0&&(n=e)}),1e3)}(t),O.set({refresh:!0}),a(10,g=q.io(H)),g.on("connection",(e=>{console.log(e),g.emit("match connection","FFA"+s)})),g.on("join match",(e=>{console.log(e)})),g.on("lobbyUpdate",(e=>{a(3,o=e),E(!0)})),a(11,y=!1)}catch(e){if(console.log(e),e.response)return 400===e.response.status&&e.response.data.includes("Play at least one ranked")?void a(8,h="You have to play a ranked game before using the site (1v1 or 2v2 doesn't matter)"):400===e.response.status&&e.response.data.includes("Play at least one")?void a(8,h="You have to download brawlhalla and play at least a game (or you are logged in with the wrong account)"):void(404===e.response.status&&a(8,h="<p class='text-accent'>404, that's an error.</p> <p>Match not found</p>"));a(8,h=`<p class="text-accent">Wow, unexpected error occured, details for geeks below.</p> <p class="text-2xl">${e.toString()}</p>`)}}))})),U((()=>{n&&n()}));const E=e=>{if(e){let e=o.players.findIndex((e=>e.steamId===l.id));a(3,o.players[e].wins=d.wins,o),a(6,d=o.players[e])}else a(6,d=o.players.find((e=>e.steamId===l.id)));a(7,f=[...o.players]),f.splice(o.players.findIndex((e=>e.steamId===l.id)),1)};let x=!1;const w=async()=>{a(12,x=!0);let e=d.gamesPlayed;a(3,o=await Y("get",`/getMatch/${s}`)),E(!1),d.gamesPlayed!==e?O.set({refresh:!0}):o.finished&&!1===c&&(a(4,c=!0),O.set({refresh:!0})),a(12,x=!1)},b=async()=>{try{const e=await Y("post","/exitMatch");if(e instanceof Error)throw e;J("/play")}catch(e){a(9,p=e.response.data.message?e.response.data.message:e.response.data?e.response.data.toString():e.toString()),setTimeout((()=>{a(9,p=void 0)}),8e3)}};return e.$$.update=()=>{1&e.$$.dirty[0]&&u&&setTimeout((()=>{a(0,u=void 0)}),5e3),2&e.$$.dirty[0]&&m&&setTimeout((()=>{a(1,m=void 0)}),25e3)},[u,m,s,o,c,i,d,f,h,p,g,y,x,w,b,function(e){d=e,a(6,d)},function(e){m=e,a(1,m)},function(e){u=e,a(0,u)},()=>w(),()=>b(),function(e){d=e,a(6,d)},function(e){m=e,a(1,m)},function(e){u=e,a(0,u)}]}export default class extends e{constructor(e){super(),t(this,e,Le,Ne,a,{},[-1,-1])}}
