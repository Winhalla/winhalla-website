import{S as e,i as t,s as a,e as s,a as r,t as l,c as n,g as c,f as o,h as i,d,j as f,H as m,l as h,k as u,n as p,O as g,N as v,r as y,u as E,v as x,w,x as b,m as I,y as $,q as D,z as V,U as k,D as P,C as T,o as A,a0 as B,a1 as M,P as G,E as j,B as R,F,R as W,J as N,G as C}from"./client.4874d33d.js";import{L}from"./Loading.31b2e560.js";import{b as S,I as U,A as H,R as z}from"./AdblockAlert.20b2a138.js";import{G as Y}from"./GuideCard.59ef87a4.js";function O(e,t,a){const s=e.slice();return s[0]=t[a],s[4]=a,s}function J(e,t,a){const s=e.slice();return s[5]=t[a],s}function Q(e,t,a){const s=e.slice();return s[5]=t[a],s[4]=a,s}function X(e,t,a){const s=e.slice();return s[5]=t[a],s[4]=a,s}function q(e,t,a){const s=e.slice();return s[5]=t[a],s[4]=a,s}function Z(e){let t,a,g,v,y,E,x,w,b,I,$,D,V,k,P,T,A,B=e[5].username+"",M=e[5].wins+"";return{c(){t=s("div"),a=s("div"),g=s("div"),v=s("img"),x=r(),w=s("p"),b=l(B),I=r(),$=s("div"),D=s("p"),V=l("Games won: "),k=s("b"),P=l(M),T=l("/8"),A=r(),this.h()},l(e){t=n(e,"DIV",{});var s=c(t);a=n(s,"DIV",{});var r=c(a);g=n(r,"DIV",{class:!0});var l=c(g);v=n(l,"IMG",{src:!0,alt:!0,class:!0}),x=o(l),w=n(l,"P",{class:!0});var f=c(w);b=i(f,B),f.forEach(d),I=o(l),$=n(l,"DIV",{class:!0});var m=c($);D=n(m,"P",{});var h=c(D);V=i(h,"Games won: "),k=n(h,"B",{class:!0});var u=c(k);P=i(u,M),u.forEach(d),T=i(h,"/8"),h.forEach(d),m.forEach(d),l.forEach(d),r.forEach(d),A=o(s),s.forEach(d),this.h()},h(){v.src!==(y="/assets/CharactersBanners/"+e[5].legends+".png")&&f(v,"src",y),f(v,"alt",E=e[5].legends),f(v,"class","block"),f(w,"class","player-name text-4xl svelte-1dsvpkg"),f(k,"class","svelte-1dsvpkg"),f($,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(g,"class","ffa-player card user svelte-1dsvpkg"),m(t,"lg:ml-10",e[4]>0)},m(e,s){h(e,t,s),u(t,a),u(a,g),u(g,v),u(g,x),u(g,w),u(w,b),u(g,I),u(g,$),u($,D),u(D,V),u(D,k),u(k,P),u(D,T),u(t,A)},p:p,d(e){e&&d(t)}}}function K(e){let t,a,m,g,v,y,E,x,w,b,I,$,D,V,k,P,T,A=e[5].username+"",B=e[5].wins+"";return{c(){t=s("div"),a=s("div"),m=s("div"),g=s("img"),E=r(),x=s("p"),w=l(A),b=r(),I=s("div"),$=s("p"),D=l("Games won: "),V=s("b"),k=l(B),P=l("/8"),T=r(),this.h()},l(e){t=n(e,"DIV",{class:!0});var s=c(t);a=n(s,"DIV",{});var r=c(a);m=n(r,"DIV",{class:!0});var l=c(m);g=n(l,"IMG",{src:!0,alt:!0,class:!0}),E=o(l),x=n(l,"P",{class:!0});var f=c(x);w=i(f,A),f.forEach(d),b=o(l),I=n(l,"DIV",{class:!0});var h=c(I);$=n(h,"P",{});var u=c($);D=i(u,"Games won: "),V=n(u,"B",{class:!0});var p=c(V);k=i(p,B),p.forEach(d),P=i(u,"/8"),u.forEach(d),h.forEach(d),l.forEach(d),r.forEach(d),T=o(s),s.forEach(d),this.h()},h(){g.src!==(v="/assets/CharactersBanners/"+e[5].legends+".png")&&f(g,"src",v),f(g,"alt",y=e[5].legends),f(g,"class","block"),f(x,"class","player-name text-4xl svelte-1dsvpkg"),f(V,"class","svelte-1dsvpkg"),f(I,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(m,"class","ffa-player card user svelte-1dsvpkg"),f(t,"class","mt-10 lg:ml-10")},m(e,s){h(e,t,s),u(t,a),u(a,m),u(m,g),u(m,E),u(m,x),u(x,w),u(m,b),u(m,I),u(I,$),u($,D),u($,V),u(V,k),u($,P),u(t,T)},p:p,d(e){e&&d(t)}}}function _(e){let t,a,m,g,v,y,E,x,w,b,I,$,D,V,k,P,T,A=e[5].username+"",B=e[5].wins+"";return{c(){t=s("div"),a=s("div"),m=s("div"),g=s("img"),E=r(),x=s("p"),w=l(A),b=r(),I=s("div"),$=s("p"),D=l("Games won: "),V=s("b"),k=l(B),P=l("/8"),T=r(),this.h()},l(e){t=n(e,"DIV",{class:!0});var s=c(t);a=n(s,"DIV",{});var r=c(a);m=n(r,"DIV",{class:!0});var l=c(m);g=n(l,"IMG",{src:!0,alt:!0,class:!0}),E=o(l),x=n(l,"P",{class:!0});var f=c(x);w=i(f,A),f.forEach(d),b=o(l),I=n(l,"DIV",{class:!0});var h=c(I);$=n(h,"P",{});var u=c($);D=i(u,"Games won: "),V=n(u,"B",{class:!0});var p=c(V);k=i(p,B),p.forEach(d),P=i(u,"/8"),u.forEach(d),h.forEach(d),l.forEach(d),r.forEach(d),T=o(s),s.forEach(d),this.h()},h(){g.src!==(v="/assets/CharactersBanners/"+e[5].legends+".png")&&f(g,"src",v),f(g,"alt",y=e[5].legends),f(g,"class","block"),f(x,"class","player-name text-4xl svelte-1dsvpkg"),f(V,"class","svelte-1dsvpkg"),f(I,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(m,"class","ffa-player card user svelte-1dsvpkg"),f(t,"class","mt-10 lg:mt-20 lg:ml-10")},m(e,s){h(e,t,s),u(t,a),u(a,m),u(m,g),u(m,E),u(m,x),u(x,w),u(m,b),u(m,I),u(I,$),u($,D),u($,V),u(V,k),u($,P),u(t,T)},p:p,d(e){e&&d(t)}}}function ee(e){let t,a=(e[5].avatarURL||e[5].username)&&function(e){let t,a,m,g,v,y,E,x,w,b,I,$,D,V,k,P,T,A,B,M,G,j,R,F,W=e[4]+1+"",N=e[5].username+"",C=e[5].wins+"",L=e[5].coinsEarned+"",S=e[5].multiplier+"";return{c(){t=s("tr"),a=s("td"),m=s("b"),g=l(W),v=r(),y=s("td"),E=s("img"),b=r(),I=s("p"),$=l(N),D=r(),V=s("td"),k=s("b"),P=l(C),T=l("/8"),A=r(),B=s("td"),M=l(L),G=r(),j=s("td"),R=l(S),F=r(),this.h()},l(e){t=n(e,"TR",{class:!0});var s=c(t);a=n(s,"TD",{class:!0});var r=c(a);m=n(r,"B",{class:!0});var l=c(m);g=i(l,W),l.forEach(d),r.forEach(d),v=o(s),y=n(s,"TD",{class:!0});var f=c(y);E=n(f,"IMG",{class:!0,src:!0,alt:!0}),b=o(f),I=n(f,"P",{class:!0});var h=c(I);$=i(h,N),h.forEach(d),f.forEach(d),D=o(s),V=n(s,"TD",{class:!0});var u=c(V);k=n(u,"B",{class:!0});var p=c(k);P=i(p,C),p.forEach(d),T=i(u,"/8"),u.forEach(d),A=o(s),B=n(s,"TD",{class:!0});var x=c(B);M=i(x,L),x.forEach(d),G=o(s),j=n(s,"TD",{class:!0});var w=c(j);R=i(w,S),w.forEach(d),F=o(s),s.forEach(d),this.h()},h(){f(m,"class","font-normal svelte-1dsvpkg"),f(a,"class","px-6 py-2"),f(E,"class","block w-10 h-10 rounded-full"),E.src!==(x=e[5].avatarURL)&&f(E,"src",x),f(E,"alt",w=e[5].username),f(I,"class","pl-2"),f(y,"class","flex items-center px-6 py-2"),f(k,"class","text-primary font-normal svelte-1dsvpkg"),f(V,"class","px-6 py-2"),f(B,"class","px-6 py-2"),f(j,"class","px-6 py-2"),f(t,"class","text-center")},m(e,s){h(e,t,s),u(t,a),u(a,m),u(m,g),u(t,v),u(t,y),u(y,E),u(y,b),u(y,I),u(I,$),u(t,D),u(t,V),u(V,k),u(k,P),u(V,T),u(t,A),u(t,B),u(B,M),u(t,G),u(t,j),u(j,R),u(t,F)},p:p,d(e){e&&d(t)}}}(e);return{c(){a&&a.c(),t=g()},l(e){a&&a.l(e),t=g()},m(e,s){a&&a.m(e,s),h(e,t,s)},p(e,t){(e[5].avatarURL||e[5].username)&&a.p(e,t)},d(e){a&&a.d(e),e&&d(t)}}}function te(e){let t,a=e[0],s=[];for(let t=0;t<a.length;t+=1)s[t]=ee(J(e,a,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=g()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=g()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);h(e,t,a)},p(e,r){if(2&r){let l;for(a=e[0],l=0;l<a.length;l+=1){const n=J(e,a,l);s[l]?s[l].p(n,r):(s[l]=ee(n),s[l].c(),s[l].m(t.parentNode,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d(e){v(s,e),e&&d(t)}}}function ae(e){let t,a,m,y,E,x,w,b,I,$,D,V,k,P,T,A,B,M,G,j,R,F,W,N,C,L,S,U,H,z,Y,J,ee,ae=e[1][0],se=[];for(let t=0;t<ae.length;t+=1)se[t]=Z(q(e,ae,t));let re=""!==e[1][1]&&function(e){let t,a=e[1][1],s=[];for(let t=0;t<a.length;t+=1)s[t]=K(X(e,a,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=g()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=g()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);h(e,t,a)},p(e,r){if(2&r){let l;for(a=e[1][1],l=0;l<a.length;l+=1){const n=X(e,a,l);s[l]?s[l].p(n,r):(s[l]=K(n),s[l].c(),s[l].m(t.parentNode,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d(e){v(s,e),e&&d(t)}}}(e),le=""!==e[1][2]&&function(e){let t,a=e[1][2],s=[];for(let t=0;t<a.length;t+=1)s[t]=_(Q(e,a,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=g()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=g()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);h(e,t,a)},p(e,r){if(2&r){let l;for(a=e[1][2],l=0;l<a.length;l+=1){const n=Q(e,a,l);s[l]?s[l].p(n,r):(s[l]=_(n),s[l].c(),s[l].m(t.parentNode,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d(e){v(s,e),e&&d(t)}}}(e),ne=e[1],ce=[];for(let t=0;t<ne.length;t+=1)ce[t]=te(O(e,ne,t));return{c(){t=s("div"),a=s("div"),m=s("div"),y=s("h1"),E=l("Match Ended"),x=r(),w=s("div"),b=s("div");for(let e=0;e<se.length;e+=1)se[e].c();I=r(),re&&re.c(),$=r(),le&&le.c(),D=r(),V=s("div"),k=s("div"),P=s("div"),T=s("table"),A=s("thead"),B=s("tr"),M=s("td"),G=l("Rank"),j=r(),R=s("td"),F=l("Player"),W=r(),N=s("td"),C=l("Wins"),L=r(),S=s("td"),U=l("Earned"),H=r(),z=s("td"),Y=l("Multiplier"),J=r(),ee=s("tbody");for(let e=0;e<ce.length;e+=1)ce[e].c();this.h()},l(e){t=n(e,"DIV",{class:!0});var s=c(t);a=n(s,"DIV",{class:!0});var r=c(a);m=n(r,"DIV",{class:!0});var l=c(m);y=n(l,"H1",{class:!0});var f=c(y);E=i(f,"Match Ended"),f.forEach(d),l.forEach(d),r.forEach(d),x=o(s),w=n(s,"DIV",{class:!0});var h=c(w);b=n(h,"DIV",{class:!0});var u=c(b);for(let e=0;e<se.length;e+=1)se[e].l(u);I=o(u),re&&re.l(u),$=o(u),le&&le.l(u),u.forEach(d),D=o(h),V=n(h,"DIV",{});var p=c(V);k=n(p,"DIV",{class:!0});var g=c(k);P=n(g,"DIV",{});var v=c(P);T=n(v,"TABLE",{class:!0});var O=c(T);A=n(O,"THEAD",{class:!0});var Q=c(A);B=n(Q,"TR",{});var X=c(B);M=n(X,"TD",{class:!0});var q=c(M);G=i(q,"Rank"),q.forEach(d),j=o(X),R=n(X,"TD",{class:!0});var Z=c(R);F=i(Z,"Player"),Z.forEach(d),W=o(X),N=n(X,"TD",{class:!0});var K=c(N);C=i(K,"Wins"),K.forEach(d),L=o(X),S=n(X,"TD",{class:!0});var _=c(S);U=i(_,"Earned"),_.forEach(d),H=o(X),z=n(X,"TD",{class:!0});var te=c(z);Y=i(te,"Multiplier"),te.forEach(d),X.forEach(d),Q.forEach(d),J=o(O),ee=n(O,"TBODY",{class:!0});var ae=c(ee);for(let e=0;e<ce.length;e+=1)ce[e].l(ae);ae.forEach(d),O.forEach(d),v.forEach(d),g.forEach(d),p.forEach(d),h.forEach(d),s.forEach(d),this.h()},h(){f(y,"class","text-6xl"),f(m,"class","mode-timer lg:flex items-end"),f(a,"class","pl-7 lg:pl-24 pt-8 lg:pt-12"),f(b,"class","flex flex-col items-center lg:flex-row"),f(M,"class","px-6 py-3"),f(R,"class","px-6 py-3"),f(N,"class","px-6 py-3"),f(S,"class","px-6 py-3"),f(z,"class","px-6 py-3"),f(A,"class","bg-primary "),f(ee,"class","divide-y-4 divide-background text-l"),f(T,"class","card px-4 overflow-hidden mt-10 lg:mt-20"),f(k,"class","overflow-x-scroll lg:overflow-auto pl-6 lg:pl-0 pb-4 lg:pb-8 "),f(w,"class","flex flex-col lg:items-center mt-8 lg:mt-0 relative lg:ml-24"),f(t,"class","")},m(e,s){h(e,t,s),u(t,a),u(a,m),u(m,y),u(y,E),u(t,x),u(t,w),u(w,b);for(let e=0;e<se.length;e+=1)se[e].m(b,null);u(b,I),re&&re.m(b,null),u(b,$),le&&le.m(b,null),u(w,D),u(w,V),u(V,k),u(k,P),u(P,T),u(T,A),u(A,B),u(B,M),u(M,G),u(B,j),u(B,R),u(R,F),u(B,W),u(B,N),u(N,C),u(B,L),u(B,S),u(S,U),u(B,H),u(B,z),u(z,Y),u(T,J),u(T,ee);for(let e=0;e<ce.length;e+=1)ce[e].m(ee,null)},p(e,[t]){if(2&t){let a;for(ae=e[1][0],a=0;a<ae.length;a+=1){const s=q(e,ae,a);se[a]?se[a].p(s,t):(se[a]=Z(s),se[a].c(),se[a].m(b,I))}for(;a<se.length;a+=1)se[a].d(1);se.length=ae.length}if(""!==e[1][1]&&re.p(e,t),""!==e[1][2]&&le.p(e,t),2&t){let a;for(ne=e[1],a=0;a<ne.length;a+=1){const s=O(e,ne,a);ce[a]?ce[a].p(s,t):(ce[a]=te(s),ce[a].c(),ce[a].m(ee,null))}for(;a<ce.length;a+=1)ce[a].d(1);ce.length=ne.length}},i:p,o:p,d(e){e&&d(t),v(se,e),re&&re.d(),le&&le.d(),v(ce,e)}}}function se(e,t,a){let{players:s}=t,{winners:r}=t;const l=r.map((e=>{let t=[];return e.forEach(((e,a)=>{if(""==e)return;const r=s.find((t=>t.steamId==e.steamId));t.push({username:r.username,avatarURL:r.avatarURL,legends:r.legends,wins:r.wins,coinsEarned:e.coins,multiplier:e.multiplier})})),t}));return e.$$set=e=>{"players"in e&&a(2,s=e.players),"winners"in e&&a(0,r=e.winners)},[r,l,s]}class re extends e{constructor(e){super(),t(this,e,se,ae,a,{players:2,winners:0})}}const{document:le}=M;function ne(e,t,a){const s=e.slice();return s[24]=t[a],s}function ce(e){let t,a,r,l;return a=new L({props:{data:"Loading game data..."}}),{c(){t=s("div"),y(a.$$.fragment),this.h()},l(e){t=n(e,"DIV",{class:!0});var s=c(t);E(a.$$.fragment,s),s.forEach(d),this.h()},h(){f(t,"class","z-50 bg-background absolute")},m(e,s){h(e,t,s),x(a,t,null),l=!0},i(e){l||(w(a.$$.fragment,e),r&&r.end(1),l=!0)},o(e){b(a.$$.fragment,e),r=I(t,G,{duration:500}),l=!1},d(e){e&&d(t),$(a),e&&r&&r.end()}}}function oe(e){let t,a,l,i=e[5]&&de(e),m=e[0]&&fe(e);return{c(){i&&i.c(),t=r(),a=s("div"),m&&m.c(),this.h()},l(e){i&&i.l(e),t=o(e),a=n(e,"DIV",{class:!0});var s=c(a);m&&m.l(s),s.forEach(d),this.h()},h(){f(a,"class","h-full  ")},m(e,s){i&&i.m(e,s),h(e,t,s),h(e,a,s),m&&m.m(a,null),l=!0},p(e,s){e[5]?i?(i.p(e,s),32&s&&w(i,1)):(i=de(e),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(R(),b(i,1,1,(()=>{i=null})),V()),e[0]?m?(m.p(e,s),1&s&&w(m,1)):(m=fe(e),m.c(),w(m,1),m.m(a,null)):m&&(R(),b(m,1,1,(()=>{m=null})),V())},i(e){l||(w(i),w(m),l=!0)},o(e){b(i),b(m),l=!1},d(e){i&&i.d(e),e&&d(t),e&&d(a),m&&m.d()}}}function ie(e){let t,a,m,g,v,y;return{c(){t=s("div"),a=s("h2"),m=r(),g=s("a"),v=s("p"),y=l("Go to play page"),this.h()},l(e){t=n(e,"DIV",{class:!0});var s=c(t);a=n(s,"H2",{class:!0}),c(a).forEach(d),m=o(s),g=n(s,"A",{href:!0});var r=c(g);v=n(r,"P",{class:!0});var l=c(v);y=i(l,"Go to play page"),l.forEach(d),r.forEach(d),s.forEach(d),this.h()},h(){f(a,"class","lg:text-5xl text-3xl text-center"),f(v,"class","underline lg:text-3xl pt-4 text-2xl  text-center text-primary"),f(g,"href","/play"),f(t,"class","w-full content-center lg:mt-60 mt-25 ")},m(s,r){h(s,t,r),u(t,a),a.innerHTML=e[6],u(t,m),u(t,g),u(g,v),u(v,y)},p(e,t){64&t&&(a.innerHTML=e[6])},i:p,o:p,d(e){e&&d(t)}}}function de(e){let t,a;return t=new U({props:{message:"Thanks for watching a video",pushError:e[5]}}),{c(){y(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,s){x(t,e,s),a=!0},p(e,a){const s={};32&a&&(s.pushError=e[5]),t.$set(s)},i(e){a||(w(t.$$.fragment,e),a=!0)},o(e){b(t.$$.fragment,e),a=!1},d(e){$(t,e)}}}function fe(e){let t,a,l,c,i,m,u;const p=[he,me],g=[];function v(e,t){return e[1]?0:1}return t=v(e),a=g[t]=p[t](e),m=new Y({props:{page:"ffa"}}),{c(){a.c(),l=r(),c=s("input"),i=r(),y(m.$$.fragment),this.h()},l(e){a.l(e),l=o(e),c=n(e,"INPUT",{hidden:!0,value:!0,id:!0}),i=o(e),E(m.$$.fragment,e),this.h()},h(){c.hidden=!0,c.value=Ie,f(c,"id","transfer")},m(e,a){g[t].m(e,a),h(e,l,a),h(e,c,a),h(e,i,a),x(m,e,a),u=!0},p(e,s){let r=t;t=v(e),t===r?g[t].p(e,s):(R(),b(g[r],1,1,(()=>{g[r]=null})),V(),a=g[t],a?a.p(e,s):(a=g[t]=p[t](e),a.c()),w(a,1),a.m(l.parentNode,l))},i(e){u||(w(a),w(m.$$.fragment,e),u=!0)},o(e){b(a),b(m.$$.fragment,e),u=!1},d(e){g[t].d(e),e&&d(l),e&&d(c),e&&d(i),$(m,e)}}}function me(e){let t,a,m,p,g,v,I,D,k,P,T,A,B,M,G,j,F,W,N,L,S,U,Y,O,J,Q,X,q,Z,K,_,ee,te=e[3].adsWatched+"",ae=e[3].adsWatched>1?"s":"",se=e[3].multiplier/100+"",re=e[3].adsWatched<8?"Play ad":"Maximum ads reached";function le(e,t){return e[2]?pe:ue}let ne=le(e),ce=ne(e);k=new H({props:{user:e[3]}}),X=new z({props:{isRefreshing:e[10],refreshMessage:"Refresh data"}}),X.$on("click",e[13]);let oe=0==e[3].gamesPlayed&&ge(e),ie=e[3]&&ye(e),de=e[4]&&Ee(e);return{c(){t=s("div"),a=s("div"),m=s("div"),p=s("h1"),g=l("FFA"),v=r(),I=s("p"),ce.c(),D=r(),y(k.$$.fragment),P=r(),T=s("div"),A=s("p"),B=l("You watched "),M=s("strong"),G=l(te),j=l("\r\n                                ad"),F=l(ae),W=l(", earnings will be multiplied by\r\n                                "),N=s("strong"),L=l(se),S=l("!"),U=r(),Y=s("button"),O=l(re),Q=r(),y(X.$$.fragment),q=r(),oe&&oe.c(),Z=r(),K=s("div"),ie&&ie.c(),_=r(),de&&de.c(),this.h()},l(e){t=n(e,"DIV",{class:!0});var s=c(t);a=n(s,"DIV",{class:!0});var r=c(a);m=n(r,"DIV",{class:!0});var l=c(m);p=n(l,"H1",{class:!0});var f=c(p);g=i(f,"FFA"),f.forEach(d),v=o(l),I=n(l,"P",{class:!0});var h=c(I);ce.l(h),h.forEach(d),l.forEach(d),D=o(r),E(k.$$.fragment,r),P=o(r),T=n(r,"DIV",{class:!0});var u=c(T);A=n(u,"P",{class:!0});var y=c(A);B=i(y,"You watched "),M=n(y,"STRONG",{class:!0});var x=c(M);G=i(x,te),j=i(x,"\r\n                                ad"),F=i(x,ae),x.forEach(d),W=i(y,", earnings will be multiplied by\r\n                                "),N=n(y,"STRONG",{class:!0});var w=c(N);L=i(w,se),w.forEach(d),S=i(y,"!"),y.forEach(d),U=o(u),Y=n(u,"BUTTON",{disabled:!0,class:!0,onclick:!0});var b=c(Y);O=i(b,re),b.forEach(d),Q=o(u),E(X.$$.fragment,u),q=o(u),oe&&oe.l(u),u.forEach(d),r.forEach(d),Z=o(s),K=n(s,"DIV",{class:!0});var $=c(K);ie&&ie.l($),_=o($),de&&de.l($),$.forEach(d),s.forEach(d),this.h()},h(){f(p,"class","text-6xl leading-none"),f(I,"class","timer text-primary ml-5 text-3xl leading-none svelte-wpc46u"),f(m,"class","mode-timer flex justify-center lg:justify-start\r\n                        items-end w-52 "),f(M,"class","text-green font-normal text-3xl"),f(N,"class","text-green text-3xl font-normal"),f(A,"class","text-center lg:text-left mx-4 mt-1 lg:mt-0"),Y.disabled=J=e[3].adsWatched>=8,f(Y,"class","button button-brand lg:mr-8 mt-2\r\n                                lg:mt-0 mb-5\r\n                                lg:mb-0  text-background svelte-wpc46u"),f(Y,"onclick","playAd()"),f(T,"class","lg:mr-7 mt-4 lg:mt-0 flex flex-col lg:flex-row\r\n                        items-center"),f(a,"class","flex flex-col justify-center lg:flex-row\r\n                    lg:justify-between items-center lg:mt-12 mt-7"),f(K,"class","flex items-center flex-col lg:flex-row lg:items-start\r\n                    h-full lg:mt-6"),f(t,"class","h-full flex items-center flex-col lg:block lg:ml-24 z-0")},m(e,s){h(e,t,s),u(t,a),u(a,m),u(m,p),u(p,g),u(m,v),u(m,I),ce.m(I,null),u(a,D),x(k,a,null),u(a,P),u(a,T),u(T,A),u(A,B),u(A,M),u(M,G),u(M,j),u(M,F),u(A,W),u(A,N),u(N,L),u(A,S),u(T,U),u(T,Y),u(Y,O),u(T,Q),x(X,T,null),u(T,q),oe&&oe.m(T,null),u(t,Z),u(t,K),ie&&ie.m(K,null),u(K,_),de&&de.m(K,null),ee=!0},p(e,t){ne===(ne=le(e))&&ce?ce.p(e,t):(ce.d(1),ce=ne(e),ce&&(ce.c(),ce.m(I,null)));const a={};8&t&&(a.user=e[3]),k.$set(a),(!ee||8&t)&&te!==(te=e[3].adsWatched+"")&&C(G,te),(!ee||8&t)&&ae!==(ae=e[3].adsWatched>1?"s":"")&&C(F,ae),(!ee||8&t)&&se!==(se=e[3].multiplier/100+"")&&C(L,se),(!ee||8&t)&&re!==(re=e[3].adsWatched<8?"Play ad":"Maximum ads reached")&&C(O,re),(!ee||8&t&&J!==(J=e[3].adsWatched>=8))&&(Y.disabled=J);const s={};1024&t&&(s.isRefreshing=e[10]),X.$set(s),0==e[3].gamesPlayed?oe?(oe.p(e,t),8&t&&w(oe,1)):(oe=ge(e),oe.c(),w(oe,1),oe.m(T,null)):oe&&(R(),b(oe,1,1,(()=>{oe=null})),V()),e[3]?ie?ie.p(e,t):(ie=ye(e),ie.c(),ie.m(K,_)):ie&&(ie.d(1),ie=null),e[4]?de?de.p(e,t):(de=Ee(e),de.c(),de.m(K,null)):de&&(de.d(1),de=null)},i(e){ee||(w(k.$$.fragment,e),w(X.$$.fragment,e),w(oe),ee=!0)},o(e){b(k.$$.fragment,e),b(X.$$.fragment,e),b(oe),ee=!1},d(e){e&&d(t),ce.d(),$(k),$(X),oe&&oe.d(),ie&&ie.d(),de&&de.d()}}}function he(e){let t,a;return t=new re({props:{players:e[0].players,winners:e[0].winners}}),{c(){y(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,s){x(t,e,s),a=!0},p(e,a){const s={};1&a&&(s.players=e[0].players),1&a&&(s.winners=e[0].winners),t.$set(s)},i(e){a||(w(t.$$.fragment,e),a=!0)},o(e){b(t.$$.fragment,e),a=!1},d(e){$(t,e)}}}function ue(e){let t;return{c(){t=l("Loading...")},l(e){t=i(e,"Loading...")},m(e,a){h(e,t,a)},p:p,d(e){e&&d(t)}}}function pe(e){let t;return{c(){t=l(e[2])},l(a){t=i(a,e[2])},m(e,a){h(e,t,a)},p(e,a){4&a&&C(t,e[2])},d(e){e&&d(t)}}}function ge(e){let t,a,m,p,v,y,E,x=e[7]&&ve(e);return{c(){t=s("button"),a=l("Quit lobby"),m=r(),x&&x.c(),p=g(),this.h()},l(e){t=n(e,"BUTTON",{class:!0,style:!0});var s=c(t);a=i(s,"Quit lobby"),s.forEach(d),m=o(e),x&&x.l(e),p=g(),this.h()},h(){f(t,"class","button button-brand quit lg:ml-4 mt-3\r\n                                lg:mt-0 svelte-wpc46u"),W(t,"background-color","#fc1870"),W(t,"padding-left","1.5rem"),W(t,"padding-right","1.5rem")},m(s,r){h(s,t,r),u(t,a),h(s,m,r),x&&x.m(s,r),h(s,p,r),v=!0,y||(E=N(t,"click",e[14]),y=!0)},p(e,t){e[7]?x?(x.p(e,t),128&t&&w(x,1)):(x=ve(e),x.c(),w(x,1),x.m(p.parentNode,p)):x&&(R(),b(x,1,1,(()=>{x=null})),V())},i(e){v||(w(x),v=!0)},o(e){b(x),v=!1},d(e){e&&d(t),e&&d(m),x&&x.d(e),e&&d(p),y=!1,E()}}}function ve(e){let t,a;return t=new j({props:{message:"There was an error exiting the match",pushError:e[7]}}),{c(){y(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,s){x(t,e,s),a=!0},p(e,a){const s={};128&a&&(s.pushError=e[7]),t.$set(s)},i(e){a||(w(t.$$.fragment,e),a=!0)},o(e){b(t.$$.fragment,e),a=!1},d(e){$(t,e)}}}function ye(e){let t,a,m,p,g,v,y,E,x,w,b,I,$,D,V,k,P,T,A,B,M=e[3].username+"",G=e[3].gamesPlayed+"",j=e[3].wins+"";return{c(){t=s("div"),a=s("img"),g=r(),v=s("p"),y=l(M),E=r(),x=s("div"),w=s("p"),b=l("Games played:\r\n                                        "),I=s("b"),$=l(G),D=l("\r\n                                        /8"),V=r(),k=s("p"),P=l("Games won:\r\n                                        "),T=s("b"),A=l(j),B=l("\r\n                                        /8"),this.h()},l(e){t=n(e,"DIV",{class:!0});var s=c(t);a=n(s,"IMG",{src:!0,alt:!0,class:!0,style:!0}),g=o(s),v=n(s,"P",{class:!0});var r=c(v);y=i(r,M),r.forEach(d),E=o(s),x=n(s,"DIV",{class:!0});var l=c(x);w=n(l,"P",{});var f=c(w);b=i(f,"Games played:\r\n                                        "),I=n(f,"B",{class:!0});var m=c(I);$=i(m,G),m.forEach(d),D=i(f,"\r\n                                        /8"),f.forEach(d),V=o(l),k=n(l,"P",{});var h=c(k);P=i(h,"Games won:\r\n                                        "),T=n(h,"B",{class:!0});var u=c(T);A=i(u,j),u.forEach(d),B=i(h,"\r\n                                        /8"),h.forEach(d),l.forEach(d),s.forEach(d),this.h()},h(){a.src!==(m="/assets/CharactersBanners/"+e[3].legends+".png")&&f(a,"src",m),f(a,"alt",p=e[3].legends),f(a,"class","block"),W(a,"z-index","0"),f(v,"class","player-name text-4xl svelte-wpc46u"),f(I,"class","svelte-wpc46u"),f(T,"class","svelte-wpc46u"),f(x,"class","stats text-2xl bottom-5 text-ultra-light svelte-wpc46u"),f(t,"class","mt-8 lg:mt-25 ffa-player card user svelte-wpc46u")},m(e,s){h(e,t,s),u(t,a),u(t,g),u(t,v),u(v,y),u(t,E),u(t,x),u(x,w),u(w,b),u(w,I),u(I,$),u(w,D),u(x,V),u(x,k),u(k,P),u(k,T),u(T,A),u(k,B)},p(e,t){8&t&&a.src!==(m="/assets/CharactersBanners/"+e[3].legends+".png")&&f(a,"src",m),8&t&&p!==(p=e[3].legends)&&f(a,"alt",p),8&t&&M!==(M=e[3].username+"")&&C(y,M),8&t&&G!==(G=e[3].gamesPlayed+"")&&C($,G),8&t&&j!==(j=e[3].wins+"")&&C(A,j)},d(e){e&&d(t)}}}function Ee(e){let t,a=e[4],r=[];for(let t=0;t<a.length;t+=1)r[t]=xe(ne(e,a,t));return{c(){t=s("div");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){t=n(e,"DIV",{class:!0});var a=c(t);for(let e=0;e<r.length;e+=1)r[e].l(a);a.forEach(d),this.h()},h(){f(t,"class","flex flex-col justify-center lg:justify-start\r\n                            lg:flex-row lg:flex-wrap lg:ml-33 mt-14 lg:mt-0")},m(e,a){h(e,t,a);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,s){if(16&s){let l;for(a=e[4],l=0;l<a.length;l+=1){const n=ne(e,a,l);r[l]?r[l].p(n,s):(r[l]=xe(n),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=a.length}},d(e){e&&d(t),v(r,e)}}}function xe(e){let t,a,m,p,g,v,y,E,x,w,b,I,$,D,V,k=e[24].username+"",P=e[24].gamesPlayed+"";return{c(){t=s("div"),a=s("img"),g=r(),v=s("p"),y=l(k),E=r(),x=s("div"),w=s("p"),b=l("Games played:\r\n                                                "),I=s("b"),$=l(P),D=l("\r\n                                                /8"),V=r(),this.h()},l(e){t=n(e,"DIV",{class:!0});var s=c(t);a=n(s,"IMG",{src:!0,alt:!0,class:!0}),g=o(s),v=n(s,"P",{class:!0});var r=c(v);y=i(r,k),r.forEach(d),E=o(s),x=n(s,"DIV",{class:!0});var l=c(x);w=n(l,"P",{});var f=c(w);b=i(f,"Games played:\r\n                                                "),I=n(f,"B",{class:!0});var m=c(I);$=i(m,P),m.forEach(d),D=i(f,"\r\n                                                /8"),f.forEach(d),l.forEach(d),V=o(s),s.forEach(d),this.h()},h(){a.src!==(m="/assets/CharactersBanners/"+e[24].legends+".png")&&f(a,"src",m),f(a,"alt",p=e[24].legends),f(a,"class","block"),f(v,"class","player-name text-3xl svelte-wpc46u"),f(I,"class","svelte-wpc46u"),f(x,"class","stats text-xl bottom-5\r\n                                        text-ultra-light svelte-wpc46u"),f(t,"class","ffa-player card lg:mr-12 mb-8 svelte-wpc46u")},m(e,s){h(e,t,s),u(t,a),u(t,g),u(t,v),u(v,y),u(t,E),u(t,x),u(x,w),u(w,b),u(w,I),u(I,$),u(w,D),u(t,V)},p(e,t){16&t&&a.src!==(m="/assets/CharactersBanners/"+e[24].legends+".png")&&f(a,"src",m),16&t&&p!==(p=e[24].legends)&&f(a,"alt",p),16&t&&k!==(k=e[24].username+"")&&C(y,k),16&t&&P!==(P=e[24].gamesPlayed+"")&&C($,P)},d(e){e&&d(t)}}}function we(e){let t,a;return t=new j({props:{message:"An error occured while watching the ad",pushError:e[8]}}),{c(){y(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,s){x(t,e,s),a=!0},p(e,a){const s={};256&a&&(s.pushError=e[8]),t.$set(s)},i(e){a||(w(t.$$.fragment,e),a=!0)},o(e){b(t.$$.fragment,e),a=!1},d(e){$(t,e)}}}function be(e){let t,a,m,p,g,v,y,E,x,I,$,k,P=e[9]&&ce();const T=[ie,oe],A=[];function B(e,t){return e[6]?0:1}g=B(e),v=A[g]=T[g](e);let M=e[8]&&we(e);return{c(){t=s("script"),m=r(),P&&P.c(),p=r(),v.c(),y=r(),E=s("div"),M&&M.c(),x=r(),I=s("script"),$=l('function playAd() {\r\n            const init = (api) => {\r\n                if (api) {\r\n\r\n                    api.on("AdVideoStart", function() {\r\n                        document.getElementById("transfer").value = 1;\r\n                        //api.setAdVolume(1);\r\n                        document.body.onblur = function() {\r\n                            //api.pauseAd();\r\n                        };\r\n                        document.body.onfocus = function() {\r\n                            //api.resumeAd();\r\n                        };\r\n                    });\r\n                    api.on("AdVideoFirstQuartile", () => {\r\n                        document.getElementById("transfer").value = 2;\r\n                    });\r\n                    api.on("AdVideoMidpoint", () => {\r\n                        document.getElementById("transfer").value = 3;\r\n                    });\r\n                    api.on("AdVideoThirdQuartile", () => {\r\n                        document.getElementById("transfer").value = 4;\r\n                    });\r\n                    api.on("AdVideoComplete", function() {\r\n                        document.getElementById("transfer").value = 5;\r\n                        setTimeout(() => {\r\n                            document.getElementById("transfer").value = 0;\r\n                        }, 1200);\r\n                        document.body.onblur = null;\r\n                        document.body.onfocus = null;\r\n                    });\r\n                } else {\r\n                    console.log("blank");\r\n                }\r\n            };\r\n            var s = document.querySelector("script[data-playerPro=\\"current\\"]");\r\n            //s.removeAttribute("data-playerPro");\r\n            (playerPro = window.playerPro || []).push({\r\n                id: "oOMhJ7zhhrjUgiJx4ZxVYPvrXaDjI3VFmkVHIzxJ2nYvXX8krkzp",\r\n                after: s,\r\n                init: init\r\n            });\r\n        }'),this.h()},l(e){const a=D('[data-svelte="svelte-16t19ct"]',le.head);t=n(a,"SCRIPT",{async:!0,src:!0}),c(t).forEach(d),a.forEach(d),m=o(e),P&&P.l(e),p=o(e),v.l(e),y=o(e),E=n(e,"DIV",{});var s=c(E);M&&M.l(s),x=o(s),I=n(s,"SCRIPT",{"data-playerPro":!0});var r=c(I);$=i(r,'function playAd() {\r\n            const init = (api) => {\r\n                if (api) {\r\n\r\n                    api.on("AdVideoStart", function() {\r\n                        document.getElementById("transfer").value = 1;\r\n                        //api.setAdVolume(1);\r\n                        document.body.onblur = function() {\r\n                            //api.pauseAd();\r\n                        };\r\n                        document.body.onfocus = function() {\r\n                            //api.resumeAd();\r\n                        };\r\n                    });\r\n                    api.on("AdVideoFirstQuartile", () => {\r\n                        document.getElementById("transfer").value = 2;\r\n                    });\r\n                    api.on("AdVideoMidpoint", () => {\r\n                        document.getElementById("transfer").value = 3;\r\n                    });\r\n                    api.on("AdVideoThirdQuartile", () => {\r\n                        document.getElementById("transfer").value = 4;\r\n                    });\r\n                    api.on("AdVideoComplete", function() {\r\n                        document.getElementById("transfer").value = 5;\r\n                        setTimeout(() => {\r\n                            document.getElementById("transfer").value = 0;\r\n                        }, 1200);\r\n                        document.body.onblur = null;\r\n                        document.body.onfocus = null;\r\n                    });\r\n                } else {\r\n                    console.log("blank");\r\n                }\r\n            };\r\n            var s = document.querySelector("script[data-playerPro=\\"current\\"]");\r\n            //s.removeAttribute("data-playerPro");\r\n            (playerPro = window.playerPro || []).push({\r\n                id: "oOMhJ7zhhrjUgiJx4ZxVYPvrXaDjI3VFmkVHIzxJ2nYvXX8krkzp",\r\n                after: s,\r\n                init: init\r\n            });\r\n        }'),r.forEach(d),s.forEach(d),this.h()},h(){le.title="Winhalla | FFA match",t.async=!0,t.src!==(a="https://cdn.stat-rock.com/player.js")&&f(t,"src","https://cdn.stat-rock.com/player.js"),f(I,"data-playerpro","current")},m(e,a){u(le.head,t),h(e,m,a),P&&P.m(e,a),h(e,p,a),A[g].m(e,a),h(e,y,a),h(e,E,a),M&&M.m(E,null),u(E,x),u(E,I),u(I,$),k=!0},p(e,[t]){e[9]?P?512&t&&w(P,1):(P=ce(),P.c(),w(P,1),P.m(p.parentNode,p)):P&&(R(),b(P,1,1,(()=>{P=null})),V());let a=g;g=B(e),g===a?A[g].p(e,t):(R(),b(A[a],1,1,(()=>{A[a]=null})),V(),v=A[g],v?v.p(e,t):(v=A[g]=T[g](e),v.c()),w(v,1),v.m(y.parentNode,y)),e[8]?M?(M.p(e,t),256&t&&w(M,1)):(M=we(e),M.c(),w(M,1),M.m(E,x)):M&&(R(),b(M,1,1,(()=>{M=null})),V())},i(e){k||(w(P),w(v),w(M),k=!0)},o(e){b(P),b(v),b(M),k=!1},d(e){d(t),e&&d(m),P&&P.d(e),e&&d(p),A[g].d(e),e&&d(y),e&&d(E),M&&M.d()}}}let Ie=0;function $e(e,t,a){const{page:s}=k();let r,l,n,c,o,i,d,f,m,h,u,p,g,v=!0;l=s.subscribe((async e=>{if(n=void 0,a(0,c=void 0),a(1,o=void 0),a(3,d=void 0),a(4,f=void 0),a(6,h=void 0),p=void 0,r=e.params.id,!e.params.id&&!e.path.includes("/ffa/"))return console.log("not a ffa match");console.log("ffa match"),P.subscribe((e=>{n=e.content}))();try{if(n=await n,n=n.steam,a(0,c=await T("get",`/getMatch/${r}`)),c instanceof Error)throw c;a(1,o=c.finished),y(!1);const e=new Date(d.joinDate),t=-((new Date).getTime()-new Date(e.setHours(e.getHours()+3)).getTime())/1e3;t<1?a(2,i="Waiting for others to finish (you can start a new game from the play page)"):function(e){let t,s,r,l=e;setInterval((function(){r=Math.floor(l%60),s=Math.floor(l/60%60),t=Math.floor(l/3600),s=s<10?"0"+s:s,r=r<10?"0"+r:r,a(2,i=t+":"+s+":"+r),--l<0&&(l=e)}),1e3)}(t),P.set({refresh:!0}),p=S.io(A),p.on("connection",(e=>{console.log(e),p.emit("match connection","FFA"+r)})),p.on("join match",(e=>{console.log(e)})),p.on("lobbyUpdate",(e=>{a(0,c=e),y(!0)})),a(9,v=!1)}catch(e){if(e.response)return 400===e.response.status&&e.response.data.includes("Play at least one ranked")?void a(6,h="You have to play a ranked game before using the site (1v1 or 2v2 doesn't matter)"):400===e.response.status&&e.response.data.includes("Play at least one")?void a(6,h="You have to download brawlhalla and play at least a game (or you are logged in with the wrong account)"):void(404===e.response.status&&a(6,h="<p class='text-accent'>404, that's an error.</p> <p>Match not found</p>"));a(6,h=`<p class="text-accent">Wow, unexpected error occured, details for geeks below.</p> <p class="text-2xl">${e.toString()}</p>`)}let t,s=0,l=0,u=setInterval((()=>{try{if(s>0)return s--;t=document.getElementById("transfer").value,t!==l&&0!==t&&(p.emit("advideo","1"===t?{state:1,steamId:d.steamId,room:r,goal:"earnMoreFFA"}:{state:t,steamId:d.steamId}),console.log(t)),l=t}catch(e){}}),1e3);p.on("advideo",(e=>{"error"===e.code?(console.log(e.message),clearInterval(u),l=0,t=0,a(8,g=e.message),setTimeout((()=>{a(8,g=void 0)}),25e3)):"success"===e.code&&(s=5,a(5,m=e.message),l=0,a(3,d.adsWatched++,d),a(3,d.multiplier+=1===d.adsWatched?200:300,d),setTimeout((()=>{a(5,m=void 0)}),5e3))}))})),B(l);const y=e=>{if(e){let e=c.players.findIndex((e=>e.steamId===parseInt(n.id)));a(0,c.players[e].wins=d.wins,c),a(3,d=c.players[e])}else a(3,d=c.players.find((e=>e.steamId===parseInt(n.id))));a(4,f=[...c.players]),f.splice(c.players.findIndex((e=>e.steamId===parseInt(n.id))),1)};let E=!1;const x=async()=>{a(10,E=!0);let e=d.gamesPlayed;a(0,c=await T("get",`/getMatch/${r}`)),y(!1),d.gamesPlayed!==e?P.set({refresh:!0}):c.finished&&!1===o&&(a(1,o=!0),P.set({refresh:!0})),a(10,E=!1)},w=async()=>{try{const e=await T("post","/exitMatch");if(e instanceof Error)throw e;F("/play")}catch(e){a(7,u=e.response.data.message?e.response.data.message:e.response.data?e.response.data.toString():e.toString()),setTimeout((()=>{a(7,u=void 0)}),8e3)}};return[c,o,i,d,f,m,h,u,g,v,E,x,w,()=>x(),()=>w()]}export default class extends e{constructor(e){super(),t(this,e,$e,be,a,{})}}
