import{S as e,i as t,s as a,e as s,a as r,t as n,c as l,g as o,f as c,h as i,d,j as f,H as u,l as h,k as m,n as p,Q as g,N as v,I as y,J as E,G as x,K as w,r as $,u as b,R as I,v as k,a2 as D,w as P,P as V,a1 as B,m as T,U as A,x as M,p as G,y as R,B as W,z as C,a3 as j,a4 as F,q as N,Y as L,A as S,a5 as U,E as O,D as Y,C as H,o as z,F as J}from"./client.f27014f1.js";import{L as Q}from"./Loading.a18a1391.js";import{b as X,I as q,A as Z,R as K}from"./AdblockAlert.dcc80e98.js";import{G as _}from"./GuideCard.9eb834c4.js";function ee(e,t,a){const s=e.slice();return s[0]=t[a],s[4]=a,s}function te(e,t,a){const s=e.slice();return s[5]=t[a],s}function ae(e,t,a){const s=e.slice();return s[5]=t[a],s[4]=a,s}function se(e,t,a){const s=e.slice();return s[5]=t[a],s[4]=a,s}function re(e,t,a){const s=e.slice();return s[5]=t[a],s[4]=a,s}function ne(e){let t,a,g,v,y,E,x,w,$,b,I,k,D,P,V,B,T,A=e[5].username+"",M=e[5].wins+"";return{c(){t=s("div"),a=s("div"),g=s("div"),v=s("img"),x=r(),w=s("p"),$=n(A),b=r(),I=s("div"),k=s("p"),D=n("Games won: "),P=s("b"),V=n(M),B=n("/8"),T=r(),this.h()},l(e){t=l(e,"DIV",{});var s=o(t);a=l(s,"DIV",{});var r=o(a);g=l(r,"DIV",{class:!0});var n=o(g);v=l(n,"IMG",{src:!0,alt:!0,class:!0}),x=c(n),w=l(n,"P",{class:!0});var f=o(w);$=i(f,A),f.forEach(d),b=c(n),I=l(n,"DIV",{class:!0});var u=o(I);k=l(u,"P",{});var h=o(k);D=i(h,"Games won: "),P=l(h,"B",{class:!0});var m=o(P);V=i(m,M),m.forEach(d),B=i(h,"/8"),h.forEach(d),u.forEach(d),n.forEach(d),r.forEach(d),T=c(s),s.forEach(d),this.h()},h(){v.src!==(y="/assets/CharactersBanners/"+e[5].legends+".png")&&f(v,"src",y),f(v,"alt",E=e[5].legends),f(v,"class","block"),f(w,"class","player-name text-4xl svelte-1dsvpkg"),f(P,"class","svelte-1dsvpkg"),f(I,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(g,"class","ffa-player card user svelte-1dsvpkg"),u(t,"lg:ml-10",e[4]>0)},m(e,s){h(e,t,s),m(t,a),m(a,g),m(g,v),m(g,x),m(g,w),m(w,$),m(g,b),m(g,I),m(I,k),m(k,D),m(k,P),m(P,V),m(k,B),m(t,T)},p:p,d(e){e&&d(t)}}}function le(e){let t,a,u,g,v,y,E,x,w,$,b,I,k,D,P,V,B,T=e[5].username+"",A=e[5].wins+"";return{c(){t=s("div"),a=s("div"),u=s("div"),g=s("img"),E=r(),x=s("p"),w=n(T),$=r(),b=s("div"),I=s("p"),k=n("Games won: "),D=s("b"),P=n(A),V=n("/8"),B=r(),this.h()},l(e){t=l(e,"DIV",{class:!0});var s=o(t);a=l(s,"DIV",{});var r=o(a);u=l(r,"DIV",{class:!0});var n=o(u);g=l(n,"IMG",{src:!0,alt:!0,class:!0}),E=c(n),x=l(n,"P",{class:!0});var f=o(x);w=i(f,T),f.forEach(d),$=c(n),b=l(n,"DIV",{class:!0});var h=o(b);I=l(h,"P",{});var m=o(I);k=i(m,"Games won: "),D=l(m,"B",{class:!0});var p=o(D);P=i(p,A),p.forEach(d),V=i(m,"/8"),m.forEach(d),h.forEach(d),n.forEach(d),r.forEach(d),B=c(s),s.forEach(d),this.h()},h(){g.src!==(v="/assets/CharactersBanners/"+e[5].legends+".png")&&f(g,"src",v),f(g,"alt",y=e[5].legends),f(g,"class","block"),f(x,"class","player-name text-4xl svelte-1dsvpkg"),f(D,"class","svelte-1dsvpkg"),f(b,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(u,"class","ffa-player card user svelte-1dsvpkg"),f(t,"class","mt-10 lg:ml-10")},m(e,s){h(e,t,s),m(t,a),m(a,u),m(u,g),m(u,E),m(u,x),m(x,w),m(u,$),m(u,b),m(b,I),m(I,k),m(I,D),m(D,P),m(I,V),m(t,B)},p:p,d(e){e&&d(t)}}}function oe(e){let t,a,u,g,v,y,E,x,w,$,b,I,k,D,P,V,B,T=e[5].username+"",A=e[5].wins+"";return{c(){t=s("div"),a=s("div"),u=s("div"),g=s("img"),E=r(),x=s("p"),w=n(T),$=r(),b=s("div"),I=s("p"),k=n("Games won: "),D=s("b"),P=n(A),V=n("/8"),B=r(),this.h()},l(e){t=l(e,"DIV",{class:!0});var s=o(t);a=l(s,"DIV",{});var r=o(a);u=l(r,"DIV",{class:!0});var n=o(u);g=l(n,"IMG",{src:!0,alt:!0,class:!0}),E=c(n),x=l(n,"P",{class:!0});var f=o(x);w=i(f,T),f.forEach(d),$=c(n),b=l(n,"DIV",{class:!0});var h=o(b);I=l(h,"P",{});var m=o(I);k=i(m,"Games won: "),D=l(m,"B",{class:!0});var p=o(D);P=i(p,A),p.forEach(d),V=i(m,"/8"),m.forEach(d),h.forEach(d),n.forEach(d),r.forEach(d),B=c(s),s.forEach(d),this.h()},h(){g.src!==(v="/assets/CharactersBanners/"+e[5].legends+".png")&&f(g,"src",v),f(g,"alt",y=e[5].legends),f(g,"class","block"),f(x,"class","player-name text-4xl svelte-1dsvpkg"),f(D,"class","svelte-1dsvpkg"),f(b,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(u,"class","ffa-player card user svelte-1dsvpkg"),f(t,"class","mt-10 lg:mt-20 lg:ml-10")},m(e,s){h(e,t,s),m(t,a),m(a,u),m(u,g),m(u,E),m(u,x),m(x,w),m(u,$),m(u,b),m(b,I),m(I,k),m(I,D),m(D,P),m(I,V),m(t,B)},p:p,d(e){e&&d(t)}}}function ce(e){let t,a=(e[5].avatarURL||e[5].username)&&function(e){let t,a,u,g,v,y,E,x,w,$,b,I,k,D,P,V,B,T,A,M,G,R,W,C,j=e[4]+1+"",F=e[5].username+"",N=e[5].wins+"",L=e[5].coinsEarned+"",S=e[5].multiplier+"";return{c(){t=s("tr"),a=s("td"),u=s("b"),g=n(j),v=r(),y=s("td"),E=s("img"),$=r(),b=s("p"),I=n(F),k=r(),D=s("td"),P=s("b"),V=n(N),B=n("/8"),T=r(),A=s("td"),M=n(L),G=r(),R=s("td"),W=n(S),C=r(),this.h()},l(e){t=l(e,"TR",{class:!0});var s=o(t);a=l(s,"TD",{class:!0});var r=o(a);u=l(r,"B",{class:!0});var n=o(u);g=i(n,j),n.forEach(d),r.forEach(d),v=c(s),y=l(s,"TD",{class:!0});var f=o(y);E=l(f,"IMG",{class:!0,src:!0,alt:!0}),$=c(f),b=l(f,"P",{class:!0});var h=o(b);I=i(h,F),h.forEach(d),f.forEach(d),k=c(s),D=l(s,"TD",{class:!0});var m=o(D);P=l(m,"B",{class:!0});var p=o(P);V=i(p,N),p.forEach(d),B=i(m,"/8"),m.forEach(d),T=c(s),A=l(s,"TD",{class:!0});var x=o(A);M=i(x,L),x.forEach(d),G=c(s),R=l(s,"TD",{class:!0});var w=o(R);W=i(w,S),w.forEach(d),C=c(s),s.forEach(d),this.h()},h(){f(u,"class","font-normal svelte-1dsvpkg"),f(a,"class","px-6 py-2"),f(E,"class","block w-10 h-10 rounded-full"),E.src!==(x=e[5].avatarURL)&&f(E,"src",x),f(E,"alt",w=e[5].username),f(b,"class","pl-2"),f(y,"class","flex items-center px-6 py-2"),f(P,"class","text-primary font-normal svelte-1dsvpkg"),f(D,"class","px-6 py-2"),f(A,"class","px-6 py-2"),f(R,"class","px-6 py-2"),f(t,"class","text-center")},m(e,s){h(e,t,s),m(t,a),m(a,u),m(u,g),m(t,v),m(t,y),m(y,E),m(y,$),m(y,b),m(b,I),m(t,k),m(t,D),m(D,P),m(P,V),m(D,B),m(t,T),m(t,A),m(A,M),m(t,G),m(t,R),m(R,W),m(t,C)},p:p,d(e){e&&d(t)}}}(e);return{c(){a&&a.c(),t=g()},l(e){a&&a.l(e),t=g()},m(e,s){a&&a.m(e,s),h(e,t,s)},p(e,t){(e[5].avatarURL||e[5].username)&&a.p(e,t)},d(e){a&&a.d(e),e&&d(t)}}}function ie(e){let t,a=e[0],s=[];for(let t=0;t<a.length;t+=1)s[t]=ce(te(e,a,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=g()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=g()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);h(e,t,a)},p(e,r){if(2&r){let n;for(a=e[0],n=0;n<a.length;n+=1){const l=te(e,a,n);s[n]?s[n].p(l,r):(s[n]=ce(l),s[n].c(),s[n].m(t.parentNode,t))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}},d(e){v(s,e),e&&d(t)}}}function de(e){let t,a,u,y,E,x,w,$,b,I,k,D,P,V,B,T,A,M,G,R,W,C,j,F,N,L,S,U,O,Y,H,z,J,Q=e[1][0],X=[];for(let t=0;t<Q.length;t+=1)X[t]=ne(re(e,Q,t));let q=""!==e[1][1]&&function(e){let t,a=e[1][1],s=[];for(let t=0;t<a.length;t+=1)s[t]=le(se(e,a,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=g()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=g()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);h(e,t,a)},p(e,r){if(2&r){let n;for(a=e[1][1],n=0;n<a.length;n+=1){const l=se(e,a,n);s[n]?s[n].p(l,r):(s[n]=le(l),s[n].c(),s[n].m(t.parentNode,t))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}},d(e){v(s,e),e&&d(t)}}}(e),Z=""!==e[1][2]&&function(e){let t,a=e[1][2],s=[];for(let t=0;t<a.length;t+=1)s[t]=oe(ae(e,a,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=g()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=g()},m(e,a){for(let t=0;t<s.length;t+=1)s[t].m(e,a);h(e,t,a)},p(e,r){if(2&r){let n;for(a=e[1][2],n=0;n<a.length;n+=1){const l=ae(e,a,n);s[n]?s[n].p(l,r):(s[n]=oe(l),s[n].c(),s[n].m(t.parentNode,t))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}},d(e){v(s,e),e&&d(t)}}}(e),K=e[1],_=[];for(let t=0;t<K.length;t+=1)_[t]=ie(ee(e,K,t));return{c(){t=s("div"),a=s("div"),u=s("div"),y=s("h1"),E=n("Match Ended"),x=r(),w=s("div"),$=s("div");for(let e=0;e<X.length;e+=1)X[e].c();b=r(),q&&q.c(),I=r(),Z&&Z.c(),k=r(),D=s("div"),P=s("div"),V=s("div"),B=s("table"),T=s("thead"),A=s("tr"),M=s("td"),G=n("Rank"),R=r(),W=s("td"),C=n("Player"),j=r(),F=s("td"),N=n("Wins"),L=r(),S=s("td"),U=n("Earned"),O=r(),Y=s("td"),H=n("Multiplier"),z=r(),J=s("tbody");for(let e=0;e<_.length;e+=1)_[e].c();this.h()},l(e){t=l(e,"DIV",{class:!0});var s=o(t);a=l(s,"DIV",{class:!0});var r=o(a);u=l(r,"DIV",{class:!0});var n=o(u);y=l(n,"H1",{class:!0});var f=o(y);E=i(f,"Match Ended"),f.forEach(d),n.forEach(d),r.forEach(d),x=c(s),w=l(s,"DIV",{class:!0});var h=o(w);$=l(h,"DIV",{class:!0});var m=o($);for(let e=0;e<X.length;e+=1)X[e].l(m);b=c(m),q&&q.l(m),I=c(m),Z&&Z.l(m),m.forEach(d),k=c(h),D=l(h,"DIV",{});var p=o(D);P=l(p,"DIV",{class:!0});var g=o(P);V=l(g,"DIV",{});var v=o(V);B=l(v,"TABLE",{class:!0});var Q=o(B);T=l(Q,"THEAD",{class:!0});var K=o(T);A=l(K,"TR",{});var ee=o(A);M=l(ee,"TD",{class:!0});var te=o(M);G=i(te,"Rank"),te.forEach(d),R=c(ee),W=l(ee,"TD",{class:!0});var ae=o(W);C=i(ae,"Player"),ae.forEach(d),j=c(ee),F=l(ee,"TD",{class:!0});var se=o(F);N=i(se,"Wins"),se.forEach(d),L=c(ee),S=l(ee,"TD",{class:!0});var re=o(S);U=i(re,"Earned"),re.forEach(d),O=c(ee),Y=l(ee,"TD",{class:!0});var ne=o(Y);H=i(ne,"Multiplier"),ne.forEach(d),ee.forEach(d),K.forEach(d),z=c(Q),J=l(Q,"TBODY",{class:!0});var le=o(J);for(let e=0;e<_.length;e+=1)_[e].l(le);le.forEach(d),Q.forEach(d),v.forEach(d),g.forEach(d),p.forEach(d),h.forEach(d),s.forEach(d),this.h()},h(){f(y,"class","text-6xl"),f(u,"class","mode-timer lg:flex items-end"),f(a,"class","pl-7 lg:pl-24 pt-8 lg:pt-12"),f($,"class","flex flex-col items-center lg:flex-row"),f(M,"class","px-6 py-3"),f(W,"class","px-6 py-3"),f(F,"class","px-6 py-3"),f(S,"class","px-6 py-3"),f(Y,"class","px-6 py-3"),f(T,"class","bg-primary "),f(J,"class","divide-y-4 divide-background text-l"),f(B,"class","card px-4 overflow-hidden mt-10 lg:mt-20"),f(P,"class","overflow-x-scroll lg:overflow-auto pl-6 lg:pl-0 pb-4 lg:pb-8 "),f(w,"class","flex flex-col lg:items-center mt-8 lg:mt-0 relative lg:ml-24"),f(t,"class","")},m(e,s){h(e,t,s),m(t,a),m(a,u),m(u,y),m(y,E),m(t,x),m(t,w),m(w,$);for(let e=0;e<X.length;e+=1)X[e].m($,null);m($,b),q&&q.m($,null),m($,I),Z&&Z.m($,null),m(w,k),m(w,D),m(D,P),m(P,V),m(V,B),m(B,T),m(T,A),m(A,M),m(M,G),m(A,R),m(A,W),m(W,C),m(A,j),m(A,F),m(F,N),m(A,L),m(A,S),m(S,U),m(A,O),m(A,Y),m(Y,H),m(B,z),m(B,J);for(let e=0;e<_.length;e+=1)_[e].m(J,null)},p(e,[t]){if(2&t){let a;for(Q=e[1][0],a=0;a<Q.length;a+=1){const s=re(e,Q,a);X[a]?X[a].p(s,t):(X[a]=ne(s),X[a].c(),X[a].m($,b))}for(;a<X.length;a+=1)X[a].d(1);X.length=Q.length}if(""!==e[1][1]&&q.p(e,t),""!==e[1][2]&&Z.p(e,t),2&t){let a;for(K=e[1],a=0;a<K.length;a+=1){const s=ee(e,K,a);_[a]?_[a].p(s,t):(_[a]=ie(s),_[a].c(),_[a].m(J,null))}for(;a<_.length;a+=1)_[a].d(1);_.length=K.length}},i:p,o:p,d(e){e&&d(t),v(X,e),q&&q.d(),Z&&Z.d(),v(_,e)}}}function fe(e,t,a){let{players:s}=t,{winners:r}=t;const n=r.map((e=>{let t=[];return e.forEach(((e,a)=>{if(""==e)return;const r=s.find((t=>t.steamId==e.steamId));t.push({username:r.username,avatarURL:r.avatarURL,legends:r.legends,wins:r.wins,coinsEarned:e.coins,multiplier:e.multiplier})})),t}));return e.$$set=e=>{"players"in e&&a(2,s=e.players),"winners"in e&&a(0,r=e.winners)},[r,n,s]}class ue extends e{constructor(e){super(),t(this,e,fe,de,a,{players:2,winners:0})}}function he(e){let t,a,g,v,$,b,I,k,D,P,V,B,T=e[0].adsWatched<8?"Play ad":"Maximum ads reached";return{c(){t=s("button"),a=n(T),v=r(),$=s("input"),I=r(),k=s("div"),D=s("script"),P=n('function playAd() {\r\n            const init = (api) => {\r\n                if (api) {\r\n\r\n                    api.on("AdVideoStart", function() {\r\n                        document.getElementById("transfer").value = 1;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                        //api.setAdVolume(1);\r\n                        document.body.onblur = function() {\r\n                            //api.pauseAd();\r\n                        };\r\n                        document.body.onfocus = function() {\r\n                            //api.resumeAd();\r\n                        };\r\n                    });\r\n                    api.on("AdVideoFirstQuartile", () => {\r\n                        document.getElementById("transfer").value = 2;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoMidpoint", () => {\r\n                        document.getElementById("transfer").value = 3;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoThirdQuartile", () => {\r\n                        document.getElementById("transfer").value = 4;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoComplete", function() {\r\n                        document.getElementById("transfer").value = 5;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                        document.body.onblur = null;\r\n                        document.body.onfocus = null;\r\n                    });\r\n                } else {\r\n                    console.log("blank");\r\n                }\r\n            };\r\n            var s = document.querySelector("script[data-playerPro=\\"current\\"]");\r\n            //s.removeAttribute("data-playerPro");\r\n            (playerPro = window.playerPro || []).push({\r\n                id: "oOMhJ7zhhrjUgiJx4ZxVYPvrXaDjI3VFmkVHIzxJ2nYvXX8krkzp",\r\n                after: s,\r\n                init: init\r\n            });\r\n        }'),this.h()},l(e){t=l(e,"BUTTON",{disabled:!0,class:!0,style:!0,onclick:!0});var s=o(t);a=i(s,T),s.forEach(d),v=c(e),$=l(e,"INPUT",{hidden:!0,id:!0}),I=c(e),k=l(e,"DIV",{});var r=o(k);D=l(r,"SCRIPT",{"data-playerPro":!0});var n=o(D);P=i(n,'function playAd() {\r\n            const init = (api) => {\r\n                if (api) {\r\n\r\n                    api.on("AdVideoStart", function() {\r\n                        document.getElementById("transfer").value = 1;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                        //api.setAdVolume(1);\r\n                        document.body.onblur = function() {\r\n                            //api.pauseAd();\r\n                        };\r\n                        document.body.onfocus = function() {\r\n                            //api.resumeAd();\r\n                        };\r\n                    });\r\n                    api.on("AdVideoFirstQuartile", () => {\r\n                        document.getElementById("transfer").value = 2;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoMidpoint", () => {\r\n                        document.getElementById("transfer").value = 3;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoThirdQuartile", () => {\r\n                        document.getElementById("transfer").value = 4;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                    });\r\n                    api.on("AdVideoComplete", function() {\r\n                        document.getElementById("transfer").value = 5;\r\n                        document.getElementById("transfer").dispatchEvent(new CustomEvent("input"));\r\n                        document.body.onblur = null;\r\n                        document.body.onfocus = null;\r\n                    });\r\n                } else {\r\n                    console.log("blank");\r\n                }\r\n            };\r\n            var s = document.querySelector("script[data-playerPro=\\"current\\"]");\r\n            //s.removeAttribute("data-playerPro");\r\n            (playerPro = window.playerPro || []).push({\r\n                id: "oOMhJ7zhhrjUgiJx4ZxVYPvrXaDjI3VFmkVHIzxJ2nYvXX8krkzp",\r\n                after: s,\r\n                init: init\r\n            });\r\n        }'),n.forEach(d),r.forEach(d),this.h()},h(){t.disabled=g=e[0].adsWatched>=8,f(t,"class","button button-brand lg:mr-8 mt-2\r\n                            lg:mt-0 mb-5\r\n                            lg:mb-0  text-background svelte-ddkpvh"),f(t,"onclick","playAd()"),u(t,"FfaWatchAd","FfaWatchAd"===e[1]),$.hidden=!0,f($,"id",b=e[3]?"transfer":1e3*Math.random()),f(D,"data-playerpro","current")},m(s,r){h(s,t,r),m(t,a),h(s,v,r),h(s,$,r),y($,e[2]),h(s,I,r),h(s,k,r),m(k,D),m(D,P),V||(B=[E(t,"click",e[9]),E($,"input",e[10])],V=!0)},p(e,[s]){1&s&&T!==(T=e[0].adsWatched<8?"Play ad":"Maximum ads reached")&&x(a,T),1&s&&g!==(g=e[0].adsWatched>=8)&&(t.disabled=g),2&s&&u(t,"FfaWatchAd","FfaWatchAd"===e[1]),8&s&&b!==(b=e[3]?"transfer":1e3*Math.random())&&f($,"id",b),4&s&&$.value!==e[2]&&y($,e[2])},i:p,o:p,d(e){e&&d(t),e&&d(v),e&&d($),e&&d(I),e&&d(k),V=!1,w(B)}}}function me(e,t,a){let s,r,{socket:n}=t,{userPlayer:l}=t,{id:o}=t,{adError:c}=t,{info:i}=t,{finished:d}=t,{page:f}=t;n.on("advideo",(e=>{s&&("error"===e.code?(console.log(e.message),a(4,c=e.message),a(6,d=!0),a(3,s=!1)):"success"===e.code&&(a(5,i=e.message),a(0,l.adsWatched++,l),a(0,l.multiplier+=1===l.adsWatched?200:300,l),a(6,d=!0),a(3,s=!1)))}));return e.$$set=e=>{"socket"in e&&a(7,n=e.socket),"userPlayer"in e&&a(0,l=e.userPlayer),"id"in e&&a(8,o=e.id),"adError"in e&&a(4,c=e.adError),"info"in e&&a(5,i=e.info),"finished"in e&&a(6,d=e.finished),"page"in e&&a(1,f=e.page)},e.$$.update=()=>{if(389&e.$$.dirty&&r>0){console.log("nn");try{n.emit("advideo","1"===r?{state:1,steamId:l.steamId,room:o,goal:"earnMoreFFA"}:{state:r,steamId:l.steamId})}catch(e){console.log(e)}}},[l,f,r,s,c,i,d,n,o,()=>a(3,s=!0),function(){r=this.value,a(2,r)}]}class pe extends e{constructor(e){super(),t(this,e,me,he,a,{socket:7,userPlayer:0,id:8,adError:4,info:5,finished:6,page:1})}}function ge(e){let t,a,u,p,g,v,y,x,w,W,C,N,L,S,U,O,Y,H,z,J,Q,X,q,Z,K,_,ee,te,ae,se,re,ne,le,oe,ce,ie,de,fe,ue,he,me;let ge=function(e,t){return 1==e[6]?ye:ve}(e)(e);function Ee(t){e[7].call(null,t)}function xe(t){e[8].call(null,t)}function we(t){e[9].call(null,t)}function $e(t){e[10].call(null,t)}let be={socket:e[3],id:e[4],page:"FfaWatchAd"};return void 0!==e[0]&&(be.userPlayer=e[0]),void 0!==e[1]&&(be.adError=e[1]),void 0!==e[2]&&(be.info=e[2]),void 0!==e[5]&&(be.finished=e[5]),ae=new pe({props:be}),j.push((()=>F(ae,"userPlayer",Ee))),j.push((()=>F(ae,"adError",xe))),j.push((()=>F(ae,"info",we))),j.push((()=>F(ae,"finished",$e))),{c(){t=s("div"),a=s("div"),p=r(),g=s("div"),v=s("div"),y=s("div"),x=s("h1"),w=n("MULTIPLY YOUR REWARDS"),W=r(),C=s("p"),N=n("Want to obtain a first "),L=s("b"),S=n("x5 boost"),U=n(" on the\r\n                        "),O=s("b"),Y=n("coins"),H=n("\r\n                        you\r\n                        will\r\n                        "),z=s("b"),J=n("win"),Q=n(" by playing this match?"),X=r(),q=s("p"),Z=n("Watch a short video by clicking the button below!"),K=r(),ge.c(),_=r(),ee=s("div"),te=s("div"),$(ae.$$.fragment),oe=r(),ce=s("button"),ie=n("Continue\r\n                            to match"),this.h()},l(e){t=l(e,"DIV",{class:!0});var s=o(t);a=l(s,"DIV",{class:!0}),o(a).forEach(d),p=c(s),g=l(s,"DIV",{class:!0});var r=o(g);v=l(r,"DIV",{class:!0});var n=o(v);y=l(n,"DIV",{class:!0});var f=o(y);x=l(f,"H1",{class:!0});var u=o(x);w=i(u,"MULTIPLY YOUR REWARDS"),u.forEach(d),W=c(f),C=l(f,"P",{class:!0});var h=o(C);N=i(h,"Want to obtain a first "),L=l(h,"B",{class:!0});var m=o(L);S=i(m,"x5 boost"),m.forEach(d),U=i(h," on the\r\n                        "),O=l(h,"B",{class:!0});var E=o(O);Y=i(E,"coins"),E.forEach(d),H=i(h,"\r\n                        you\r\n                        will\r\n                        "),z=l(h,"B",{class:!0});var $=o(z);J=i($,"win"),$.forEach(d),Q=i(h," by playing this match?"),h.forEach(d),X=c(f),q=l(f,"P",{class:!0});var I=o(q);Z=i(I,"Watch a short video by clicking the button below!"),I.forEach(d),f.forEach(d),K=c(n),ge.l(n),_=c(n),ee=l(n,"DIV",{class:!0});var k=o(ee);te=l(k,"DIV",{class:!0});var D=o(te);b(ae.$$.fragment,D),oe=c(D),ce=l(D,"BUTTON",{class:!0,style:!0});var P=o(ce);ie=i(P,"Continue\r\n                            to match"),P.forEach(d),D.forEach(d),k.forEach(d),n.forEach(d),r.forEach(d),s.forEach(d),this.h()},h(){f(a,"class","hidden md:block md:w-1/4 lg:w-1/2 2xl:w-3/5 bg-background bg-opacity-70"),f(x,"class"," text-6xl   mt-8 sm:mt-13"),f(L,"class","svelte-vxaowk"),f(O,"class","svelte-vxaowk"),f(z,"class","svelte-vxaowk"),f(C,"class","text-3xl mt-7 lg:mt-12 max-w-md   "),f(q,"class","text-2xl mt-4 text-mid-light italic"),f(y,"class","text-center md:text-left"),f(ce,"class","button button-brand mt-5 sm:mt-0 mb-1"),I(ce,"background-color","#fc1870"),I(ce,"padding","0.75rem 1.5rem"),f(te,"class","mt-4 flex flex-col items-center sm:items-start sm:flex-row"),f(ee,"class","mt-12 sm:mt-0 sm:mb-24"),f(v,"class","sm:flex sm:flex-col items-center justify-between mx-7 h-full"),f(g,"class","bg-background w-full md:w-3/4  lg:w-1/2   2xl:w-2/5    h-full   md:border-l-2 border-primary"),f(t,"class","sm:flex absolute top-0 bottom-0 left-0 right-0 z-10 overflow-x-hidden")},m(s,r){h(s,t,r),m(t,a),m(t,p),m(t,g),m(g,v),m(v,y),m(y,x),m(x,w),m(y,W),m(y,C),m(C,N),m(C,L),m(L,S),m(C,U),m(C,O),m(O,Y),m(C,H),m(C,z),m(z,J),m(C,Q),m(y,X),m(y,q),m(q,Z),m(v,K),ge.m(v,null),m(v,_),m(v,ee),m(ee,te),k(ae,te,null),m(te,oe),m(te,ce),m(ce,ie),ue=!0,he||(me=E(ce,"click",e[11]),he=!0)},p(e,t){const a={};8&t&&(a.socket=e[3]),16&t&&(a.id=e[4]),!se&&1&t&&(se=!0,a.userPlayer=e[0],D((()=>se=!1))),!re&&2&t&&(re=!0,a.adError=e[1],D((()=>re=!1))),!ne&&4&t&&(ne=!0,a.info=e[2],D((()=>ne=!1))),!le&&32&t&&(le=!0,a.finished=e[5],D((()=>le=!1))),ae.$set(a)},i(e){ue||(u&&u.end(1),P(ae.$$.fragment,e),V((()=>{fe&&fe.end(1),de||(de=B(g,G,{x:500,duration:400})),de.start()})),ue=!0)},o(e){u=T(a,A,{duration:350}),M(ae.$$.fragment,e),de&&de.invalidate(),fe=T(g,G,{x:500,duration:350}),ue=!1},d(e){e&&d(t),e&&u&&u.end(),ge.d(),R(ae),e&&fe&&fe.end(),he=!1,me()}}}function ve(e){let t,a,u,p,g,v,y,E,x,w,$,b,k,D,P,V,B;return{c(){t=s("div"),a=s("p"),u=n("Did you know?"),p=r(),g=s("p"),v=n("If you are first and you watch "),y=s("strong"),E=n("2 videos"),x=n(" this match you will earn "),w=s("strong"),$=n("1000\r\n                            coins"),b=n(" vs "),k=s("b"),D=n("100 coins"),P=n(" if you watch "),V=s("b"),B=n("0 video"),this.h()},l(e){t=l(e,"DIV",{class:!0,style:!0});var s=o(t);a=l(s,"P",{class:!0});var r=o(a);u=i(r,"Did you know?"),r.forEach(d),p=c(s),g=l(s,"P",{});var n=o(g);v=i(n,"If you are first and you watch "),y=l(n,"STRONG",{class:!0});var f=o(y);E=i(f,"2 videos"),f.forEach(d),x=i(n," this match you will earn "),w=l(n,"STRONG",{class:!0});var h=o(w);$=i(h,"1000\r\n                            coins"),h.forEach(d),b=i(n," vs "),k=l(n,"B",{style:!0,class:!0});var m=o(k);D=i(m,"100 coins"),m.forEach(d),P=i(n," if you watch "),V=l(n,"B",{style:!0,class:!0});var I=o(V);B=i(I,"0 video"),I.forEach(d),n.forEach(d),s.forEach(d),this.h()},h(){f(a,"class","mb-4 text-4xl text-primary"),f(y,"class","svelte-vxaowk"),f(w,"class","svelte-vxaowk"),I(k,"color","#fc1870"),f(k,"class","svelte-vxaowk"),I(V,"color","#fc1870"),f(V,"class","svelte-vxaowk"),f(t,"class","card py-6 px-6 w-full mt-10 sm:mt-0 sm:w-auto sm:py-8 sm:px-10"),I(t,"max-width","27.5rem")},m(e,s){h(e,t,s),m(t,a),m(a,u),m(t,p),m(t,g),m(g,v),m(g,y),m(y,E),m(g,x),m(g,w),m(w,$),m(g,b),m(g,k),m(k,D),m(g,P),m(g,V),m(V,B)},d(e){e&&d(t)}}}function ye(e){let t,a,u,p,g,v,y,E,x,w,$,b,k,D;return{c(){t=s("div"),a=s("p"),u=n("Did you know?"),p=r(),g=s("p"),v=n("Watching at least "),y=s("strong"),E=n("2 videos per match"),x=n(" will "),w=s("u"),$=n("divide"),b=n(" the time to earn a\r\n                            battle\r\n                            pass by "),k=s("strong"),D=n("10\r\n                                hours"),this.h()},l(e){t=l(e,"DIV",{class:!0,style:!0});var s=o(t);a=l(s,"P",{class:!0});var r=o(a);u=i(r,"Did you know?"),r.forEach(d),p=c(s),g=l(s,"P",{});var n=o(g);v=i(n,"Watching at least "),y=l(n,"STRONG",{class:!0});var f=o(y);E=i(f,"2 videos per match"),f.forEach(d),x=i(n," will "),w=l(n,"U",{});var h=o(w);$=i(h,"divide"),h.forEach(d),b=i(n," the time to earn a\r\n                            battle\r\n                            pass by "),k=l(n,"STRONG",{class:!0});var m=o(k);D=i(m,"10\r\n                                hours"),m.forEach(d),n.forEach(d),s.forEach(d),this.h()},h(){f(a,"class","mb-4 text-4xl text-primary"),f(y,"class","svelte-vxaowk"),f(k,"class","svelte-vxaowk"),f(t,"class","card py-6 px-6 w-full mt-10 sm:mt-0 sm:w-auto sm:py-8 sm:px-10"),I(t,"max-width","27.5rem")},m(e,s){h(e,t,s),m(t,a),m(a,u),m(t,p),m(t,g),m(g,v),m(g,y),m(y,E),m(g,x),m(g,w),m(w,$),m(g,b),m(g,k),m(k,D)},d(e){e&&d(t)}}}function Ee(e){let t,a,s=!e[5]&&ge(e);return{c(){s&&s.c(),t=g()},l(e){s&&s.l(e),t=g()},m(e,r){s&&s.m(e,r),h(e,t,r),a=!0},p(e,[a]){e[5]?s&&(W(),M(s,1,1,(()=>{s=null})),C()):s?(s.p(e,a),32&a&&P(s,1)):(s=ge(e),s.c(),P(s,1),s.m(t.parentNode,t))},i(e){a||(P(s),a=!0)},o(e){M(s),a=!1},d(e){s&&s.d(e),e&&d(t)}}}function xe(e,t,a){let s,r=Math.floor(2*Math.random()),{socket:n}=t,{userPlayer:l}=t,{id:o}=t,{adError:c}=t,{info:i}=t;return e.$$set=e=>{"socket"in e&&a(3,n=e.socket),"userPlayer"in e&&a(0,l=e.userPlayer),"id"in e&&a(4,o=e.id),"adError"in e&&a(1,c=e.adError),"info"in e&&a(2,i=e.info)},[l,c,i,n,o,s,r,function(e){l=e,a(0,l)},function(e){c=e,a(1,c)},function(e){i=e,a(2,i)},function(e){s=e,a(5,s)},()=>a(5,s=!0)]}class we extends e{constructor(e){super(),t(this,e,xe,Ee,a,{socket:3,userPlayer:0,id:4,adError:1,info:2})}}function $e(e,t,a){const s=e.slice();return s[31]=t[a],s}function be(e){let t,a,r,n;return a=new Q({props:{data:"Loading game data..."}}),{c(){t=s("div"),$(a.$$.fragment),this.h()},l(e){t=l(e,"DIV",{class:!0});var s=o(t);b(a.$$.fragment,s),s.forEach(d),this.h()},h(){f(t,"class","z-50 bg-background absolute")},m(e,s){h(e,t,s),k(a,t,null),n=!0},i(e){n||(P(a.$$.fragment,e),r&&r.end(1),n=!0)},o(e){M(a.$$.fragment,e),r=T(t,A,{duration:500}),n=!1},d(e){e&&d(t),R(a),e&&r&&r.end()}}}function Ie(e){let t,a,n,i,u,m=e[0]&&De(e);const p=[Ve,Pe],g=[];function v(e,t){return e[3]?0:1}return n=v(e),i=g[n]=p[n](e),{c(){m&&m.c(),t=r(),a=s("div"),i.c(),this.h()},l(e){m&&m.l(e),t=c(e),a=l(e,"DIV",{class:!0});var s=o(a);i.l(s),s.forEach(d),this.h()},h(){f(a,"class","h-full  ")},m(e,s){m&&m.m(e,s),h(e,t,s),h(e,a,s),g[n].m(a,null),u=!0},p(e,s){e[0]?m?(m.p(e,s),1&s[0]&&P(m,1)):(m=De(e),m.c(),P(m,1),m.m(t.parentNode,t)):m&&(W(),M(m,1,1,(()=>{m=null})),C());let r=n;n=v(e),n===r?g[n].p(e,s):(W(),M(g[r],1,1,(()=>{g[r]=null})),C(),i=g[n],i?i.p(e,s):(i=g[n]=p[n](e),i.c()),P(i,1),i.m(a,null))},i(e){u||(P(m),P(i),u=!0)},o(e){M(m),M(i),u=!1},d(e){m&&m.d(e),e&&d(t),e&&d(a),g[n].d()}}}function ke(e){let t,a,u,g,v,y;return{c(){t=s("div"),a=s("h2"),u=r(),g=s("a"),v=s("p"),y=n("Go to play page"),this.h()},l(e){t=l(e,"DIV",{class:!0});var s=o(t);a=l(s,"H2",{class:!0}),o(a).forEach(d),u=c(s),g=l(s,"A",{href:!0});var r=o(g);v=l(r,"P",{class:!0});var n=o(v);y=i(n,"Go to play page"),n.forEach(d),r.forEach(d),s.forEach(d),this.h()},h(){f(a,"class","lg:text-5xl text-3xl text-center"),f(v,"class","underline lg:text-3xl pt-4 text-2xl  text-center text-primary"),f(g,"href","/play"),f(t,"class","w-full content-center lg:mt-60 mt-25 ")},m(s,r){h(s,t,r),m(t,a),a.innerHTML=e[8],m(t,u),m(t,g),m(g,v),m(v,y)},p(e,t){256&t[0]&&(a.innerHTML=e[8])},i:p,o:p,d(e){e&&d(t)}}}function De(e){let t,a;return t=new q({props:{message:"Thanks for watching a video",pushError:e[0]}}),{c(){$(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,s){k(t,e,s),a=!0},p(e,a){const s={};1&a[0]&&(s.pushError=e[0]),t.$set(s)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){M(t.$$.fragment,e),a=!1},d(e){R(t,e)}}}function Pe(e){let t,a;return t=new Q({props:{data:"Loading game data..."}}),{c(){$(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,s){k(t,e,s),a=!0},p:p,i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){M(t.$$.fragment,e),a=!1},d(e){R(t,e)}}}function Ve(e){let t,a,s,n,l,o,i,f,u,m;const p=[Te,Be],g=[];function v(e,t){return e[4]?0:1}function y(t){e[20].call(null,t)}function E(t){e[21].call(null,t)}function x(t){e[22].call(null,t)}t=v(e),a=g[t]=p[t](e),n=new _({props:{page:"ffa"}});let w={socket:e[10],id:e[2]};return void 0!==e[6]&&(w.userPlayer=e[6]),void 0!==e[1]&&(w.adError=e[1]),void 0!==e[0]&&(w.info=e[0]),o=new we({props:w}),j.push((()=>F(o,"userPlayer",y))),j.push((()=>F(o,"adError",E))),j.push((()=>F(o,"info",x))),{c(){a.c(),s=r(),$(n.$$.fragment),l=r(),$(o.$$.fragment)},l(e){a.l(e),s=c(e),b(n.$$.fragment,e),l=c(e),b(o.$$.fragment,e)},m(e,a){g[t].m(e,a),h(e,s,a),k(n,e,a),h(e,l,a),k(o,e,a),m=!0},p(e,r){let n=t;t=v(e),t===n?g[t].p(e,r):(W(),M(g[n],1,1,(()=>{g[n]=null})),C(),a=g[t],a?a.p(e,r):(a=g[t]=p[t](e),a.c()),P(a,1),a.m(s.parentNode,s));const l={};1024&r[0]&&(l.socket=e[10]),4&r[0]&&(l.id=e[2]),!i&&64&r[0]&&(i=!0,l.userPlayer=e[6],D((()=>i=!1))),!f&&2&r[0]&&(f=!0,l.adError=e[1],D((()=>f=!1))),!u&&1&r[0]&&(u=!0,l.info=e[0],D((()=>u=!1))),o.$set(l)},i(e){m||(P(a),P(n.$$.fragment,e),P(o.$$.fragment,e),m=!0)},o(e){M(a),M(n.$$.fragment,e),M(o.$$.fragment,e),m=!1},d(e){g[t].d(e),e&&d(s),R(n,e),e&&d(l),R(o,e)}}}function Be(e){let t,a,u,p,g,v,y,E,w,I,V,B,T,A,G,N,L,S,U,O,Y,H,z,J,Q,X,q,_,ee,te,ae,se,re,ne=e[6].adsWatched+"",le=e[6].adsWatched>1?"s":"",oe=e[6].multiplier/100+"";function ce(e,t){return e[5]?Me:Ae}let ie=ce(e),de=ie(e);function fe(t){e[15].call(null,t)}function ue(t){e[16].call(null,t)}function he(t){e[17].call(null,t)}w=new Z({props:{user:e[6]}});let me={socket:e[10],id:e[2]};void 0!==e[6]&&(me.userPlayer=e[6]),void 0!==e[1]&&(me.adError=e[1]),void 0!==e[0]&&(me.info=e[0]),z=new pe({props:me}),j.push((()=>F(z,"userPlayer",fe))),j.push((()=>F(z,"adError",ue))),j.push((()=>F(z,"info",he))),_=new K({props:{isRefreshing:e[12],refreshMessage:"Refresh data"}}),_.$on("click",e[18]);let ge=0==e[6].gamesPlayed&&Ge(e),ve=e[6]&&We(e),ye=e[7]&&Ce(e);return{c(){t=s("div"),a=s("div"),u=s("div"),p=s("h1"),g=n("FFA"),v=r(),y=s("p"),de.c(),E=r(),$(w.$$.fragment),I=r(),V=s("div"),B=s("p"),T=n("You watched "),A=s("strong"),G=n(ne),N=n("\r\n                                ad"),L=n(le),S=n(", earnings will be multiplied by\r\n                                "),U=s("strong"),O=n(oe),Y=n("!"),H=r(),$(z.$$.fragment),q=r(),$(_.$$.fragment),ee=r(),ge&&ge.c(),te=r(),ae=s("div"),ve&&ve.c(),se=r(),ye&&ye.c(),this.h()},l(e){t=l(e,"DIV",{class:!0});var s=o(t);a=l(s,"DIV",{class:!0});var r=o(a);u=l(r,"DIV",{class:!0});var n=o(u);p=l(n,"H1",{class:!0});var f=o(p);g=i(f,"FFA"),f.forEach(d),v=c(n),y=l(n,"P",{class:!0});var h=o(y);de.l(h),h.forEach(d),n.forEach(d),E=c(r),b(w.$$.fragment,r),I=c(r),V=l(r,"DIV",{class:!0});var m=o(V);B=l(m,"P",{class:!0});var x=o(B);T=i(x,"You watched "),A=l(x,"STRONG",{class:!0});var $=o(A);G=i($,ne),N=i($,"\r\n                                ad"),L=i($,le),$.forEach(d),S=i(x,", earnings will be multiplied by\r\n                                "),U=l(x,"STRONG",{class:!0});var k=o(U);O=i(k,oe),k.forEach(d),Y=i(x,"!"),x.forEach(d),H=c(m),b(z.$$.fragment,m),q=c(m),b(_.$$.fragment,m),ee=c(m),ge&&ge.l(m),m.forEach(d),r.forEach(d),te=c(s),ae=l(s,"DIV",{class:!0});var D=o(ae);ve&&ve.l(D),se=c(D),ye&&ye.l(D),D.forEach(d),s.forEach(d),this.h()},h(){f(p,"class","text-6xl leading-none"),f(y,"class","timer text-primary ml-5 text-3xl leading-none svelte-1dsvpkg"),f(u,"class","mode-timer flex justify-center lg:justify-start\r\n                        items-end w-52 "),f(A,"class","text-green font-normal text-3xl"),f(U,"class","text-green text-3xl font-normal"),f(B,"class","text-center lg:text-left mx-4 mt-1 lg:mt-0"),f(V,"class","lg:mr-7 mt-4 lg:mt-0 flex flex-col lg:flex-row\r\n                        items-center"),f(a,"class","flex flex-col justify-center lg:flex-row\r\n                    lg:justify-between items-center lg:mt-12 mt-7"),f(ae,"class","flex items-center flex-col lg:flex-row lg:items-start\r\n                    h-full lg:mt-6"),f(t,"class","h-full flex items-center flex-col lg:block lg:ml-24 z-0")},m(e,s){h(e,t,s),m(t,a),m(a,u),m(u,p),m(p,g),m(u,v),m(u,y),de.m(y,null),m(a,E),k(w,a,null),m(a,I),m(a,V),m(V,B),m(B,T),m(B,A),m(A,G),m(A,N),m(A,L),m(B,S),m(B,U),m(U,O),m(B,Y),m(V,H),k(z,V,null),m(V,q),k(_,V,null),m(V,ee),ge&&ge.m(V,null),m(t,te),m(t,ae),ve&&ve.m(ae,null),m(ae,se),ye&&ye.m(ae,null),re=!0},p(e,t){ie===(ie=ce(e))&&de?de.p(e,t):(de.d(1),de=ie(e),de&&(de.c(),de.m(y,null)));const a={};64&t[0]&&(a.user=e[6]),w.$set(a),(!re||64&t[0])&&ne!==(ne=e[6].adsWatched+"")&&x(G,ne),(!re||64&t[0])&&le!==(le=e[6].adsWatched>1?"s":"")&&x(L,le),(!re||64&t[0])&&oe!==(oe=e[6].multiplier/100+"")&&x(O,oe);const s={};1024&t[0]&&(s.socket=e[10]),4&t[0]&&(s.id=e[2]),!J&&64&t[0]&&(J=!0,s.userPlayer=e[6],D((()=>J=!1))),!Q&&2&t[0]&&(Q=!0,s.adError=e[1],D((()=>Q=!1))),!X&&1&t[0]&&(X=!0,s.info=e[0],D((()=>X=!1))),z.$set(s);const r={};4096&t[0]&&(r.isRefreshing=e[12]),_.$set(r),0==e[6].gamesPlayed?ge?(ge.p(e,t),64&t[0]&&P(ge,1)):(ge=Ge(e),ge.c(),P(ge,1),ge.m(V,null)):ge&&(W(),M(ge,1,1,(()=>{ge=null})),C()),e[6]?ve?ve.p(e,t):(ve=We(e),ve.c(),ve.m(ae,se)):ve&&(ve.d(1),ve=null),e[7]?ye?ye.p(e,t):(ye=Ce(e),ye.c(),ye.m(ae,null)):ye&&(ye.d(1),ye=null)},i(e){re||(P(w.$$.fragment,e),P(z.$$.fragment,e),P(_.$$.fragment,e),P(ge),re=!0)},o(e){M(w.$$.fragment,e),M(z.$$.fragment,e),M(_.$$.fragment,e),M(ge),re=!1},d(e){e&&d(t),de.d(),R(w),R(z),R(_),ge&&ge.d(),ve&&ve.d(),ye&&ye.d()}}}function Te(e){let t,a;return t=new ue({props:{players:e[3].players,winners:e[3].winners}}),{c(){$(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,s){k(t,e,s),a=!0},p(e,a){const s={};8&a[0]&&(s.players=e[3].players),8&a[0]&&(s.winners=e[3].winners),t.$set(s)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){M(t.$$.fragment,e),a=!1},d(e){R(t,e)}}}function Ae(e){let t;return{c(){t=n("Loading...")},l(e){t=i(e,"Loading...")},m(e,a){h(e,t,a)},p:p,d(e){e&&d(t)}}}function Me(e){let t;return{c(){t=n(e[5])},l(a){t=i(a,e[5])},m(e,a){h(e,t,a)},p(e,a){32&a[0]&&x(t,e[5])},d(e){e&&d(t)}}}function Ge(e){let t,a,u,p,v,y,x,w=e[9]&&Re(e);return{c(){t=s("button"),a=n("Quit lobby"),u=r(),w&&w.c(),p=g(),this.h()},l(e){t=l(e,"BUTTON",{class:!0,style:!0});var s=o(t);a=i(s,"Quit lobby"),s.forEach(d),u=c(e),w&&w.l(e),p=g(),this.h()},h(){f(t,"class","button button-brand quit lg:ml-4 mt-3\r\n                                lg:mt-0"),I(t,"background-color","#fc1870"),I(t,"padding-left","1.5rem"),I(t,"padding-right","1.5rem")},m(s,r){h(s,t,r),m(t,a),h(s,u,r),w&&w.m(s,r),h(s,p,r),v=!0,y||(x=E(t,"click",e[19]),y=!0)},p(e,t){e[9]?w?(w.p(e,t),512&t[0]&&P(w,1)):(w=Re(e),w.c(),P(w,1),w.m(p.parentNode,p)):w&&(W(),M(w,1,1,(()=>{w=null})),C())},i(e){v||(P(w),v=!0)},o(e){M(w),v=!1},d(e){e&&d(t),e&&d(u),w&&w.d(e),e&&d(p),y=!1,x()}}}function Re(e){let t,a;return t=new O({props:{message:"There was an error exiting the match",pushError:e[9]}}),{c(){$(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,s){k(t,e,s),a=!0},p(e,a){const s={};512&a[0]&&(s.pushError=e[9]),t.$set(s)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){M(t.$$.fragment,e),a=!1},d(e){R(t,e)}}}function We(e){let t,a,u,p,g,v,y,E,w,$,b,I,k,D,P,V,B,T,A,M,G=e[6].username+"",R=e[6].gamesPlayed+"",W=e[6].wins+"";return{c(){t=s("div"),a=s("img"),g=r(),v=s("p"),y=n(G),E=r(),w=s("div"),$=s("p"),b=n("Games played:\r\n                                        "),I=s("b"),k=n(R),D=n("\r\n                                        /8"),P=r(),V=s("p"),B=n("Games won:\r\n                                        "),T=s("b"),A=n(W),M=n("\r\n                                        /8"),this.h()},l(e){t=l(e,"DIV",{class:!0});var s=o(t);a=l(s,"IMG",{src:!0,alt:!0,class:!0}),g=c(s),v=l(s,"P",{class:!0});var r=o(v);y=i(r,G),r.forEach(d),E=c(s),w=l(s,"DIV",{class:!0});var n=o(w);$=l(n,"P",{});var f=o($);b=i(f,"Games played:\r\n                                        "),I=l(f,"B",{class:!0});var u=o(I);k=i(u,R),u.forEach(d),D=i(f,"\r\n                                        /8"),f.forEach(d),P=c(n),V=l(n,"P",{});var h=o(V);B=i(h,"Games won:\r\n                                        "),T=l(h,"B",{class:!0});var m=o(T);A=i(m,W),m.forEach(d),M=i(h,"\r\n                                        /8"),h.forEach(d),n.forEach(d),s.forEach(d),this.h()},h(){a.src!==(u="/assets/CharactersBanners/"+e[6].legends+".png")&&f(a,"src",u),f(a,"alt",p=e[6].legends),f(a,"class","block"),f(v,"class","player-name text-4xl svelte-1dsvpkg"),f(I,"class","svelte-1dsvpkg"),f(T,"class","svelte-1dsvpkg"),f(w,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(t,"class","mt-8 lg:mt-25 ffa-player card user svelte-1dsvpkg")},m(e,s){h(e,t,s),m(t,a),m(t,g),m(t,v),m(v,y),m(t,E),m(t,w),m(w,$),m($,b),m($,I),m(I,k),m($,D),m(w,P),m(w,V),m(V,B),m(V,T),m(T,A),m(V,M)},p(e,t){64&t[0]&&a.src!==(u="/assets/CharactersBanners/"+e[6].legends+".png")&&f(a,"src",u),64&t[0]&&p!==(p=e[6].legends)&&f(a,"alt",p),64&t[0]&&G!==(G=e[6].username+"")&&x(y,G),64&t[0]&&R!==(R=e[6].gamesPlayed+"")&&x(k,R),64&t[0]&&W!==(W=e[6].wins+"")&&x(A,W)},d(e){e&&d(t)}}}function Ce(e){let t,a=e[7],r=[];for(let t=0;t<a.length;t+=1)r[t]=je($e(e,a,t));return{c(){t=s("div");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){t=l(e,"DIV",{class:!0});var a=o(t);for(let e=0;e<r.length;e+=1)r[e].l(a);a.forEach(d),this.h()},h(){f(t,"class","flex flex-col justify-center lg:justify-start\r\n                            lg:flex-row lg:flex-wrap lg:ml-33 mt-14 lg:mt-0")},m(e,a){h(e,t,a);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,s){if(128&s[0]){let n;for(a=e[7],n=0;n<a.length;n+=1){const l=$e(e,a,n);r[n]?r[n].p(l,s):(r[n]=je(l),r[n].c(),r[n].m(t,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=a.length}},d(e){e&&d(t),v(r,e)}}}function je(e){let t,a,u,p,g,v,y,E,w,$,b,I,k,D,P,V=e[31].username+"",B=e[31].gamesPlayed+"";return{c(){t=s("div"),a=s("img"),g=r(),v=s("p"),y=n(V),E=r(),w=s("div"),$=s("p"),b=n("Games played:\r\n                                                "),I=s("b"),k=n(B),D=n("\r\n                                                /8"),P=r(),this.h()},l(e){t=l(e,"DIV",{class:!0});var s=o(t);a=l(s,"IMG",{src:!0,alt:!0,class:!0}),g=c(s),v=l(s,"P",{class:!0});var r=o(v);y=i(r,V),r.forEach(d),E=c(s),w=l(s,"DIV",{class:!0});var n=o(w);$=l(n,"P",{});var f=o($);b=i(f,"Games played:\r\n                                                "),I=l(f,"B",{class:!0});var u=o(I);k=i(u,B),u.forEach(d),D=i(f,"\r\n                                                /8"),f.forEach(d),n.forEach(d),P=c(s),s.forEach(d),this.h()},h(){a.src!==(u="/assets/CharactersBanners/"+e[31].legends+".png")&&f(a,"src",u),f(a,"alt",p=e[31].legends),f(a,"class","block"),f(v,"class","player-name text-3xl svelte-1dsvpkg"),f(I,"class","svelte-1dsvpkg"),f(w,"class","stats text-xl bottom-5\r\n                                        text-ultra-light svelte-1dsvpkg"),f(t,"class","ffa-player card lg:mr-12 mb-8 svelte-1dsvpkg")},m(e,s){h(e,t,s),m(t,a),m(t,g),m(t,v),m(v,y),m(t,E),m(t,w),m(w,$),m($,b),m($,I),m(I,k),m($,D),m(t,P)},p(e,t){128&t[0]&&a.src!==(u="/assets/CharactersBanners/"+e[31].legends+".png")&&f(a,"src",u),128&t[0]&&p!==(p=e[31].legends)&&f(a,"alt",p),128&t[0]&&V!==(V=e[31].username+"")&&x(y,V),128&t[0]&&B!==(B=e[31].gamesPlayed+"")&&x(k,B)},d(e){e&&d(t)}}}function Fe(e){let t,a;return t=new O({props:{message:"An error occurred while watching the ad",pushError:e[1]}}),{c(){$(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,s){k(t,e,s),a=!0},p(e,a){const s={};2&a[0]&&(s.pushError=e[1]),t.$set(s)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){M(t.$$.fragment,e),a=!1},d(e){R(t,e)}}}function Ne(e){let t,a,n,i,u,p,g,v,y,E=e[11]&&!e[8]&&be();const x=[ke,Ie],w=[];function $(e,t){return e[8]?0:1}u=$(e),p=w[u]=x[u](e);let b=e[1]&&Fe(e);return{c(){t=s("script"),n=r(),E&&E.c(),i=r(),p.c(),g=r(),v=s("div"),b&&b.c(),this.h()},l(e){const a=N('[data-svelte="svelte-m52iex"]',document.head);t=l(a,"SCRIPT",{async:!0,src:!0}),o(t).forEach(d),a.forEach(d),n=c(e),E&&E.l(e),i=c(e),p.l(e),g=c(e),v=l(e,"DIV",{});var s=o(v);b&&b.l(s),s.forEach(d),this.h()},h(){document.title="Winhalla | FFA match",t.async=!0,t.src!==(a="https://cdn.stat-rock.com/player.js")&&f(t,"src","https://cdn.stat-rock.com/player.js")},m(e,a){m(document.head,t),h(e,n,a),E&&E.m(e,a),h(e,i,a),w[u].m(e,a),h(e,g,a),h(e,v,a),b&&b.m(v,null),y=!0},p(e,t){e[11]&&!e[8]?E?2304&t[0]&&P(E,1):(E=be(),E.c(),P(E,1),E.m(i.parentNode,i)):E&&(W(),M(E,1,1,(()=>{E=null})),C());let a=u;u=$(e),u===a?w[u].p(e,t):(W(),M(w[a],1,1,(()=>{w[a]=null})),C(),p=w[u],p?p.p(e,t):(p=w[u]=x[u](e),p.c()),P(p,1),p.m(g.parentNode,g)),e[1]?b?(b.p(e,t),2&t[0]&&P(b,1)):(b=Fe(e),b.c(),P(b,1),b.m(v,null)):b&&(W(),M(b,1,1,(()=>{b=null})),C())},i(e){y||(P(E),P(p),P(b),y=!0)},o(e){M(E),M(p),M(b),y=!1},d(e){d(t),e&&d(n),E&&E.d(e),e&&d(i),w[u].d(e),e&&d(g),e&&d(v),b&&b.d()}}}function Le(e,t,a){const{page:s}=L();let r,n,l,o,c,i,d,f,u,h,m,p,g,v,y=!0;S((()=>{n=s.subscribe((async e=>{if(v="true"===e.query.spectator,l=void 0,a(3,o=void 0),a(4,c=void 0),a(6,d=void 0),a(7,f=void 0),a(8,m=void 0),a(10,g=void 0),a(2,r=e.params.id),!e.params.id&&!e.path.includes("/ffa/"))return console.log("not a ffa match");console.log("ffa match"),Y.subscribe((e=>{l=e.content}))();try{if(l=await l,l=l.steam,a(3,o=await H("get",`/getMatch/${r}`)),o instanceof Error)throw o;a(4,c=o.finished),E(!1);const e=new Date(d.joinDate),t=-((new Date).getTime()-new Date(e.setHours(e.getHours()+3)).getTime())/1e3;t<1?a(5,i="Waiting for others to finish (you can start a new game from the play page)"):function(e){let t,s,r,n=e;setInterval((function(){r=Math.floor(n%60),s=Math.floor(n/60%60),t=Math.floor(n/3600),s=s<10?"0"+s:s,r=r<10?"0"+r:r,a(5,i=t+":"+s+":"+r),--n<0&&(n=e)}),1e3)}(t),Y.set({refresh:!0}),a(10,g=X.io(z)),g.on("connection",(e=>{console.log(e),g.emit("match connection","FFA"+r)})),g.on("join match",(e=>{console.log(e)})),g.on("lobbyUpdate",(e=>{a(3,o=e),E(!0)})),a(11,y=!1)}catch(e){if(e.response)return 400===e.response.status&&e.response.data.includes("Play at least one ranked")?void a(8,m="You have to play a ranked game before using the site (1v1 or 2v2 doesn't matter)"):400===e.response.status&&e.response.data.includes("Play at least one")?void a(8,m="You have to download brawlhalla and play at least a game (or you are logged in with the wrong account)"):void(404===e.response.status&&a(8,m="<p class='text-accent'>404, that's an error.</p> <p>Match not found</p>"));a(8,m=`<p class="text-accent">Wow, unexpected error occured, details for geeks below.</p> <p class="text-2xl">${e.toString()}</p>`)}}))})),U((()=>{n&&n()}));const E=e=>{if(e){let e=o.players.findIndex((e=>e.steamId===l.id));a(3,o.players[e].wins=d.wins,o),a(6,d=o.players[e])}else a(6,d=o.players.find((e=>e.steamId===l.id)));a(7,f=[...o.players]),f.splice(o.players.findIndex((e=>e.steamId===l.id)),1)};let x=!1;const w=async()=>{a(12,x=!0);let e=d.gamesPlayed;a(3,o=await H("get",`/getMatch/${r}`)),E(!1),d.gamesPlayed!==e?Y.set({refresh:!0}):o.finished&&!1===c&&(a(4,c=!0),Y.set({refresh:!0})),a(12,x=!1)},$=async()=>{try{const e=await H("post","/exitMatch");if(e instanceof Error)throw e;J("/play")}catch(e){a(9,p=e.response.data.message?e.response.data.message:e.response.data?e.response.data.toString():e.toString()),setTimeout((()=>{a(9,p=void 0)}),8e3)}};return e.$$.update=()=>{1&e.$$.dirty[0]&&u&&setTimeout((()=>{a(0,u=void 0)}),5e3),2&e.$$.dirty[0]&&h&&setTimeout((()=>{a(1,h=void 0)}),25e3)},[u,h,r,o,c,i,d,f,m,p,g,y,x,w,$,function(e){d=e,a(6,d)},function(e){h=e,a(1,h)},function(e){u=e,a(0,u)},()=>w(),()=>$(),function(e){d=e,a(6,d)},function(e){h=e,a(1,h)},function(e){u=e,a(0,u)}]}export default class extends e{constructor(e){super(),t(this,e,Le,Ne,a,{},[-1,-1])}}
