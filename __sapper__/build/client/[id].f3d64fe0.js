import{S as s,i as e,s as a,e as l,a as t,t as r,c as n,g as c,f as o,h as i,d as h,j as f,w as d,l as g,k as m,n as p,D as u,C as v,q as x,L as E,N as y,K as w,o as D,O as I,r as b,p as V,u as $,v as k,H as P,I as G,J as B,M as T,y as M}from"./client.f5775633.js";import{R}from"./RefreshButton.a2ac28c3.js";import{L}from"./Loading.030db37a.js";function j(s,e,a){const l=s.slice();return l[5]=e[a],l}function C(s,e,a){const l=s.slice();return l[0]=e[a],l[4]=a,l}function H(s,e,a){const l=s.slice();return l[5]=e[a],l[4]=a,l}function N(s,e,a){const l=s.slice();return l[5]=e[a],l[4]=a,l}function A(s,e,a){const l=s.slice();return l[5]=e[a],l[4]=a,l}function F(s){let e,a,u,v,x,E,y,w,D,I,b,V,$,k,P,G,B,T=s[5].username+"",M=s[5].wins+"";return{c(){e=l("div"),a=l("div"),u=l("div"),v=l("img"),y=t(),w=l("p"),D=r(T),I=t(),b=l("div"),V=l("p"),$=r("Games won: "),k=l("b"),P=r(M),G=r("/8"),B=t(),this.h()},l(s){e=n(s,"DIV",{});var l=c(e);a=n(l,"DIV",{});var t=c(a);u=n(t,"DIV",{class:!0});var r=c(u);v=n(r,"IMG",{src:!0,alt:!0,class:!0}),y=o(r),w=n(r,"P",{class:!0});var f=c(w);D=i(f,T),f.forEach(h),I=o(r),b=n(r,"DIV",{class:!0});var d=c(b);V=n(d,"P",{});var g=c(V);$=i(g,"Games won: "),k=n(g,"B",{class:!0});var m=c(k);P=i(m,M),m.forEach(h),G=i(g,"/8"),g.forEach(h),d.forEach(h),r.forEach(h),t.forEach(h),B=o(l),l.forEach(h),this.h()},h(){v.src!==(x="/assets/CharactersBanners/"+s[5].legends+".png")&&f(v,"src",x),f(v,"alt",E=s[5].legends),f(v,"class","block"),f(w,"class","player-name text-4xl svelte-1dsvpkg"),f(k,"class","svelte-1dsvpkg"),f(b,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(u,"class","ffa-player card user svelte-1dsvpkg"),d(e,"lg:ml-10",s[4]>0)},m(s,l){g(s,e,l),m(e,a),m(a,u),m(u,v),m(u,y),m(u,w),m(w,D),m(u,I),m(u,b),m(b,V),m(V,$),m(V,k),m(k,P),m(V,G),m(e,B)},p:p,d(s){s&&h(e)}}}function U(s){let e,a,d,u,v,x,E,y,w,D,I,b,V,$,k,P,G,B=s[5].username+"",T=s[5].wins+"";return{c(){e=l("div"),a=l("div"),d=l("div"),u=l("img"),E=t(),y=l("p"),w=r(B),D=t(),I=l("div"),b=l("p"),V=r("Games won: "),$=l("b"),k=r(T),P=r("/8"),G=t(),this.h()},l(s){e=n(s,"DIV",{class:!0});var l=c(e);a=n(l,"DIV",{});var t=c(a);d=n(t,"DIV",{class:!0});var r=c(d);u=n(r,"IMG",{src:!0,alt:!0,class:!0}),E=o(r),y=n(r,"P",{class:!0});var f=c(y);w=i(f,B),f.forEach(h),D=o(r),I=n(r,"DIV",{class:!0});var g=c(I);b=n(g,"P",{});var m=c(b);V=i(m,"Games won: "),$=n(m,"B",{class:!0});var p=c($);k=i(p,T),p.forEach(h),P=i(m,"/8"),m.forEach(h),g.forEach(h),r.forEach(h),t.forEach(h),G=o(l),l.forEach(h),this.h()},h(){u.src!==(v="/assets/CharactersBanners/"+s[5].legends+".png")&&f(u,"src",v),f(u,"alt",x=s[5].legends),f(u,"class","block"),f(y,"class","player-name text-4xl svelte-1dsvpkg"),f($,"class","svelte-1dsvpkg"),f(I,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(d,"class","ffa-player card user svelte-1dsvpkg"),f(e,"class","mt-10 lg:ml-10")},m(s,l){g(s,e,l),m(e,a),m(a,d),m(d,u),m(d,E),m(d,y),m(y,w),m(d,D),m(d,I),m(I,b),m(b,V),m(b,$),m($,k),m(b,P),m(e,G)},p:p,d(s){s&&h(e)}}}function q(s){let e,a,d,u,v,x,E,y,w,D,I,b,V,$,k,P,G,B=s[5].username+"",T=s[5].wins+"";return{c(){e=l("div"),a=l("div"),d=l("div"),u=l("img"),E=t(),y=l("p"),w=r(B),D=t(),I=l("div"),b=l("p"),V=r("Games won: "),$=l("b"),k=r(T),P=r("/8"),G=t(),this.h()},l(s){e=n(s,"DIV",{class:!0});var l=c(e);a=n(l,"DIV",{});var t=c(a);d=n(t,"DIV",{class:!0});var r=c(d);u=n(r,"IMG",{src:!0,alt:!0,class:!0}),E=o(r),y=n(r,"P",{class:!0});var f=c(y);w=i(f,B),f.forEach(h),D=o(r),I=n(r,"DIV",{class:!0});var g=c(I);b=n(g,"P",{});var m=c(b);V=i(m,"Games won: "),$=n(m,"B",{class:!0});var p=c($);k=i(p,T),p.forEach(h),P=i(m,"/8"),m.forEach(h),g.forEach(h),r.forEach(h),t.forEach(h),G=o(l),l.forEach(h),this.h()},h(){u.src!==(v="/assets/CharactersBanners/"+s[5].legends+".png")&&f(u,"src",v),f(u,"alt",x=s[5].legends),f(u,"class","block"),f(y,"class","player-name text-4xl svelte-1dsvpkg"),f($,"class","svelte-1dsvpkg"),f(I,"class","stats text-2xl bottom-5 text-ultra-light svelte-1dsvpkg"),f(d,"class","ffa-player card user svelte-1dsvpkg"),f(e,"class","mt-10 lg:mt-20 lg:ml-10")},m(s,l){g(s,e,l),m(e,a),m(a,d),m(d,u),m(d,E),m(d,y),m(y,w),m(d,D),m(d,I),m(I,b),m(b,V),m(b,$),m($,k),m(b,P),m(e,G)},p:p,d(s){s&&h(e)}}}function O(s){let e,a=(s[5].avatarURL||s[5].username)&&function(s){let e,a,d,u,v,x,E,y,w,D,I,b,V,$,k,P,G,B,T,M,R,L,j,C,H=s[4]+1+"",N=s[5].username+"",A=s[5].wins+"",F=s[5].coinsEarned+"",U=s[5].multiplier+"";return{c(){e=l("tr"),a=l("td"),d=l("b"),u=r(H),v=t(),x=l("td"),E=l("img"),D=t(),I=l("p"),b=r(N),V=t(),$=l("td"),k=l("b"),P=r(A),G=r("/8"),B=t(),T=l("td"),M=r(F),R=t(),L=l("td"),j=r(U),C=t(),this.h()},l(s){e=n(s,"TR",{});var l=c(e);a=n(l,"TD",{class:!0});var t=c(a);d=n(t,"B",{class:!0});var r=c(d);u=i(r,H),r.forEach(h),t.forEach(h),v=o(l),x=n(l,"TD",{class:!0});var f=c(x);E=n(f,"IMG",{class:!0,src:!0,alt:!0}),D=o(f),I=n(f,"P",{class:!0});var g=c(I);b=i(g,N),g.forEach(h),f.forEach(h),V=o(l),$=n(l,"TD",{class:!0});var m=c($);k=n(m,"B",{class:!0});var p=c(k);P=i(p,A),p.forEach(h),G=i(m,"/8"),m.forEach(h),B=o(l),T=n(l,"TD",{class:!0});var y=c(T);M=i(y,F),y.forEach(h),R=o(l),L=n(l,"TD",{class:!0});var w=c(L);j=i(w,U),w.forEach(h),C=o(l),l.forEach(h),this.h()},h(){f(d,"class","font-normal svelte-1dsvpkg"),f(a,"class","px-6 py-2"),f(E,"class","block w-10 h-10 rounded-full"),E.src!==(y=s[5].avatarURL)&&f(E,"src",y),f(E,"alt",w=s[5].legends),f(I,"class","pl-2"),f(x,"class","flex items-center px-6 py-2"),f(k,"class","text-primary font-normal svelte-1dsvpkg"),f($,"class","px-6 py-2"),f(T,"class","px-6 py-2"),f(L,"class","px-6 py-2")},m(s,l){g(s,e,l),m(e,a),m(a,d),m(d,u),m(e,v),m(e,x),m(x,E),m(x,D),m(x,I),m(I,b),m(e,V),m(e,$),m($,k),m(k,P),m($,G),m(e,B),m(e,T),m(T,M),m(e,R),m(e,L),m(L,j),m(e,C)},p:p,d(s){s&&h(e)}}}(s);return{c(){a&&a.c(),e=u()},l(s){a&&a.l(s),e=u()},m(s,l){a&&a.m(s,l),g(s,e,l)},p(s,e){(s[5].avatarURL||s[5].username)&&a.p(s,e)},d(s){a&&a.d(s),s&&h(e)}}}function W(s){let e,a=s[0],l=[];for(let e=0;e<a.length;e+=1)l[e]=O(j(s,a,e));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=u()},l(s){for(let e=0;e<l.length;e+=1)l[e].l(s);e=u()},m(s,a){for(let e=0;e<l.length;e+=1)l[e].m(s,a);g(s,e,a)},p(s,t){if(2&t){let r;for(a=s[0],r=0;r<a.length;r+=1){const n=j(s,a,r);l[r]?l[r].p(n,t):(l[r]=O(n),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=a.length}},d(s){v(l,s),s&&h(e)}}}function Y(s){let e,a,d,x,E,y,w,D,I,b,V,$,k,P,G,B,T,M,R,L,j,O,Y,Q,z,J,K,S,X,Z,_,ss,es,as=s[1][0],ls=[];for(let e=0;e<as.length;e+=1)ls[e]=F(A(s,as,e));let ts=""!==s[1][1]&&function(s){let e,a=s[1][1],l=[];for(let e=0;e<a.length;e+=1)l[e]=U(N(s,a,e));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=u()},l(s){for(let e=0;e<l.length;e+=1)l[e].l(s);e=u()},m(s,a){for(let e=0;e<l.length;e+=1)l[e].m(s,a);g(s,e,a)},p(s,t){if(2&t){let r;for(a=s[1][1],r=0;r<a.length;r+=1){const n=N(s,a,r);l[r]?l[r].p(n,t):(l[r]=U(n),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=a.length}},d(s){v(l,s),s&&h(e)}}}(s),rs=""!==s[1][2]&&function(s){let e,a=s[1][2],l=[];for(let e=0;e<a.length;e+=1)l[e]=q(H(s,a,e));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=u()},l(s){for(let e=0;e<l.length;e+=1)l[e].l(s);e=u()},m(s,a){for(let e=0;e<l.length;e+=1)l[e].m(s,a);g(s,e,a)},p(s,t){if(2&t){let r;for(a=s[1][2],r=0;r<a.length;r+=1){const n=H(s,a,r);l[r]?l[r].p(n,t):(l[r]=q(n),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=a.length}},d(s){v(l,s),s&&h(e)}}}(s),ns=s[1],cs=[];for(let e=0;e<ns.length;e+=1)cs[e]=W(C(s,ns,e));return{c(){e=l("div"),a=l("div"),d=l("div"),x=l("h1"),E=r("Match Ended"),y=t(),w=l("div"),D=l("div");for(let s=0;s<ls.length;s+=1)ls[s].c();I=t(),ts&&ts.c(),b=t(),rs&&rs.c(),V=t(),$=l("div"),k=l("div"),P=l("div"),G=l("table"),B=l("thead"),T=l("tr"),M=l("td"),R=r("Rank"),L=t(),j=l("td"),O=r("Player"),Y=t(),Q=l("td"),z=r("Wins"),J=t(),K=l("td"),S=r("Earned"),X=t(),Z=l("td"),_=r("Multiplier"),ss=t(),es=l("tbody");for(let s=0;s<cs.length;s+=1)cs[s].c();this.h()},l(s){e=n(s,"DIV",{class:!0});var l=c(e);a=n(l,"DIV",{class:!0});var t=c(a);d=n(t,"DIV",{class:!0});var r=c(d);x=n(r,"H1",{class:!0});var f=c(x);E=i(f,"Match Ended"),f.forEach(h),r.forEach(h),t.forEach(h),y=o(l),w=n(l,"DIV",{class:!0});var g=c(w);D=n(g,"DIV",{class:!0});var m=c(D);for(let s=0;s<ls.length;s+=1)ls[s].l(m);I=o(m),ts&&ts.l(m),b=o(m),rs&&rs.l(m),m.forEach(h),V=o(g),$=n(g,"DIV",{});var p=c($);k=n(p,"DIV",{class:!0});var u=c(k);P=n(u,"DIV",{});var v=c(P);G=n(v,"TABLE",{class:!0});var C=c(G);B=n(C,"THEAD",{class:!0});var H=c(B);T=n(H,"TR",{});var N=c(T);M=n(N,"TD",{class:!0});var A=c(M);R=i(A,"Rank"),A.forEach(h),L=o(N),j=n(N,"TD",{class:!0});var F=c(j);O=i(F,"Player"),F.forEach(h),Y=o(N),Q=n(N,"TD",{class:!0});var U=c(Q);z=i(U,"Wins"),U.forEach(h),J=o(N),K=n(N,"TD",{class:!0});var q=c(K);S=i(q,"Earned"),q.forEach(h),X=o(N),Z=n(N,"TD",{class:!0});var W=c(Z);_=i(W,"Multiplier"),W.forEach(h),N.forEach(h),H.forEach(h),ss=o(C),es=n(C,"TBODY",{class:!0});var as=c(es);for(let s=0;s<cs.length;s+=1)cs[s].l(as);as.forEach(h),C.forEach(h),v.forEach(h),u.forEach(h),p.forEach(h),g.forEach(h),l.forEach(h),this.h()},h(){f(x,"class","text-6xl"),f(d,"class","mode-timer lg:flex items-end"),f(a,"class","pl-7 lg:pl-24 pt-8 lg:pt-12"),f(D,"class","flex flex-col items-center lg:flex-row"),f(M,"class","px-6 py-3"),f(j,"class","px-6 py-3"),f(Q,"class","px-6 py-3"),f(K,"class","px-6 py-3"),f(Z,"class","px-6 py-3"),f(B,"class","bg-primary "),f(es,"class","divide-y-4 divide-background text-l"),f(G,"class","card px-4 overflow-hidden mt-10 lg:mt-20"),f(k,"class","overflow-x-scroll lg:overflow-auto pl-6 lg:pl-0 pb-4 lg:pb-8 "),f(w,"class","flex flex-col lg:items-center mt-8 lg:mt-0 relative lg:ml-24"),f(e,"class","")},m(s,l){g(s,e,l),m(e,a),m(a,d),m(d,x),m(x,E),m(e,y),m(e,w),m(w,D);for(let s=0;s<ls.length;s+=1)ls[s].m(D,null);m(D,I),ts&&ts.m(D,null),m(D,b),rs&&rs.m(D,null),m(w,V),m(w,$),m($,k),m(k,P),m(P,G),m(G,B),m(B,T),m(T,M),m(M,R),m(T,L),m(T,j),m(j,O),m(T,Y),m(T,Q),m(Q,z),m(T,J),m(T,K),m(K,S),m(T,X),m(T,Z),m(Z,_),m(G,ss),m(G,es);for(let s=0;s<cs.length;s+=1)cs[s].m(es,null)},p(s,[e]){if(2&e){let a;for(as=s[1][0],a=0;a<as.length;a+=1){const l=A(s,as,a);ls[a]?ls[a].p(l,e):(ls[a]=F(l),ls[a].c(),ls[a].m(D,I))}for(;a<ls.length;a+=1)ls[a].d(1);ls.length=as.length}if(""!==s[1][1]&&ts.p(s,e),""!==s[1][2]&&rs.p(s,e),2&e){let a;for(ns=s[1],a=0;a<ns.length;a+=1){const l=C(s,ns,a);cs[a]?cs[a].p(l,e):(cs[a]=W(l),cs[a].c(),cs[a].m(es,null))}for(;a<cs.length;a+=1)cs[a].d(1);cs.length=ns.length}},i:p,o:p,d(s){s&&h(e),v(ls,s),ts&&ts.d(),rs&&rs.d(),v(cs,s)}}}function Q(s,e,a){let{players:l}=e,{winners:t}=e;const r=t.map(s=>{let e=[];return s.forEach((s,a)=>{if(""==s)return;const t=l.find(e=>e.steamId==s.steamId);e.push({username:t.username,avatarURL:t.avatarURL,legends:t.legends,wins:t.wins,coinsEarned:s.coins,multiplier:s.multiplier})}),e});return s.$$set=s=>{"players"in s&&a(2,l=s.players),"winners"in s&&a(0,t=s.winners)},[t,r,l]}class z extends s{constructor(s){super(),e(this,s,Q,Y,a,{players:2,winners:0})}}function J(s,e,a){const l=s.slice();return l[15]=e[a],l}function K(s){let e,a,t,r;const o=[Z,X],i=[];function d(s,e){return s[0]?0:1}return a=d(s),t=i[a]=o[a](s),{c(){e=l("div"),t.c(),this.h()},l(s){e=n(s,"DIV",{class:!0});var a=c(e);t.l(a),a.forEach(h),this.h()},h(){f(e,"class","h-full")},m(s,l){g(s,e,l),i[a].m(e,null),r=!0},p(s,l){let r=a;a=d(s),a===r?i[a].p(s,l):(I(),E(i[r],1,1,()=>{i[r]=null}),y(),t=i[a],t||(t=i[a]=o[a](s),t.c()),w(t,1),t.m(e,null))},i(s){r||(w(t),r=!0)},o(s){E(t),r=!1},d(s){s&&h(e),i[a].d()}}}function S(s){let e,a,d,u,v,x,E;return{c(){e=l("div"),a=l("h2"),d=r(s[5]),u=t(),v=l("a"),x=l("p"),E=r("Go to play page"),this.h()},l(l){e=n(l,"DIV",{class:!0});var t=c(e);a=n(t,"H2",{class:!0});var r=c(a);d=i(r,s[5]),r.forEach(h),u=o(t),v=n(t,"A",{href:!0});var f=c(v);x=n(f,"P",{class:!0});var g=c(x);E=i(g,"Go to play page"),g.forEach(h),f.forEach(h),t.forEach(h),this.h()},h(){f(a,"class","lg:text-4xl text-3xl text-center"),f(x,"class","underline lg:text-3xl text-2xl  text-center text-primary"),f(v,"href","/play"),f(e,"class","w-full content-center lg:mt-60 mt-25 ")},m(s,l){g(s,e,l),m(e,a),m(a,d),m(e,u),m(e,v),m(v,x),m(x,E)},p(s,e){32&e&&k(d,s[5])},i:p,o:p,d(s){s&&h(e)}}}function X(s){let e,a;return e=new L({props:{data:"Loading game data..."}}),{c(){P(e.$$.fragment)},l(s){G(e.$$.fragment,s)},m(s,l){B(e,s,l),a=!0},p:p,i(s){a||(w(e.$$.fragment,s),a=!0)},o(s){E(e.$$.fragment,s),a=!1},d(s){T(e,s)}}}function Z(s){let e,a,l,t;const r=[ss,_],n=[];function c(s,e){return s[1]?0:1}return e=c(s),a=n[e]=r[e](s),{c(){a.c(),l=u()},l(s){a.l(s),l=u()},m(s,a){n[e].m(s,a),g(s,l,a),t=!0},p(s,t){let o=e;e=c(s),e===o?n[e].p(s,t):(I(),E(n[o],1,1,()=>{n[o]=null}),y(),a=n[e],a||(a=n[e]=r[e](s),a.c()),w(a,1),a.m(l.parentNode,l))},i(s){t||(w(a),t=!0)},o(s){E(a),t=!1},d(s){n[e].d(s),s&&h(l)}}}function _(s){let e,a,d,p,u,v,x,y,D,I,b,V,$,k,M;function L(s,e){return s[2]?as:es}let j=L(s),C=j(s);I=new R({props:{isRefreshing:s[6],refreshMessage:"Refresh data"}}),I.$on("click",s[10]);let H=0==s[3].gamesPlayed&&ls(s),N=s[3]&&ts(s),A=s[4]&&rs(s);return{c(){e=l("div"),a=l("div"),d=l("div"),p=l("h1"),u=r("FFA"),v=t(),x=l("p"),C.c(),y=t(),D=l("div"),P(I.$$.fragment),b=t(),H&&H.c(),V=t(),$=l("div"),N&&N.c(),k=t(),A&&A.c(),this.h()},l(s){e=n(s,"DIV",{class:!0});var l=c(e);a=n(l,"DIV",{class:!0});var t=c(a);d=n(t,"DIV",{class:!0});var r=c(d);p=n(r,"H1",{class:!0});var f=c(p);u=i(f,"FFA"),f.forEach(h),v=o(r),x=n(r,"P",{class:!0});var g=c(x);C.l(g),g.forEach(h),r.forEach(h),y=o(t),D=n(t,"DIV",{class:!0});var m=c(D);G(I.$$.fragment,m),b=o(m),H&&H.l(m),m.forEach(h),t.forEach(h),V=o(l),$=n(l,"DIV",{class:!0});var E=c($);N&&N.l(E),k=o(E),A&&A.l(E),E.forEach(h),l.forEach(h),this.h()},h(){f(p,"class","text-6xl leading-none"),f(x,"class","timer text-primary ml-5 text-3xl leading-none svelte-agtwr1"),f(d,"class","mode-timer flex justify-center lg:justify-start\r\n                        items-end w-60 "),f(D,"class","lg:mr-7 mt-4 lg:mt-0 flex flex-col lg:flex-row\r\n                        items-center"),f(a,"class","flex flex-col justify-center lg:flex-row\r\n                    lg:justify-between items-center lg:mt-12 mt-7"),f($,"class","flex items-center flex-col lg:flex-row lg:items-start\r\n                    h-full"),f(e,"class","h-full flex items-center flex-col lg:block lg:ml-24")},m(s,l){g(s,e,l),m(e,a),m(a,d),m(d,p),m(p,u),m(d,v),m(d,x),C.m(x,null),m(a,y),m(a,D),B(I,D,null),m(D,b),H&&H.m(D,null),m(e,V),m(e,$),N&&N.m($,null),m($,k),A&&A.m($,null),M=!0},p(s,e){j===(j=L(s))&&C?C.p(s,e):(C.d(1),C=j(s),C&&(C.c(),C.m(x,null)));const a={};64&e&&(a.isRefreshing=s[6]),I.$set(a),0==s[3].gamesPlayed?H?H.p(s,e):(H=ls(s),H.c(),H.m(D,null)):H&&(H.d(1),H=null),s[3]?N?N.p(s,e):(N=ts(s),N.c(),N.m($,k)):N&&(N.d(1),N=null),s[4]?A?A.p(s,e):(A=rs(s),A.c(),A.m($,null)):A&&(A.d(1),A=null)},i(s){M||(w(I.$$.fragment,s),M=!0)},o(s){E(I.$$.fragment,s),M=!1},d(s){s&&h(e),C.d(),T(I),H&&H.d(),N&&N.d(),A&&A.d()}}}function ss(s){let e,a;return e=new z({props:{players:s[0].players,winners:s[0].winners}}),{c(){P(e.$$.fragment)},l(s){G(e.$$.fragment,s)},m(s,l){B(e,s,l),a=!0},p(s,a){const l={};1&a&&(l.players=s[0].players),1&a&&(l.winners=s[0].winners),e.$set(l)},i(s){a||(w(e.$$.fragment,s),a=!0)},o(s){E(e.$$.fragment,s),a=!1},d(s){T(e,s)}}}function es(s){let e;return{c(){e=r("Loading...")},l(s){e=i(s,"Loading...")},m(s,a){g(s,e,a)},p:p,d(s){s&&h(e)}}}function as(s){let e;return{c(){e=r(s[2])},l(a){e=i(a,s[2])},m(s,a){g(s,e,a)},p(s,a){4&a&&k(e,s[2])},d(s){s&&h(e)}}}function ls(s){let e,a,t,o;return{c(){e=l("button"),a=r("Quit lobby"),this.h()},l(s){e=n(s,"BUTTON",{class:!0});var l=c(e);a=i(l,"Quit lobby"),l.forEach(h),this.h()},h(){f(e,"class","button button-brand quit lg:ml-4 mt-2\r\n                                lg:mt-0 svelte-agtwr1")},m(l,r){g(l,e,r),m(e,a),t||(o=M(e,"click",s[11]),t=!0)},p:p,d(s){s&&h(e),t=!1,o()}}}function ts(s){let e,a,d,p,u,v,x,E,y,w,D,I,b,V,$,P,G,B,T,M,R=s[3].username+"",L=s[3].gamesPlayed+"",j=s[3].wins+"";return{c(){e=l("div"),a=l("img"),u=t(),v=l("p"),x=r(R),E=t(),y=l("div"),w=l("p"),D=r("Games played:\r\n                                        "),I=l("b"),b=r(L),V=r("\r\n                                        /8"),$=t(),P=l("p"),G=r("Games won:\r\n                                        "),B=l("b"),T=r(j),M=r("\r\n                                        /8"),this.h()},l(s){e=n(s,"DIV",{class:!0});var l=c(e);a=n(l,"IMG",{src:!0,alt:!0,class:!0}),u=o(l),v=n(l,"P",{class:!0});var t=c(v);x=i(t,R),t.forEach(h),E=o(l),y=n(l,"DIV",{class:!0});var r=c(y);w=n(r,"P",{});var f=c(w);D=i(f,"Games played:\r\n                                        "),I=n(f,"B",{class:!0});var d=c(I);b=i(d,L),d.forEach(h),V=i(f,"\r\n                                        /8"),f.forEach(h),$=o(r),P=n(r,"P",{});var g=c(P);G=i(g,"Games won:\r\n                                        "),B=n(g,"B",{class:!0});var m=c(B);T=i(m,j),m.forEach(h),M=i(g,"\r\n                                        /8"),g.forEach(h),r.forEach(h),l.forEach(h),this.h()},h(){a.src!==(d="/assets/CharactersBanners/"+s[3].legends+".png")&&f(a,"src",d),f(a,"alt",p=s[3].legends),f(a,"class","block"),f(v,"class","player-name text-4xl svelte-agtwr1"),f(I,"class","svelte-agtwr1"),f(B,"class","svelte-agtwr1"),f(y,"class","stats text-2xl bottom-5 text-ultra-light svelte-agtwr1"),f(e,"class","mt-8 lg:mt-25 ffa-player card user svelte-agtwr1")},m(s,l){g(s,e,l),m(e,a),m(e,u),m(e,v),m(v,x),m(e,E),m(e,y),m(y,w),m(w,D),m(w,I),m(I,b),m(w,V),m(y,$),m(y,P),m(P,G),m(P,B),m(B,T),m(P,M)},p(s,e){8&e&&a.src!==(d="/assets/CharactersBanners/"+s[3].legends+".png")&&f(a,"src",d),8&e&&p!==(p=s[3].legends)&&f(a,"alt",p),8&e&&R!==(R=s[3].username+"")&&k(x,R),8&e&&L!==(L=s[3].gamesPlayed+"")&&k(b,L),8&e&&j!==(j=s[3].wins+"")&&k(T,j)},d(s){s&&h(e)}}}function rs(s){let e,a=s[4],t=[];for(let e=0;e<a.length;e+=1)t[e]=ns(J(s,a,e));return{c(){e=l("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=n(s,"DIV",{class:!0});var a=c(e);for(let s=0;s<t.length;s+=1)t[s].l(a);a.forEach(h),this.h()},h(){f(e,"class","flex flex-col justify-center lg:justify-start\r\n                            lg:flex-row lg:flex-wrap lg:ml-33 mt-14 lg:mt-0")},m(s,a){g(s,e,a);for(let s=0;s<t.length;s+=1)t[s].m(e,null)},p(s,l){if(16&l){let r;for(a=s[4],r=0;r<a.length;r+=1){const n=J(s,a,r);t[r]?t[r].p(n,l):(t[r]=ns(n),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=a.length}},d(s){s&&h(e),v(t,s)}}}function ns(s){let e,a,d,p,u,v,x,E,y,w,D,I,b,V,$,P=s[15].username+"",G=s[15].gamesPlayed+"";return{c(){e=l("div"),a=l("img"),u=t(),v=l("p"),x=r(P),E=t(),y=l("div"),w=l("p"),D=r("Games played:\r\n                                                "),I=l("b"),b=r(G),V=r("\r\n                                                /8"),$=t(),this.h()},l(s){e=n(s,"DIV",{class:!0});var l=c(e);a=n(l,"IMG",{src:!0,alt:!0,class:!0}),u=o(l),v=n(l,"P",{class:!0});var t=c(v);x=i(t,P),t.forEach(h),E=o(l),y=n(l,"DIV",{class:!0});var r=c(y);w=n(r,"P",{});var f=c(w);D=i(f,"Games played:\r\n                                                "),I=n(f,"B",{class:!0});var d=c(I);b=i(d,G),d.forEach(h),V=i(f,"\r\n                                                /8"),f.forEach(h),r.forEach(h),$=o(l),l.forEach(h),this.h()},h(){a.src!==(d="/assets/CharactersBanners/"+s[15].legends+".png")&&f(a,"src",d),f(a,"alt",p=s[15].legends),f(a,"class","block"),f(v,"class","player-name text-3xl svelte-agtwr1"),f(I,"class","svelte-agtwr1"),f(y,"class","stats text-xl bottom-5\r\n                                        text-ultra-light svelte-agtwr1"),f(e,"class","ffa-player card lg:mr-12 mb-8 svelte-agtwr1")},m(s,l){g(s,e,l),m(e,a),m(e,u),m(e,v),m(v,x),m(e,E),m(e,y),m(y,w),m(w,D),m(w,I),m(I,b),m(w,V),m(e,$)},p(s,e){16&e&&a.src!==(d="/assets/CharactersBanners/"+s[15].legends+".png")&&f(a,"src",d),16&e&&p!==(p=s[15].legends)&&f(a,"alt",p),16&e&&P!==(P=s[15].username+"")&&k(x,P),16&e&&G!==(G=s[15].gamesPlayed+"")&&k(b,G)},d(s){s&&h(e)}}}function cs(s){let e,a,l,r,n;const c=[S,K],i=[];function f(s,e){return s[5]?0:1}return a=f(s),l=i[a]=c[a](s),{c(){e=t(),l.c(),r=u(),this.h()},l(s){x('[data-svelte="svelte-y6pzc3"]',document.head).forEach(h),e=o(s),l.l(s),r=u(),this.h()},h(){document.title="Winhalla | FFA match"},m(s,l){g(s,e,l),i[a].m(s,l),g(s,r,l),n=!0},p(s,[e]){let t=a;a=f(s),a===t?i[a].p(s,e):(I(),E(i[t],1,1,()=>{i[t]=null}),y(),l=i[a],l||(l=i[a]=c[a](s),l.c()),w(l,1),l.m(r.parentNode,r))},i(s){n||(w(l),n=!0)},o(s){E(l),n=!1},d(s){s&&h(e),i[a].d(s),s&&h(r)}}}async function os({params:s}){return{id:s.id}}function is(s,e,a){let l,t,r,n,c,o,i,{id:h}=e;D(async()=>{b.subscribe(s=>{l=s.content})();try{l=await l,l=l.steam,a(0,t=await V("get","/getMatch/"+h)),a(1,r=t.finished),f();const s=new Date(c.joinDate);!function(s){let e,l,t,r=s;setInterval((function(){t=Math.floor(r%60),l=Math.floor(r/60%60),e=Math.floor(r/3600),l=l<10?"0"+l:l,t=t<10?"0"+t:t,a(2,n=e+":"+l+":"+t),--r<0&&(r=s)}),1e3)}(-((new Date).getTime()-new Date(s.setHours(s.getHours()+3)).getTime())/1e3),b.set({refresh:!0})}catch(s){s.response&&(400===s.response.status&&s.response.data.includes("Play at least one ranked")?a(5,i="You have to play a ranked game before using the site (1v1 or 2v2 doesn't matter)"):400===s.response.status&&s.response.data.includes("Play at least one")&&a(5,i="You have to download brawlhalla and play at least a game (or you are logged in with the wrong account)"))}});const f=()=>{a(3,c=t.players.find(s=>s.steamId===parseInt(l.id))),a(4,o=[...t.players]),o.splice(t.players.findIndex(s=>s.steamId===parseInt(l.id)),1)};let d=!1;const g=async()=>{
//! err ici ?
a(6,d=!0);let s=c.gamesPlayed;a(0,t=await V("get","/getMatch/"+h)),f(),c.gamesPlayed!==s?b.set({refresh:!0}):t.finished&&!1===r&&(a(1,r=!0),b.set({refresh:!0})),a(6,d=!1)},m=async()=>{console.log("quit"),await V("post","/exitMatch"),$("/play")};return s.$$set=s=>{"id"in s&&a(9,h=s.id)},[t,r,n,c,o,i,d,g,m,h,()=>g(),()=>m()]}export default class extends s{constructor(s){super(),e(this,s,is,cs,a,{id:9})}}export{os as preload};
