import{_ as t,a as n,b as e,c as a,i as r,d as s,S as c,s as o,x as i,y as u,z as l,A as f,B as h,C as d,f as p,e as m,t as v,q as x,j as g,k as E,h as y,l as b,m as I,n as w,M as k,p as D,o as z,N as V,O as $,D as A,E as L,P as C,F as P,G as T,H as M,v as N,w as R,J as j,K as B,I as S,g as _}from"./client.2433cde0.js";function H(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,s=n(t);if(a){var c=n(this).constructor;r=Reflect.construct(s,arguments,c)}else r=s.apply(this,arguments);return e(this,r)}}function O(t){var n,e;return n=new T({props:{pushError:t[2],message:"There was an error creating your account",type:"createAccount"}}),{c:function(){i(n.$$.fragment)},l:function(t){u(n.$$.fragment,t)},m:function(t,a){l(n,t,a),e=!0},p:function(t,e){var a={};4&e&&(a.pushError=t[2]),n.$set(a)},i:function(t){e||(f(n.$$.fragment,t),e=!0)},o:function(t){h(n.$$.fragment,t),e=!1},d:function(t){d(n,t)}}}function U(t){var n,e;return{c:function(){n=m("p"),e=v("INVALID EMAIL"),this.h()},l:function(t){n=y(t,"P",{class:!0});var a=b(n);e=I(a,"INVALID EMAIL"),a.forEach(g),this.h()},h:function(){w(n,"class","text-legendary info  svelte-1lk8p62")},m:function(t,a){D(t,n,a),z(n,e)},d:function(t){t&&g(n)}}}function q(t){var n,e,a,r,s,c;return{c:function(){n=m("div"),e=_("svg"),a=_("path"),r=p(),s=m("p"),c=v("VALID EMAIL"),this.h()},l:function(t){n=y(t,"DIV",{class:!0});var o=b(n);e=y(o,"svg",{class:!0,viewBox:!0,xmlns:!0},1);var i=b(e);a=y(i,"path",{d:!0},1),b(a).forEach(g),i.forEach(g),r=E(o),s=y(o,"P",{class:!0});var u=b(s);c=I(u,"VALID EMAIL"),u.forEach(g),o.forEach(g),this.h()},h:function(){w(a,"d","m0 10.909 4.364-4.364 8.727 8.727\r\n                                        15.273-15.273 4.364 4.364-19.636 19.636z"),w(e,"class","fill-current text-green w-4 check svelte-1lk8p62"),w(e,"viewBox","0 0 33 24"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(s,"class","text-green info svelte-1lk8p62"),w(n,"class","flex items-center")},m:function(t,o){D(t,n,o),z(n,e),z(e,a),z(n,r),z(n,s),z(s,c)},d:function(t){t&&g(n)}}}function F(t){var n,e,a,r,s,c,o,i,u,l,d,P,T,N,R,j,B,S,_,H,F,G,J,K=t[2]&&O(t);function W(t,n){return t[1]?q:0==t[1]?U:void 0}var Y=W(t),Q=Y&&Y(t);return{c:function(){n=p(),e=m("div"),K&&K.c(),a=p(),r=m("div"),s=m("div"),c=m("div"),o=m("h1"),i=v("Change your email"),u=p(),l=m("div"),d=m("p"),P=v("Email"),T=p(),N=m("div"),R=m("input"),j=p(),Q&&Q.c(),B=p(),S=m("button"),_=v("Change emails"),this.h()},l:function(t){x('[data-svelte="svelte-1r944zp"]',document.head).forEach(g),n=E(t),e=y(t,"DIV",{});var f=b(e);K&&K.l(f),a=E(f),r=y(f,"DIV",{class:!0});var h=b(r);s=y(h,"DIV",{class:!0});var p=b(s);c=y(p,"DIV",{class:!0});var m=b(c);o=y(m,"H1",{class:!0});var v=b(o);i=I(v,"Change your email"),v.forEach(g),m.forEach(g),u=E(p),l=y(p,"DIV",{class:!0});var w=b(l);d=y(w,"P",{class:!0});var k=b(d);P=I(k,"Email"),k.forEach(g),T=E(w),N=y(w,"DIV",{});var D=b(N);R=y(D,"INPUT",{type:!0,placeholder:!0,class:!0}),j=E(D),Q&&Q.l(D),D.forEach(g),w.forEach(g),B=E(p),S=y(p,"BUTTON",{disabled:!0,class:!0});var z=b(S);_=I(z,"Change emails"),z.forEach(g),p.forEach(g),h.forEach(g),f.forEach(g),this.h()},h:function(){document.title="Change email | Winhalla",w(o,"class","text-6xl mb-6 md:mb-8 leading-snug\r\n                        md:leading-normal"),w(c,"class","text-center md:text-left mt-7 md:mt-12"),w(d,"class","input-header svelte-1lk8p62"),w(R,"type","email"),w(R,"placeholder","Your email goes here"),w(R,"class","input-style focus:outline-none\r\n                            focus:border-primary placeholder-disabled svelte-1lk8p62"),k(R,"border-legendary",0==t[1]),w(l,"class","md:mt-4"),S.disabled=H=!t[1],w(S,"class","button button-brand mt-3 svelte-1lk8p62"),k(S,"mt-11",null==t[1]),w(s,"class","flex flex-col justify-center px-5 md:p-0"),w(r,"class","flex items-center justify-center md:h-screen-7")},m:function(f,h){D(f,n,h),D(f,e,h),K&&K.m(e,null),z(e,a),z(e,r),z(r,s),z(s,c),z(c,o),z(o,i),z(s,u),z(s,l),z(l,d),z(d,P),z(l,T),z(l,N),z(N,R),V(R,t[0]),z(N,j),Q&&Q.m(N,null),z(s,B),z(s,S),z(S,_),F=!0,G||(J=[$(R,"keydown",t[3]),$(R,"input",t[5]),$(S,"click",t[4])],G=!0)},p:function(t,n){var r=A(n,1)[0];t[2]?K?(K.p(t,r),4&r&&f(K,1)):((K=O(t)).c(),f(K,1),K.m(e,a)):K&&(M(),h(K,1,1,(function(){K=null})),L()),1&r&&R.value!==t[0]&&V(R,t[0]),2&r&&k(R,"border-legendary",0==t[1]),Y!==(Y=W(t))&&(Q&&Q.d(1),(Q=Y&&Y(t))&&(Q.c(),Q.m(N,null))),(!F||2&r&&H!==(H=!t[1]))&&(S.disabled=H),2&r&&k(S,"mt-11",null==t[1])},i:function(t){F||(f(K),F=!0)},o:function(t){h(K),F=!1},d:function(t){t&&g(n),t&&g(e),K&&K.d(),Q&&Q.d(),G=!1,C(J)}}}function G(t,n,e){var a,r,s,c=!1;function o(){return(o=N(R.mark((function t(){var n;return R.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S("patch","/auth/changeEmail?email=".concat(a));case 3:if(!((n=t.sent)instanceof Error)){t.next=6;break}throw n;case 6:B("/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e(2,r=t.t0.response.data.message?t.t0.response.data.message:t.t0.response.data?t.t0.response.data.toString():t.t0.toString()),setTimeout((function(){e(2,r=void 0)}),8e3);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return P((function(){j.subscribe(function(){var t=N(R.mark((function t(n){return R.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(s=n.content).then?s.then((function(t){t.user||B("/")})):s&&(s.user||B("/"));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())()})),[a,c,r,function(){setTimeout(N(R.mark((function t(){var n;return R.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/gm.exec(a),e(1,c=!!n);case 3:case"end":return t.stop()}}),t)}))),1)},function(){return o.apply(this,arguments)},function(){a=this.value,e(0,a)}]}var J=function(n){t(i,c);var e=H(i);function i(t){var n;return a(this,i),n=e.call(this),r(s(n),t,G,F,o,{}),n}return i}();export default J;
