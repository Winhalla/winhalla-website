import{_ as t,a as n,b as e,c as a,i as r,d as s,S as c,s as o,z as i,A as u,B as l,C as f,D as h,E as m,f as d,e as v,t as x,q as p,j as g,k as b,h as y,l as E,m as I,n as w,O as D,p as z,o as V,P as $,Q as j,F as A,G as L,R as k,H as q,I as T,J as C,L as P,x as R,y as M,M as B,K as N,g as S}from"./client.6f17d460.js";function _(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,s=n(t);if(a){var c=n(this).constructor;r=Reflect.construct(s,arguments,c)}else r=s.apply(this,arguments);return e(this,r)}}function H(t){var n,e;return n=new T({props:{pushError:t[2],message:"There was an error creating your account",type:"createAccount"}}),{c:function(){i(n.$$.fragment)},l:function(t){u(n.$$.fragment,t)},m:function(t,a){l(n,t,a),e=!0},p:function(t,e){var a={};4&e&&(a.pushError=t[2]),n.$set(a)},i:function(t){e||(f(n.$$.fragment,t),e=!0)},o:function(t){h(n.$$.fragment,t),e=!1},d:function(t){m(n,t)}}}function O(t){var n,e;return{c:function(){n=v("p"),e=x("INVALID EMAIL"),this.h()},l:function(t){n=y(t,"P",{class:!0});var a=E(n);e=I(a,"INVALID EMAIL"),a.forEach(g),this.h()},h:function(){w(n,"class","text-legendary info  svelte-cmjbqm")},m:function(t,a){z(t,n,a),V(n,e)},d:function(t){t&&g(n)}}}function U(t){var n,e,a,r,s,c;return{c:function(){n=v("div"),e=S("svg"),a=S("path"),r=d(),s=v("p"),c=x("VALID EMAIL"),this.h()},l:function(t){n=y(t,"DIV",{class:!0});var o=E(n);e=y(o,"svg",{class:!0,viewBox:!0,xmlns:!0},1);var i=E(e);a=y(i,"path",{d:!0},1),E(a).forEach(g),i.forEach(g),r=b(o),s=y(o,"P",{class:!0});var u=E(s);c=I(u,"VALID EMAIL"),u.forEach(g),o.forEach(g),this.h()},h:function(){w(a,"d","m0 10.909 4.364-4.364 8.727 8.727\r\n                                        15.273-15.273 4.364 4.364-19.636 19.636z"),w(e,"class","fill-current text-green w-4 check svelte-cmjbqm"),w(e,"viewBox","0 0 33 24"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(s,"class","text-green info svelte-cmjbqm"),w(n,"class","flex items-center")},m:function(t,o){z(t,n,o),V(n,e),V(e,a),V(n,r),V(n,s),V(s,c)},d:function(t){t&&g(n)}}}function F(t){var n,e,a,r,s,c,o,i,u,l,m,q,T,P,R,M,B,N,S,_,F,G,J,K=t[2]&&H(t);function Q(t,n){return t[1]?U:!1===t[1]?O:void 0}var W=Q(t),X=W&&W(t);return{c:function(){n=d(),e=v("div"),K&&K.c(),a=d(),r=v("div"),s=v("div"),c=v("div"),o=v("h1"),i=x("Change your email"),u=d(),l=v("div"),m=v("p"),q=x("Email"),T=d(),P=v("div"),R=v("input"),M=d(),X&&X.c(),B=d(),N=v("button"),S=x("Change email"),this.h()},l:function(t){p('[data-svelte="svelte-1r944zp"]',document.head).forEach(g),n=b(t),e=y(t,"DIV",{});var f=E(e);K&&K.l(f),a=b(f),r=y(f,"DIV",{class:!0});var h=E(r);s=y(h,"DIV",{class:!0});var d=E(s);c=y(d,"DIV",{class:!0});var v=E(c);o=y(v,"H1",{class:!0});var x=E(o);i=I(x,"Change your email"),x.forEach(g),v.forEach(g),u=b(d),l=y(d,"DIV",{class:!0});var w=E(l);m=y(w,"P",{class:!0});var D=E(m);q=I(D,"Email"),D.forEach(g),T=b(w),P=y(w,"DIV",{});var z=E(P);R=y(z,"INPUT",{type:!0,placeholder:!0,class:!0}),M=b(z),X&&X.l(z),z.forEach(g),w.forEach(g),B=b(d),N=y(d,"BUTTON",{disabled:!0,class:!0});var V=E(N);S=I(V,"Change email"),V.forEach(g),d.forEach(g),h.forEach(g),f.forEach(g),this.h()},h:function(){document.title="Change email | Winhalla",w(o,"class","text-6xl mb-6 md:mb-8 leading-snug\r\n                        md:leading-normal"),w(c,"class","text-center md:text-left mt-7 md:mt-12"),w(m,"class","input-header svelte-cmjbqm"),w(R,"type","email"),w(R,"placeholder","Type here your new email"),w(R,"class","input-style focus:outline-none\r\n                            focus:border-primary placeholder-disabled svelte-cmjbqm"),D(R,"border-legendary",!1===t[1]),w(l,"class","md:mt-4"),N.disabled=_=!t[1],w(N,"class","button button-brand mt-3 svelte-cmjbqm"),D(N,"mt-11",null==t[1]),w(s,"class","flex flex-col justify-center px-5 md:p-0"),w(r,"class","flex items-center justify-center md:h-screen-7")},m:function(f,h){z(f,n,h),z(f,e,h),K&&K.m(e,null),V(e,a),V(e,r),V(r,s),V(s,c),V(c,o),V(o,i),V(s,u),V(s,l),V(l,m),V(m,q),V(l,T),V(l,P),V(P,R),$(R,t[0]),V(P,M),X&&X.m(P,null),V(s,B),V(s,N),V(N,S),F=!0,G||(J=[j(R,"keydown",t[3]),j(R,"input",t[5]),j(N,"click",t[4])],G=!0)},p:function(t,n){var r=A(n,1)[0];t[2]?K?(K.p(t,r),4&r&&f(K,1)):((K=H(t)).c(),f(K,1),K.m(e,a)):K&&(C(),h(K,1,1,(function(){K=null})),L()),1&r&&R.value!==t[0]&&$(R,t[0]),2&r&&D(R,"border-legendary",!1===t[1]),W!==(W=Q(t))&&(X&&X.d(1),(X=W&&W(t))&&(X.c(),X.m(P,null))),(!F||2&r&&_!==(_=!t[1]))&&(N.disabled=_),2&r&&D(N,"mt-11",null==t[1])},i:function(t){F||(f(K),F=!0)},o:function(t){h(K),F=!1},d:function(t){t&&g(n),t&&g(e),K&&K.d(),X&&X.d(),G=!1,k(J)}}}function G(t,n,e){var a,r,s,c=null;function o(){return(o=R(M.mark((function t(){var n;return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N("patch","/auth/changeEmail?email=".concat(a));case 3:if(!((n=t.sent)instanceof Error)){t.next=6;break}throw n;case 6:B("/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e(2,r=t.t0.response.data.message?t.t0.response.data.message:t.t0.response.data?t.t0.response.data.toString():t.t0.toString()),setTimeout((function(){e(2,r=void 0)}),8e3);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return q((function(){P.subscribe(function(){var t=R(M.mark((function t(n){return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(s=n.content).then?s.then((function(t){t.user||B("/")})):s&&(s.user||B("/"));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())()})),[a,c,r,function(){setTimeout((function(){if(a.length>0){var t=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/gm.exec(a);e(1,c=!!t)}else e(1,c=null)}),1)},function(){return o.apply(this,arguments)},function(){a=this.value,e(0,a)}]}var J=function(n){t(i,c);var e=_(i);function i(t){var n;return a(this,i),n=e.call(this),r(s(n),t,G,F,o,{}),n}return i}();export default J;
